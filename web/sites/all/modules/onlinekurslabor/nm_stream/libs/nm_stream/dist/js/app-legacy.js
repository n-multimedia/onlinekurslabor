(function(){var t={46700:function(t,e,n){var a={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function s(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id=46700},89058:function(t,e,n){"use strict";n(66992),n(88674),n(19601),n(17727);var a,s,i,o,r=n(20144),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"stream-wrapper"}},[t.containerNID>0?n("stream-list",{attrs:{containernid:t.containerNID,aggregated:!1}}):n("stream-list-aggregated")],1)},c=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"stream-list"}},[n("transition",{attrs:{name:"fade"}},[t.initialized&&!t.aggregated?n("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),n("pulse-loader",{attrs:{loading:!t.initialized||t.getbusyLoading(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),t.initialized&&t.containernid>0&&t.streamOptions.permissions.canCreatePost?n("stream-post-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.getMentionMembers(t.streamOptions.contextNID)},on:{"stream-post-added":t.addPost}}):t._e(),t.initialized&&0==t.sortedPosts.length?n("div",[t._v(" "+t._s(t.$t("empty.no_posts_found"))+" ")]):t._e(),t.initialized?n("div",[n("transition-group",{attrs:{name:"list"}},t._l(t.sortedPosts,(function(e){return n("stream-post",{key:e.nid+e.changed,attrs:{post:t.getPost(t.containernid,e.nid),streamOptions:t.getStreamOptionsContainer(t.containernid),mentionMembers:t.getMentionMembers(e.context.nid)}})})),1)],1):t._e(),n("br"),t.aggregated||t.getbusyLoadingMore(t.containernid)?t._e():n("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),n("pulse-loader",{attrs:{loading:!t.getbusyLoading(t.containernid)&&t.getbusyLoadingMore(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),n("br"),t.getMaxPostsLimitReached(t.containernid)||t.getbusyLoadingMore(t.containernid)?t._e():n("div",{staticClass:"load-more-wrapper"},[n("button",{on:{click:function(e){return t.loadMore(t.containernid)}}},[t._v(t._s(t.$t("label.load_more")))])])],1)},u=[],m=n(93019),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-flip",attrs:{id:"streamNode-"+t.post.nid}},[n("div",{staticClass:"flip"},[n("div",{staticClass:"front"},[n("div",{staticClass:"stream-post card"},[t.streamOptions.containerNID!==t.post.container.nid?n("div",{staticClass:"row post-context"},[n("div",{staticClass:"col-12"},[n("span",{staticClass:"float-right"},[t._v(" "+t._s(t.$t("label.postContextFrom"))+": "),n("a",{attrs:{href:t.streamLink}},[t._v(t._s(this.post.container.title))])])])]):t._e(),n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.post.user.avatarUrl,title:t.post.user.name}})]),n("div",{staticClass:"col-10"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 post-header"},[null!==this.privacy?n("div",{staticClass:"post-privacy-wrapper float-right"},[n("img",{staticClass:"post-privacy",attrs:{src:t.privacy.img,alt:t.privacy.title,title:t.privacy.title}})]):t._e(),1==t.post.sticky?n("div",{staticClass:"post-sticky",attrs:{title:t.$t("plugins.sticky.status_title")}},[n("font-awesome-icon",{attrs:{icon:["fa","anchor"]}})],1):t._e(),t.canEdit||t.canDelete?n("div",[n("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?n("b-dropdown-item",{on:{click:t.editPost}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?n("b-dropdown-item",{on:{click:t.deletePost}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),n("div",{staticClass:"username"},[n("a",{attrs:{href:t.post.user.profileUrl}},[t._v(t._s(t.post.user.name))])]),n("div",{staticClass:"created"},[n("font-awesome-icon",{attrs:{icon:["far","clock"]}}),n("span",{attrs:{title:t._f("moment")(t.post.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.post.created,"from")))]),t.post.changed!=t.post.created?n("span",{attrs:{title:t._f("moment")(t.post.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 body"},[n("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.post.body_formatted)}}),t.post.poll?n("plugin-poll-view",t._b({key:t.pollViewRenderOnceKey,on:{addvote:t.pollAddVote}},"plugin-poll-view",t.post.poll,!1)):t._e()],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.post.attachments.length>0?n("div",{staticClass:"stream-post-attachments"},[n("font-awesome-icon",{attrs:{icon:["far","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),n("ul",t._l(t.post.attachments,(function(e){return n("li",{key:e.fid},[n("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?n("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(n){return n.preventDefault(),t.onAttachmentDeleteConf(e)}}},[n("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])})),0)],1):t._e(),t.sortedComments.length>0?n("div",{staticClass:"stream-post-footer"},[n("div",[t.showComments?n("a",{key:"false",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showComments=!t.showComments}}},[t._v(t._s(t.$t("link.hide_x_comments",{count:t.sortedComments.length})))]):n("a",{key:"true",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleComments.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("link.show_x_comments",{count:t.sortedComments.length}))+" ")])])]):t._e()])])])]),n("div",{staticClass:"row comments-wrapper"},[n("div",{staticClass:"col-10 offset-2"},[t.canCreateComment?n("stream-comment-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.mentionMembers,post:t.post},on:{"stream-user-added":t.addUser,"stream-comment-added":t.addComment}}):t._e(),n("transition",{attrs:{name:"fade"}},[t.sortedComments.length>0&&!0===t.showComments?n("div",[n("transition-group",{attrs:{name:"list"}},t._l(t.sortedComments,(function(e){return n("stream-comment",{key:e.cid+e.changed,attrs:{streamOptions:t.streamOptions,comment:e,mentionMembers:t.mentionMembers,user:e.user},on:{"stream-comment-updated":t.updateComment}})})),1)],1):t._e()])],1)])])]),n("div",{ref:"backEdit",staticClass:"back-edit"},[n("div",{staticClass:"stream-post card"},[n(t.streamPostFormComponent,{ref:"streamPostForm",tag:"component",attrs:{streamOptions:t.streamOptions,editPost:t.post,mentionMembers:t.mentionMembers},on:{"form-edit-canceled":function(e){return t.editCanceled()},"post-form-onAttachmentDeleteConf":t.onAttachmentDeleteConf}})],1)]),n("div",{ref:"backDelete",staticClass:"back-delete"},[n("div",{staticClass:"stream-post card"},[n("h3",[t._v(t._s(t.$t("warning.delete_post_really_want_to")))]),n("br"),n("p",[t._v(" "+t._s(t.$t("warning.delete_post_action_cannot_be_undone"))+" ")]),n("br"),n("div",{staticClass:"float-right"},[n("button",{staticClass:"btn btn-outline-danger float-right",on:{click:t.onDeleteSubmit}},[t._v(t._s(t.$t("button.delete"))+" ")]),n("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:t.onDeleteCancel}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])]),n("b-modal",{ref:"postDeleteAttachmentConf",attrs:{id:"bv-modal-delete-attachment",centered:"","hide-footer":"",title:t.$t("label.attachment_delete")}},[n("div",{staticClass:"d-block text-center"},[t._v(" "+t._s(t.$t("warning.delete_attachment_really_want_to"))+" "),n("br"),n("br")]),n("b-button",{staticClass:"mt-3",attrs:{variant:"",block:""},on:{click:t.hideModal}},[t._v(t._s(t.$t("button.cancel")))]),n("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:""},on:{click:function(e){return t.onAttachmentDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")])],1)],1)},h=[],f=n(16198),v=(n(35666),n(57327),n(41539),n(29254),n(74916),n(15306),n(34553),n(40561),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-flip"},[n("div",{staticClass:"flip"},[n("div",{staticClass:"front"},[n("div",{staticClass:"stream-comment card"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.user.avatarUrl,title:t.user.name}})]),n("div",{staticClass:"col-10"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.canEdit||t.canDelete?n("div",[n("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?n("b-dropdown-item",{on:{click:t.editComment}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?n("b-dropdown-item",{on:{click:t.deleteComment}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),n("div",{staticClass:"username"},[n("a",{attrs:{href:t.user.profileUrl}},[t._v(t._s(t.user.name))])]),n("div",{staticClass:"created"},[n("font-awesome-icon",{attrs:{icon:["far","clock"]}}),n("span",{attrs:{title:t._f("moment")(t.comment.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.comment.created,"from")))]),t.comment.changed!=t.comment.created?n("span",{attrs:{title:t._f("moment")(t.comment.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 body"},[n("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.comment.body_formatted)}})])])])])])]),n("div",{ref:"backEdit",staticClass:"back-edit"},[n("div",{staticClass:"stream-comment card"},[n("stream-comment-form",{ref:"streamCommentForm",attrs:{streamOptions:t.streamOptions,editComment:t.comment,mentionMembers:t.mentionMembers},on:{"stream-comment-updated":t.updateComment,"form-edit-canceled":function(e){return t.editCanceled()}}})],1)]),n("div",{ref:"backDelete",staticClass:"back-delete"},[n("div",{staticClass:"stream-post card"},[n("h4",[t._v(t._s(t.$t("warning.delete_comment_really_want_to")))]),n("br"),n("p",[t._v(" "+t._s(t.$t("warning.delete_comment_action_cannot_be_undone"))+" ")]),n("div",{staticClass:"float-right"},[n("button",{staticClass:"btn btn-outline-danger float-right",on:{click:function(e){return t.onDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")]),n("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:function(e){return t.onDeleteCancel()}}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])])])}),g=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stream-comment-form card"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("transition",{attrs:{name:"fade"}},[t.formActive?n("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),n("div",{staticClass:"col-10"},[n("stream-textarea",{attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_comment_message")},on:{save:t.saveComment,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),n("transition",{attrs:{name:"fade"}},[n("div",{key:t.formActive,staticClass:"row stream-action-2"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row"},[t.formActive?n("div",{staticClass:"col-12 action-buttons"},[n("button",{staticClass:"btn btn-outline-primary stream-comment-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.saveComment}},[t._v(t._s(t.$t("button.post"))+" ")]),n("button",{staticClass:"btn btn-outline-secondary stream-comment-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")]),n("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])])])])],1)])])},b=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("at-ta",{attrs:{members:t.mentionMembers,"name-key":"name"},on:{at:t.atChanged},scopedSlots:t._u([{key:"item",fn:function(e){return[n("img",{staticClass:"rounded-circle",attrs:{src:e.item.avatar}}),n("span",{domProps:{textContent:t._s(e.item.realname)}})]}}])},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localBodyText,expression:"localBodyText"},{name:"model",rawName:"v-model.lazy",value:t.localBodyText,expression:"localBodyText",modifiers:{lazy:!0}}],staticClass:"stream-textbody",attrs:{name:"body",disabled:t.busyLoading,placeholder:t.textareaPlaceholder},domProps:{value:t.localBodyText,value:t.localBodyText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escPressed.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOnCtrlEnter.apply(null,arguments)}],focus:function(e){t.localFormActive=!0},input:function(e){e.target.composing||(t.localBodyText=e.target.value)},change:function(e){t.localBodyText=e.target.value}}})])},_=[],D=n(38741),x=n.n(D),w={name:"StreamTextarea",components:{AtTa:x()},props:["mentionMembers","textareaPlaceholder","busyLoading","formActive","bodyText"],data:function(){return{localBodyText:this.bodyText,localFormActive:this.formActive}},methods:{atChanged:function(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},escPressed:function(){0===this.bodyText.length&&this.$emit("reset")},submitOnCtrlEnter:function(t){t.ctrlKey&&this.$emit("save")}},watch:{bodyText:function(t){this.localBodyText=t},formActive:function(t){this.localFormActive=t},localBodyText:function(t,e){this.$emit("changeBody",t,e)},localFormActive:function(t,e){this.$emit("changeFormActive",t,e)}}},k=w,P=n(1001),$=(0,P.Z)(k,C,_,!1,null,null,null),S=$.exports,O={props:["streamOptions","post","editComment","mentionMembers"],name:"stream-comment-form",components:{StreamTextarea:S},methods:{atChanged:function(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizeCommentFormContainer()},resizeCommentFormContainer:function(){this.editComment&&(this.$parent.$el.querySelector(".stream-comment").style.height=150+this.$el.querySelector("textarea").scrollHeight+"px")},saveComment:function(){var t=this;this.busyLoading=!0;var e=this,n={};if(n.body=this.bodyText,this.editComment){var a=this.$config.get("api.apiCommentUpdateUrl").replace("%comment",this.editComment.cid).replace("%token",this.streamOptions.token);r["default"].axios.post(a,n,{withCredentials:!0}).then((function(n){e.resetForm(),1===n.data.status?(e.editComment.body_formatted=n.data.commentData.body_formatted,e.editComment.body=n.data.commentData.body,e.editComment.changed=n.data.commentData.changed,e.$emit("stream-comment-updated",e.editComment),e.resetForm()):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var s=this.$config.get("api.apiCommentAddUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(s,n,{withCredentials:!0}).then((function(n){if(e.resetForm(),1===n.data.status){var a=n.data.commentData,s=n.data.userData;e.$emit("stream-comment-added",a),e.$emit("stream-user-added",s)}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},escPressed:function(){0===this.bodyText.length&&this.resetForm()},resetForm:function(){this.editComment?(this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-comment").style.height="auto"):(this.bodyText="",this.formActive=!1,this.$el.querySelector("textarea.stream-textbody").blur(),this.$el.querySelector("textarea.stream-textbody").style.height="auto"),this.busyLoading=!1},initializeComment:function(){var t=this;this.editComment&&(this.formActive=!0,this.bodyText=this.editComment.body,this.$nextTick((function(){t.resizeTextareaElement(t.$el.querySelector("textarea")),t.resizeCommentFormContainer()})))},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editComment&&(this.author=this.editComment.user)},changedBodyText:function(t){this.bodyText=t},changedFormActive:function(t){this.formActive=t}},mounted:function(){var t=this;this.$nextTick((function(){t.$el.setAttribute("style","height:"+t.$el.scrollHeight+"px;"),t.$el.addEventListener("input",t.resizeTextarea)})),this.updateAuthor()},beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{formActive:!1,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",author:null,bodyText:""}}},L=O,I=(0,P.Z)(L,y,b,!1,null,"0614ca28",null),z=I.exports,A={props:["streamOptions","comment","user","mentionMembers"],components:{StreamCommentForm:z},name:"stream-comment",data:function(){return{}},computed:{canEdit:function(){return this.comment.permissions.canEdit},canDelete:function(){return this.comment.permissions.canDelete}},methods:{editComment:function(){var t=this;this.$el.classList.add("flip-active"),setTimeout((function(){t.$refs.streamCommentForm.initializeComment(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide"),t.$refs.streamCommentForm.initializeComment()}),200)},deleteComment:function(){var t=this;setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},updateComment:function(t){this.$emit("stream-comment-updated",t)},onDelete:function(){var t=this,e=this,n=this.$config.get("api.apiCommentDeleteUrl").replace("%comment",this.comment.cid).replace("%token",this.streamOptions.token);r["default"].axios.get(n,{withCredentials:!0}).then((function(n){1===n.data.status?(t.$store.dispatch("deleteComment",{containerNID:t.streamOptions.containerNID,comment:e.comment}),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},editCanceled:function(){this.$el.classList.remove("flip-active")}}},j=A,T=(0,P.Z)(j,v,g,!1,null,"bce8561c",null),U=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stream-post-form card",on:{dragover:t.dragOver}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-2"},[n("transition",{attrs:{name:"fade"}},[t.formActive?n("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),t.currentPluginTemplate?n("div",{staticClass:"active-plugin-content col-10"},[n("keep-alive",[n(t.currentPluginTemplate,{tag:"component",attrs:{param1:t.poll},on:{dialogSubmit:function(e){return t.pluginSubmitDialog(e)},dialogClose:function(e){return t.pluginCloseDialog()}}})],1)],1):t._e(),t.currentPluginTemplate?t._e():n("div",{staticClass:"col-10"},[n("stream-textarea",{ref:"streamTextarea",attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_post_message")},on:{save:t.savePost,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),t.formActive?n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 plugins"},[t.canSetSticky?n("plugin-sticky",{attrs:{param1:t.stickyValue},on:{interface:function(e){t.stickyValue=e}}}):t._e(),n("plugin-poll",{attrs:{param1:t.poll},on:{interface:function(e){t.currentPluginTemplate=e}}})],1)]):t._e(),n("div",{staticClass:"row stream-action-1"},[n("transition",{attrs:{name:"fade"}},[t.formActive?n("div",{key:t.formActive,staticClass:"col-12 stream-attachments"},[n("vue-dropzone",{ref:"vueDropZone",attrs:{id:"dropzone",options:t.dropzoneOptions,disabled:t.busyLoading},on:{"vdropzone-processing":t.dropzoneQueueProcess,"vdropzone-file-added":t.resizeDropArea,"vdropzone-error":t.dropzoneError,"vdropzone-success":t.vdropzoneSuccess,"vdropzone-queue-complete":t.queueCompleted}}),t.editPost&&t.editPost.attachments.length>0?n("div",{ref:"postAttachmentList",staticClass:"stream-post-attachments"},[n("font-awesome-icon",{attrs:{icon:["fa","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),t._l(t.editPost.attachments,(function(e){return n("div",{key:e.fid},[n("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?n("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(n){return n.preventDefault(),t.onAttachmentDeleteConf(e)}}},[n("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])}))],2):t._e(),n("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])],1),n("div",{staticClass:"row stream-action-2"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row"},[n("transition",{attrs:{name:"fade"}},[t.formActive?n("div",{key:t.formActive,staticClass:"col-12 action-buttons"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-5"},[n("stream-privacy-widget",{attrs:{privacyOptions:t.privacyOptions,privacyValue:t.privacyValue},on:{interface:function(e){t.privacyValue=e}}})],1),n("div",{staticClass:"col-7"},[n("button",{staticClass:"btn btn-outline-primary stream-post-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.savePost}},[t._v(t._s(t.$t("button.post"))+" ")]),n("button",{staticClass:"btn btn-outline-secondary stream-post-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])]):t._e()])],1)])])],1)])])},N=[],V=(n(88386),n(54747),n(31485)),F=n.n(V),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.privacyOptions.length>0?n("div",{staticClass:"stream-post-privacy-settings"},[n("multiselect",{attrs:{options:t.privacyOptions,"track-by":"value","option-height":104,searchable:!1,"show-labels":!1,"allow-empty":t.allowEmpty,placeholder:t.$t("button.select_privacy"),disabled:t.busyLoading},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[n("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title}}),n("span",{staticClass:"option__desc"},[n("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))])])]}},{key:"option",fn:function(e){return[n("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title,disabled:t.busyLoading}}),n("div",{staticClass:"option__desc"},[n("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))]),n("span",{staticClass:"option__small"},[t._v(t._s(e.option.desc))])])]}}],null,!1,1178984776),model:{value:t.localPrivacyValue,callback:function(e){t.localPrivacyValue=e},expression:"localPrivacyValue"}})],1):t._e()},R=[],B={name:"StreamPrivacyWidget",props:["privacyOptions","privacyValue"],data:function(){return{localPrivacyValue:this.privacyValue,busyLoading:null,allowEmpty:null}},watch:{privacyValue:function(){this.localPrivacyValue=this.privacyValue},localPrivacyValue:function(t){this.$emit("interface",t)}}},Z=B,q=(0,P.Z)(Z,E,R,!1,null,"8d8eefc8",null),W=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plugin plugin-abstract",class:t.name},[n("span",{staticClass:"plugin-toolbar-btn",class:{active:t.isActive},attrs:{title:t.title},on:{click:t.onClickCallback}},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1)])},Q=[],K=n(51436),G={props:["param1"],components:{},name:"plugin",data:function(){return{icon:K.ySZ,label:"Not implemented yet",title:"Not implemented yet",name:this.$options._componentTag}},computed:{isActive:function(){return!1}},methods:{onClickCallback:function(){alert("To be implemented")}}},J=G,X=(0,P.Z)(J,H,Q,!1,null,"4253a4ef",null),Y=X.exports,tt={extends:Y,name:"plugin-sticky",data:function(){return{icon:K.SJR,title:this.$t("plugins.sticky.title"),sticky:this.param1}},computed:{isActive:function(){return 1===this.sticky}},methods:{onClickCallback:function(){1===this.sticky?this.sticky=0:this.sticky=1,this.$emit("interface",this.sticky)}}},et=tt,nt=(0,P.Z)(et,a,s,!1,null,null,null),at=nt.exports,st={extends:Y,name:"plugin-poll",data:function(){return{icon:K.wD$,activePluginComponent:"",title:this.$t("plugins.poll.title"),editPoll:this.param1}},computed:{isActive:function(){return!!this.editPoll}},methods:{onClickCallback:function(){this.activePluginComponent="PluginPollCreator",this.$emit("interface",this.activePluginComponent)}},mounted:function(){}},it=st,ot=(0,P.Z)(it,i,o,!1,null,null,null),rt=ot.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row poll-wrapper"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row poll-title"},[n("div",{staticClass:"col-12"},[n("h4",[t._v(t._s(t.$t("plugins.poll.new_poll")))])])]),n("div",{staticClass:"row poll-container"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row poll-question"},[n("div",{staticClass:"col-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.question,expression:"poll.question"}],attrs:{type:"text",placeholder:t.$t("plugins.poll.your_question")},domProps:{value:t.poll.question},on:{input:function(e){e.target.composing||t.$set(t.poll,"question",e.target.value)}}})])]),n("div",{staticClass:"poll-answers"},[n("draggable",{attrs:{tag:"div",list:t.poll.answers,handle:".handle"}},t._l(t.poll.answers,(function(e,a){return n("div",{key:e.value,staticClass:"row"},[n("div",{staticClass:"col-10"},[n("i",{staticClass:"handle"},[n("span")]),n("span",{staticClass:"text"},[t._v(t._s(e.name)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.answers[a].text,expression:"poll.answers[index].text"}],ref:"PollAnswerOptions",refInFor:!0,attrs:{placeholder:t.$t("plugins.poll.answer")+" "+(a+1),type:"text"},domProps:{value:t.poll.answers[a].text},on:{input:[function(e){e.target.composing||t.$set(t.poll.answers[a],"text",e.target.value)},function(e){return t.createNewInput(a)}],focus:function(e){return t.createNewInput(a)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextInput(a)}}})]),n("div",{staticClass:"col-2"},[n("i",{staticClass:"close",on:{click:function(e){return t.deleteInput(a)}}})])])})),0)],1),n("div",{staticClass:"row poll-options"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"custom-control custom-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.multiple,expression:"poll.multiple"}],staticClass:"checked custom-control-input",attrs:{tabindex:"1",type:"checkbox",id:"cb-multiple-votes"},domProps:{checked:Array.isArray(t.poll.multiple)?t._i(t.poll.multiple,null)>-1:t.poll.multiple},on:{change:function(e){var n=t.poll.multiple,a=e.target,s=!!a.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);a.checked?o<0&&t.$set(t.poll,"multiple",n.concat([i])):o>-1&&t.$set(t.poll,"multiple",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.poll,"multiple",s)}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"cb-multiple-votes"}},[t._v(t._s(t.$t("plugins.poll.allow_multiple_votes")))])])])]),n("div",{staticClass:"row poll-options"},[n("div",{staticClass:"col-10"},[n("VueCtkDateTimePicker",{attrs:{tabindex:"1",locale:"$i18n.locale",label:t.$t("plugins.poll.pollEndDateLabel")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),n("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("plugins.poll.pollEndDateDescription")))])],1),n("div",{staticClass:"col-2"})]),n("div",{staticClass:"row poll-actions"},[n("div",{staticClass:"col-12"},[t.editPoll?n("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.save"))+" ")]):t._e(),t.editPoll?t._e():n("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.create"))+" ")]),n("button",{staticClass:"btn btn-outline-secondary",on:{click:t.closePoll}},[t._v(t._s(t.$t("plugins.poll.cancel"))+" ")]),n("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:!t.editPoll},on:{click:t.deletePoll}},[t._v(t._s(t.$t("plugins.poll.delete"))+" ")])])])])])])])},ct=[],dt=(n(21249),n(9980)),ut=n.n(dt),mt={name:"plugin-poll-creator",components:{draggable:ut()},props:{savePollUrl:{type:String},demo:{type:Boolean,default:!1},param1:{type:Object,default:null}},data:function(){return{poll:{question:"",answers:[{value:0,text:""},{value:1,text:""},{value:2,text:""}],multiple:!1},isValid:!1,success:null,editPoll:null,endDate:null}},mounted:function(){this.param1&&(this.poll=this.param1,this.endDate=this.param1.endDate?this.param1.endDate:null,this.editPoll=this.poll),0===this.poll.answers.length&&this.addEntry("")},methods:{addEntry:function(t){var e=Math.max.apply(Math,this.poll.answers.map((function(t){return t.value})));this.poll.answers.push({value:e+1,text:t})},createNewInput:function(t,e){this.poll.answers.length-1===t&&(e||this.poll.answers[t].text)&&this.addEntry("")},deleteInput:function(t){(t>0||this.poll.answers.length>1)&&this.poll.answers.splice(t,1)},nextInput:function(t){var e=this;this.poll.answers.length-1===t&&this.createNewInput(t,!0),setTimeout((function(){e.$refs.PollAnswerOptions[t+1].focus()}),10)},closePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogClose")},deletePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogSubmit",null),this.closePoll()},createPoll:function(){if(this.validate(),this.isValid){this.poll.answers=this.poll.answers.filter((function(t){if(t.text.length>0)return t}));var t={multiple:this.poll.multiple,question:this.poll.question,endDate:this.endDate,answers:[]};this.poll.answers.forEach((function(e){var n={value:e.value,text:e.text,votes:0,selected:!1};t.answers.push(n)})),this.$emit("dialogSubmit",t),this.$root.$emit("plugins:poll:creator:save",t),this.closePoll()}else this.alert(!1)},resetPoll:function(){this.poll.multiple=!1,this.poll.answers=[],this.addEntry(""),this.addEntry(""),this.addEntry(""),this.poll.question="",this.isValid=!1},validate:function(){var t=this.poll.answers.filter((function(t){if(t.text.length>0)return t})),e=t.length;return this.isValid=e>0,this.isValid},resetEndDate:function(){this.endDate=null},alert:function(t){var e=this;this.success=t,setTimeout((function(){e.success=null}),3e3)}}},pt=mt,ht=(0,P.Z)(pt,lt,ct,!1,null,"58ec50ba",null),ft=ht.exports,vt={props:["streamOptions","editPost","mentionMembers"],name:"stream-post-form",components:{StreamPrivacyWidget:W,vueDropzone:F(),PluginSticky:at,PluginPoll:rt,PluginPollCreator:ft,StreamTextarea:S},methods:{resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizePostFormContainer()},resizePostFormContainer:function(){if(this.editPost&&this.$refs.vueDropZone){var t=parseFloat(this.$refs.vueDropZone.$el.style.height),e=0;this.$refs.postAttachmentList&&(e=parseFloat(this.$refs.postAttachmentList.clientHeight)),this.$refs.streamTextarea&&(this.$parent.$el.querySelector(".stream-post").style.height=170+t+e+this.$refs.streamTextarea.$el.querySelector("textarea").scrollHeight+"px")}this.currentPluginTemplate&&(this.$parent.$el.querySelector(".stream-post").style.height=90+this.$el.querySelector(".active-plugin-content").offsetHeight+"px")},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},savePost:function(){var t=this;this.busyLoading=!0;var e=this,n={};if(n.body=this.bodyText,n.privacy=this.privacyValue.value,n.sticky=this.stickyValue,n.poll=this.poll?this.poll:void 0,this.editPost){var a=this.$config.get("api.apiPostUpdateUrl").replace("%node",this.editPost.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(a,n,{withCredentials:!0}).then((function(n){1===n.data.status?e.$refs.vueDropZone.getQueuedFiles().length>0?(t.$store.commit("setUpdateLock",!0),e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):(e.editPost.body=n.data.nodeData.body,e.editPost.body_formatted=n.data.nodeData.body_formatted,e.editPost.privacy.privacyDefault=n.data.nodeData.privacy.privacyDefault,e.editPost.sticky=n.data.nodeData.sticky,e.editPost.poll=n.data.nodeData.poll,e.editPost.changed=n.data.nodeData.changed,t.$store.dispatch("updatePost",e.editPost),t.$root.$emit("nm-stream:node:save",e.editPost),e.resetForm()):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var s=this.$config.get("api.apiPostAddUrl").replace("%token",this.streamOptions.token);n.containerNID=this.streamOptions.containerNID,n.contextNID=this.streamOptions.contextNID,r["default"].axios.post(s,n,{withCredentials:!0}).then((function(n){if(1===n.data.status){var a=n.data.nodeData;e.$emit("stream-post-added",a),e.$refs.vueDropZone.getQueuedFiles().length>0?(e.$refs.vueDropZone.setOption("url",e.getPostUploadUrl(a)),e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):e.resetForm()}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},escPressed:function(){0===this.bodyText.length&&this.resetForm()},submitOnCtrlEnter:function(t){t.ctrlKey&&this.savePost()},resetForm:function(){if(this.editPost)this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-post").style.height="auto";else{this.formActive=!1,this.bodyText="";var t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").blur(),this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").style.height="auto",this.stickyValue=0,this.poll=null}this.$refs.vueDropZone.removeAllFiles(),this.busyLoading=!1},dragOver:function(){var t=this;this.formActive=!0,this.$nextTick((function(){t.resizeDropArea()}))},queueCompleted:function(){console.log("completed"),this.dropzoneQueueProcessing&&(this.resetForm(),this.dropzoneResetAfterComplete=!1,this.dropzoneQueueProcessing=!1,this.$store.commit("setUpdateLock",!1))},dropzoneQueueProcess:function(){this.dropzoneQueueProcessing=!0},vdropzoneSuccess:function(t,e){this.$store.dispatch("updateAttachments",e.nodeData)},dropzoneError:function(t,e,n){console.error(t,e,n),alert(e.message+" ("+e.nid+")")},resizeDropArea:function(){this.$refs.vueDropZone&&"250px"!==this.$refs.vueDropZone.$el.style.height&&(this.$refs.vueDropZone.$el.style.height="250px",this.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="100px",this.resizePostFormContainer())},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editPost&&(this.author=this.editPost.user)},loadPrivacyOptions:function(t){var e=[];if(!Array.isArray(t)||!Array.isArray(this.streamOptions.privacyOptions))return e;var n=null;if(this.editPost){var a=parseInt(this.editPost.privacy.privacyDefault);n=r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",a])[0]}return this.streamOptions.privacyOptionsAll.forEach((function(a){(t.indexOf(a.value)>-1||n&&a.value==n.value)&&e.push(a)})),e},initializePost:function(){var t=this;if(this.editPost){this.formActive=!0,this.bodyText=this.editPost.body,this.stickyValue=parseInt(this.editPost.sticky),this.poll=this.editPost.poll,this.privacyDefault=this.editPost.privacy.privacyDefault,this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions);var e=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.$nextTick((function(){t.$refs.streamTextarea&&(t.resizeTextareaElement(t.$refs.streamTextarea.$el.querySelector("textarea")),t.$refs.vueDropZone.$el.style.height="50px",t.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="10px",t.resizePostFormContainer())}))}},getPostUploadUrl:function(t){var e="";return t||(t=this.editPost),e=t?this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",t.nid).replace("%token",this.streamOptions.token):this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",0).replace("%token",this.streamOptions.token),e},getAutoProcessQueue:function(){return!1},getDropZomeRemoveLabel:function(){return this.editPost?this.$t("label.nmDictHideFile"):this.$t("label.dictRemoveFile")},onAttachmentDeleteConf:function(t){this.$emit("post-form-onAttachmentDeleteConf",t)},pluginSubmitDialog:function(t){this.poll=t,this.pluginCloseDialog()},pluginCloseDialog:function(){var t=this;this.currentPluginTemplate="",this.$nextTick((function(){t.resizeTextareaElement(t.$refs.streamTextarea.$el.querySelector("textarea"))}))},changedBodyText:function(t){this.bodyText=t},changedFormActive:function(t){this.formActive=t}},watch:{},mounted:function(){var t=(0,f.Z)(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.privacyDefault=this.streamOptions.privacyDefault,this.privacyOptions=this.streamOptions.privacyOptions,this.loggedInUser=this.streamOptions.loggedInUser,this.$nextTick((function(){n.$el.setAttribute("style","height:"+n.$el.scrollHeight+"px;"),n.$el.addEventListener("input",n.resizeTextarea)})),this.privacyValue||(this.editPost?(this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions),this.privacyDefault=this.editPost.privacy.privacyDefault):(this.privacyOptions=this.streamOptions.privacyOptions,this.privacyDefault=this.streamOptions.privacyDefault),e=parseInt(this.privacyDefault),this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.privacyValue||(this.privacyValue=this.privacyOptions[0],this.privacyDefault=this.privacyValue.value)),this.loggedInUser=this.streamOptions.loggedInUser,this.updateAuthor();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{currentPluginTemplate:"",loggedInUser:null,author:null,privacyOptions:null,privacyDefault:null,formActive:!1,bodyText:"",poll:null,privacyValue:null,stickyValue:0,dropzoneResetAfterComplete:!1,files:null,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",dropzoneQueueProcessing:!1,dropzoneOptions:{url:this.getPostUploadUrl(),createImageThumbnails:!1,autoProcessQueue:this.getAutoProcessQueue(),addRemoveLinks:!0,parallelUploads:1,acceptedFiles:this.streamOptions.acceptedFiles,maxFilesize:20,dictDefaultMessage:this.$t("label.dictDefaultMessage"),dictFallbackMessage:this.$t("label.dictFallbackMessage"),dictFileTooBig:this.$t("label.customdictFileTooBig"),dictInvalidFileType:this.$t("label.dictInvalidFileType"),dictCancelUpload:this.$t("label.dictCancelUpload"),dictUploadCanceled:this.$t("label.dictUploadCanceled"),dictCancelUploadConfirmation:this.$t("label.dictCancelUploadConfirmation"),dictRemoveFile:this.getDropZomeRemoveLabel(),dictMaxFilesExceeded:this.$t("label.dictMaxFilesExceeded")}}},computed:{canSetSticky:function(){return this.editPost?this.editPost.permissions.canSetSticky:this.streamOptions.permissions.canCreateStickyPost}}},gt=vt,yt=(0,P.Z)(gt,M,N,!1,null,"5fd93d7c",null),bt=yt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-poll"},[n("h4",{staticClass:"qst",domProps:{innerHTML:t._s(t.question)}}),n("div",{staticClass:"ans-cnt"},[t.finalResults||t.visibleResults?[t._l(t.calcAnswers,(function(e,a){var s;return n("div",{key:a,class:(s={ans:!0},s[e.custom_class]=e.custom_class,s)},[n("div",{staticClass:"ans-voted",class:{final:t.finalResults,"ans-voted":!0,selected:e.selected}},[e.percent?n("span",{staticClass:"percent",domProps:{textContent:t._s(e.percent)}}):t._e(),n("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})]),t.finalResults?n("span",{class:{bg:t.finalResults,selected:t.mostVotes==e.votes},style:{width:e.percent}}):n("span",{staticClass:"bg",style:{width:t.visibleResults?e.percent:"0%"}})])})),t.restoreViewVotes?n("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults.apply(null,arguments)}}}):t._e()]:t._l(t.answersOptions,(function(e,a){var s;return n("div",{key:a,class:(s={ans:!0},s[e.custom_class]=e.custom_class,s)},[n("div",{class:{"ans-no-vote noselect":!0,active:e.selected},on:{click:function(n){return n.preventDefault(),t.handleVote(e)}}},[n("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})])])}))],2),t.showTotalVotes&&(t.visibleResults||t.finalResults)?n("div",{staticClass:"votes",domProps:{textContent:t._s(t.totalVotesFormatted+" "+t.labelVotes+" ("+t.totalParticipantsFormatted+" "+t.labelParticipated+")")}}):t._e(),!t.finalResults&&!t.visibleResults&&t.totalSelections>0?[n("button",{staticClass:"btn btn-primary submit-button float-left",attrs:{href:"#"},domProps:{textContent:t._s(t.submitButtonText)},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}})]:t._e(),!t.canEdit||t.finalResults||t.visibleResults?t._e():[n("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults.apply(null,arguments)}}})]],2)},_t=[],Dt=(n(9653),n(39714),n(38862),{name:"plugin-poll-view",props:{question:{type:String,required:!0},answers:{type:Array,required:!0},showResults:{type:Boolean,default:!1},showTotalVotes:{type:Boolean,default:!0},finalResults:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},submitButtonText:{type:String,default:function(){return this.$t("plugins.poll.submit")}},viewResultsButtonText:{type:String,default:function(){return this.$t("plugins.poll.viewResults")}},customId:{type:Number,default:0},numberParticipants:{type:Number,default:0},canEdit:{type:Boolean,default:!1}},data:function(){return{visibleResults:JSON.parse(this.showResults),restoreViewVotes:!1,answersOptions:[{}]}},computed:{totalVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&(t+=parseInt(e.votes))})),t},totalVotesFormatted:function(){return this.totalVotes.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelVotes:function(){return 1===this.totalVotes?this.$t("plugins.poll.vote"):this.$t("plugins.poll.votes")},totalParticipantsFormatted:function(){return this.numberParticipants.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelParticipants:function(){return 1===this.numberParticipants?this.$t("plugins.poll.participant"):this.$t("plugins.poll.participants")},labelParticipated:function(){return this.$t("plugins.poll.participated")},mostVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&e.votes>=t&&(t=e.votes)})),t},calcAnswers:function(){var t=this;return 0===this.totalVotes?this.answers.map((function(t){return t.percent="0%",t})):this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e}))},totalSelections:function(){return this.answersOptions.filter((function(t){return t.selected})).length}},mounted:function(){var t=this;0===this.totalVotes&&(this.answersOptions=this.answers.map((function(t){return t.percent="0%",t}))),this.answersOptions=this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e})),this.answersOptions=JSON.parse(JSON.stringify(this.answersOptions))},methods:{handleSubmit:function(){var t=[];this.answersOptions.filter((function(e){e.selected&&(e.votes++,t.push({value:e.value,votes:e.votes}))})),this.visibleResults=!0;var e={arSelected:t,totalVotes:this.totalVotes};this.customId&&(e.customId=this.customId),this.$emit("addvote",e)},handleViewResults:function(){1==this.restoreViewVotes?(this.visibleResults=!1,this.restoreViewVotes=!1):(this.visibleResults=!0,this.restoreViewVotes=!0)},deselectAll:function(){return this.answersOptions.map((function(t){return t.selected=!1,t}))},handleVote:function(t){this.multiple?(void 0===t.selected&&console.log("Please add 'selected: false' on the answer object"),t.selected=!t.selected):t.selected?this.deselectAll():(this.deselectAll(),t.selected=!0)}}}),xt=Dt,wt=(0,P.Z)(xt,Ct,_t,!1,null,null,null),kt=wt.exports,Pt={api:{apiInitAgrUrl:"http://localhost:9501/api/v2.0/nm_stream/initialize_aggregated",apiUpdateContextsUrl:"http://localhost:9501/api/v2.0/nm_stream/update_contexts/%offset/%limit/%token",apiInitUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/initialize",apiPollUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/poll_update/%offset/%limit/%token",apiPostAttachmentDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/file/%file/delete/%token",apiPostAttachmentUploadUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/file/upload/%token",apiPostUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/update/%token",apiPostAddUrl:"http://localhost:9501/api/v2.0/nm_stream/node/add/%token",apiPostDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/delete/%token",apiCommentUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/comment/%comment/update/%token",apiCommentAddUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/comment/add/%token",apiCommentDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/comment/%comment/delete/%token",apiNodePollAddVote:"http://localhost:9501/api/v2.0/nm_stream/node/%node/poll/add_vote/%token",apiUserMentionMembers:"http://localhost:9501/api/v2.0/nm_stream/node/%node/get/mention_members"}},$t={addVote:function(t,e,n,a,s){return(0,f.Z)(regeneratorRuntime.mark((function i(){var o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o={arSelected:[]},e.arSelected?o.arSelected=e.arSelected:o.arSelected=[{value:e.value,votes:e.votes}],l=Pt.api.apiNodePollAddVote.replace("%node",t).replace("%token",n),r["default"].axios.post(l,o,{withCredentials:!0}).then((function(t){if(1===t.data.status)return a(t.data);s()}));case 4:case"end":return i.stop()}}),i)})))()}},St=n(20629),Ot={props:["streamOptions","post","mentionMembers"],components:{StreamComment:U,StreamCommentForm:z,StreamPostForm:bt,PluginPollView:kt},name:"stream-post",data:function(){return{pollViewRenderUpdateFlag:!1,pollViewRenderOnceKey:1,initializeForm:!1,showComments:!1,curDeleteAttachment:null,streamPostFormComponent:""}},computed:{canEdit:function(){return this.post.permissions.canEdit},canDelete:function(){return this.post.permissions.canDelete},canCreateComment:function(){return!0},sortedComments:function(){var t=this.$store.getters.getPostComments(this.post.container.nid,this.post.nid);return r["default"]._.orderBy(t,"created","desc")},modalID:function(){return"modal-delete"+this.post.nid},privacy:function(){var t=parseInt(this.post.privacy.privacyDefault);return r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",t])[0]},streamLink:function(){return this.post.container.link+"#streamNode-"+this.post.nid}},mounted:function(){var t=(0,f.Z)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$on("plugins:poll:creator:save",(function(){e.pollViewRenderUpdateFlag=!0})),this.$root.$on("nm-stream:node:save",(function(){e.pollViewRenderUpdateFlag&&(e.pollViewRenderUpdateFlag=!1,e.pollViewRenderOnceKey++)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:(0,m.Z)((0,m.Z)({},(0,St.nv)(["updatePost"])),{},{editPost:function(){var t=this;this.initializeForm=!0,this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.streamPostForm.initializePost(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide")}),200)},toggleComments:function(){this.showComments=!this.showComments,this.showComments&&this.$nextTick((function(){var t=new Event("nm-stream:update");document.dispatchEvent(t)}))},deletePost:function(){var t=this;this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},updateComment:function(t){this.$store.dispatch("updateComment",{containerNID:this.post.container.nid,comment:t})},editCanceled:function(){this.$el.classList.remove("flip-active")},onDeleteSubmit:function(){var t=this,e=this,n=this.$config.get("api.apiPostDeleteUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.get(n,{withCredentials:!0}).then((function(n){1===n.data.status?(t.$store.dispatch("deletePost",e.post),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},onAttachmentDeleteConf:function(t){this.$refs.postDeleteAttachmentConf.show(),this.curDeleteAttachment=t},addUser:function(t){this.$store.dispatch("addUser",t)},addComment:function(t){this.showComments=!0,this.$store.dispatch("addComment",{containerNID:this.post.container.nid,comment:t})},deleteComment:function(t){this.$store.dispatch("deleteComment",{containerNID:this.post.container.nid,comment:t})},hideModal:function(){this.$refs.postDeleteAttachmentConf.hide(),this.curDeleteAttachment=null},onAttachmentDelete:function(){var t=this.curDeleteAttachment,e=this,n=this.$config.get("api.apiPostAttachmentDeleteUrl").replace("%node",e.post.nid).replace("%file",t.fid).replace("%token",this.streamOptions.token);r["default"].axios.get(n,{withCredentials:!0}).then((function(){var n=e.post.attachments.findIndex((function(e){return e.fid===t.fid}));e.post.attachments.splice(n,1)})),this.hideModal()},pollAddVote:function(t){var e=this;$t.addVote(this.post.nid,t,this.streamOptions.token,(function(t){e.post.poll=t.poll,e.updatePost(e.post,t)}),(function(){alert(e.$t("warning.error_occured_please_repeat_your_action"))}))}}),watch:{initializeForm:function(t){!0===t&&(this.streamPostFormComponent="StreamPostForm")}}},Lt=Ot,It=(0,P.Z)(Lt,p,h,!1,null,"0ae0d310",null),zt=It.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"stream-filter-form content",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-10 stream-filter-input-wrapper"},[n("transition",{attrs:{name:"fade"}},[t.filterWidgetVisible?n("div",{staticClass:"row"},[t.streamOptions.contextNID?t._e():n("div",{staticClass:"col-md-4"},[n("vue-typeahead-bootstrap",{ref:"context",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidContext()},attrs:{placeholder:t.$t("filter.placeholder.context"),serializer:function(t){return t.title},data:t.contexts},on:{hit:function(e){t.contextSelected=e}},model:{value:t.contextSearch,callback:function(e){t.contextSearch=e},expression:"contextSearch"}})],1),n("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[n("vue-typeahead-bootstrap",{ref:"username",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidUser()},attrs:{placeholder:t.$t("filter.placeholder.username"),serializer:function(t){return t.realname},data:t.users},on:{hit:function(e){t.userSelected=e}},model:{value:t.userSearch,callback:function(e){t.userSearch=e},expression:"userSearch"}})],1),n("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[n("stream-privacy-widget",{attrs:{privacyValue:t.privacyValue,privacyOptions:t.privacyOptions},on:{interface:function(e){t.privacyValue=e}}})],1)]):t._e()])],1),n("div",{staticClass:"col-md-2 stream-filter-action-wrapper"},[n("transition",{attrs:{name:"fade"}},[t.contextSearch||t.userSearch||t.privacyValue?n("button",{staticClass:"stream-filter-reset",attrs:{type:"reset",href:"#"},on:{click:function(e){return t.resetClick()}}},[n("font-awesome-icon",{attrs:{icon:["fa","times"]}})],1):t._e()]),n("button",{staticClass:"stream-filter-submit",attrs:{type:"submit",disabled:(t.isInValidContext()||t.isInValidUser()||!t.contextSearch&&!t.userSearch&&!t.privacyValue)&&t.filterWidgetVisible},on:{click:function(e){return t.filterClick()}}},[n("font-awesome-icon",{attrs:{icon:["fa","filter"]}})],1)],1)])])},jt=[],Tt=n(85890),Ut={name:"StreamFilter",props:["streamOptions"],components:{StreamPrivacyWidget:W,VueTypeaheadBootstrap:Tt.Z},data:function(){return{contextSearch:null,contextSelected:null,contexts:this.streamOptions.filterAvailableContexts,userSearch:null,userSelected:null,users:this.streamOptions.filterAvailableUsers,username:null,privacyValue:null,filterActive:null,filterWidgetVisible:!1,privacyOptions:this.streamOptions.privacyOptions}},methods:{onSubmit:function(){},filterClick:function(){if(this.filterWidgetVisible){var t=this.privacyValue?this.privacyValue.value:null,e={};this.contextSelected&&this.contextSearch==this.contextSelected.title&&(e.context=this.contextSelected.nid),this.userSelected&&this.userSearch==this.userSelected.realname&&(e.user=this.userSelected.uid),t&&(e.privacy=t),(this.contextSelected||this.userSelected||t)&&(this.filterActive=!0,this.$store.dispatch("setFilter",e))}else this.filterWidgetVisible=!0},isInValidContext:function(){return!(!this.contextSearch||this.contextSelected&&this.contextSearch==this.contextSelected.title)},isInValidUser:function(){return!(!this.userSearch||this.userSelected&&this.userSearch==this.userSelected.realname)},resetClick:function(){this.contextSelected=null,this.userSelected=null,this.privacyValue=null,this.contextSearch="",this.userSearch="",this.filterActive&&(this.$store.dispatch("setFilter",null),this.filterActive=null)}}},Mt=Ut,Nt=(0,P.Z)(Mt,At,jt,!1,null,"213b58ee",null),Vt=Nt.exports,Ft={name:"StreamList",props:["containernid","aggregated"],components:{StreamPost:zt,StreamPostForm:bt,StreamFilter:Vt},data:function(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",loggedInUser:1,infiniteScrollLimit:10,maxPostsToShow:10,pollingUpdate:null,streamUpdateOnRerender:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:(0,m.Z)((0,m.Z)((0,m.Z)({},(0,St.rn)(["filterParams"])),(0,St.Se)(["getUser","getInitializedContainer","getSortedPosts","getStreamOptionsContainer","getPost","getbusyLoading","getbusyLoadingMore","getMaxPostsLimitReached"])),{},{streamOptions:function(){return this.getStreamOptionsContainer(this.containernid)},sortedPosts:function(){return this.getSortedPosts(this.containernid)},initialized:function(){return this.getInitializedContainer(this.containernid)}}),methods:(0,m.Z)((0,m.Z)({},(0,St.nv)(["initializeStream","addPost","deletePost","deleteComment","addComment","addUser","loadMore","setinfiniteScrollLimit"])),{},{initialize:function(){var t=this;this.aggregated||(this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.$store.commit("setPostVisibleInViewPort",{containerNID:this.containernid,visibleInViewPort:!0})),this.initializeStream(this.containernid),document.addEventListener("nm-stream:update-model",(function(){t.streamUpdateOnRerender=!0}),!1)},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointLoadMore:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&this.loadMore(this.containernid)}}),updated:function(){var t=this;this.streamUpdateOnRerender&&this.$nextTick((function(){var e=new Event("nm-stream:update");document.dispatchEvent(e),t.streamUpdateOnRerender=!1}))},watch:{busyLoading:function(t){var e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((function(){location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)},beforeDestroy:function(){clearInterval(this.pollingUpdate)}},Et=Ft,Rt=(0,P.Z)(Et,d,u,!1,null,null,null),Bt=Rt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"stream-aggregated"}},[n("transition",{attrs:{name:"fade"}},[t.initialized?n("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),n("pulse-loader",{attrs:{loading:!t.initialized||t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}}),n("transition-group",{attrs:{name:"list"}},t._l(t.containers,(function(e){return n("div",{key:e.nid,attrs:{"data-nid":e.nid}},[n("div",{staticClass:"stream-container-label"},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle"}],staticClass:"btn btn-link btn-collapse",attrs:{href:"#collapse-nid-"+e.nid,"data-target":"'#collapse-nid-' + container.nid"},on:{click:function(t){t.preventDefault()}}},[n("span",{staticClass:"when-open"},[n("font-awesome-icon",{attrs:{icon:t.iconFaArrowDown}})],1),n("span",{staticClass:"when-closed"},[n("font-awesome-icon",{attrs:{icon:t.iconFaArrowUp}})],1)]),n("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.title))]),t._v(": "),n("a",{attrs:{href:e.context_url}},[t._v(t._s(e.context_title))])],1),n("b-collapse",{staticClass:"stream-container-wrapper",attrs:{visible:"",id:"collapse-nid-"+e.nid}},[n("stream-list",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointContainer,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointContainer, options: intersectionOptions }"}],attrs:{containernid:e.nid,"data-nid":e.nid,aggregated:!0}})],1)],1)})),0),t.busyLoading?t._e():n("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),n("br"),n("pulse-loader",{attrs:{loading:!t.busyLoading&&t.getbusyLoadingMore(0),color:t.busyLoadingColor,size:t.busyLoadingSize}}),n("br")],1)},qt=[],Wt={name:"StreamListAggregated",components:{StreamFilter:Vt,StreamList:Bt},data:function(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",maxPostsLimitReached:!1,loggedInUser:1,infiniteScrollLimit:2,iconFaArrowUp:K.q9j,iconFaArrowDown:K.dEo,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:(0,m.Z)((0,m.Z)((0,m.Z)({},(0,St.Se)(["getStreamOptions","getInitializedContainer","getbusyLoading","getbusyLoadingMore"])),(0,St.rn)(["containers","filterParams","initialized"])),{},{busyLoading:function(){return this.getbusyLoading(0)},initialized:function(){return this.getInitializedContainer(0)},streamOptions:function(){return this.getStreamOptions()}}),methods:(0,m.Z)((0,m.Z)({},(0,St.nv)(["initializeStreamAggregated","loadMoreContainers","setinfiniteScrollLimit"])),{},{initialize:function(){this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.initializeStreamAggregated()},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointContainer:function(t){var e=t.el,n=t.going,a=e.getAttribute("data-nid");n===this.$waypointMap.GOING_IN&&this.$store.commit("setPostVisibleInViewPort",{containerNID:a,visibleInViewPort:!0}),n===this.$waypointMap.GOING_OUT&&this.$store.commit("setPostVisibleInViewPort",{containerNID:a,visibleInViewPort:!1})},onWaypointLoadMore:function(t){var e=t.going;this.busyLoading||this.getbusyLoadingMore(0)||e===this.$waypointMap.GOING_IN&&this.loadMoreContainers(0)}}),watch:{busyLoading:function(t){var e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((function(){location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)}},Ht=Wt,Qt=(0,P.Z)(Ht,Zt,qt,!1,null,null,null),Kt=Qt.exports,Gt={name:"Stream",components:{StreamListAggregated:Kt,StreamList:Bt},computed:(0,St.rn)(["containerNID"]),beforeMount:function(){if(this.$root.$el.attributes["data-container-nid"]){var t=this.$root.$el.attributes["data-container-nid"].value;this.$store.commit("setcontainerNID",t)}else this.$store.commit("setcontainerNID",0)}},Jt=Gt,Xt=(0,P.Z)(Jt,l,c,!1,null,"405f995c",null),Yt=Xt.exports,te=(n(47042),n(69826),n(78783),n(33948),n(41637),n(92751)),ee=n(76133),ne=(0,te.Z)((function t(){(0,ee.Z)(this,t),this.privacyDefault="",this.privacyOptions=[],this.privacyOptionsAll=[],this.permissions=[],this.loggedInUser="",this.containerNID="",this.contextNID="",this.token="",this.timestamp="",this.acceptedFiles="",this.filterAvailableContexts=[],this.filterAvailableUsers=[]})),ae={initializeStream:function(t,e){var n=this,a=t.params,s=t.containerNID,i={},o=Pt.api.apiInitUrl.replace("%node",s);r["default"].axios.get(o,{params:a,withCredentials:!0}).then((function(t){i.posts=t.data.stream.posts,i.postsCount=t.data.stream.postsCount,i.users=t.data.stream.users,i.comments=t.data.stream.comments,i.loggedInUser=t.data.stream.loggedInUser,i.streamOptions=n.processStreamOptions(t),e(i)}))},initializeStreamAggregated:function(t){var e=this,n={},a=Pt.api.apiInitAgrUrl;r["default"].axios.get(a,{withCredentials:!0}).then((function(a){n.containers=a.data.stream.containers,n.loggedInUser=a.data.stream.loggedInUser,n.streamOptions=e.processStreamOptions(a),t(n)}))},updateStreamAggregated:function(t,e){var n=this,a=t.params,s=t.maxPostsToShow,i=t.token,o={},l=Pt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",s).replace("%token",i);r["default"].axios.get(l,{params:a,withCredentials:!0}).then((function(t){o.containers=t.data.stream.containers,o.streamOptions=n.processStreamOptions(t),e(o)}))},updateStream:function(t,e){var n=t.params,a=t.maxPostsToShow,s=t.containerNID,i=t.token,o={},l=Pt.api.apiPollUpdateUrl.replace("%node",s).replace("%offset",0).replace("%limit",a).replace("%token",i);r["default"].axios.get(l,{params:n,withCredentials:!0}).then((function(t){o.posts=t.data.stream.posts,o.postsCount=t.data.stream.postsCount,o.users=t.data.stream.users,o.comments=t.data.stream.comments,o.comments=t.data.stream.comments,o.timestamp=t.data.stream.timestamp,e(o)}))},updateContextsStream:function(t,e){var n=t.params,a=t.maxPostsToShow,s=t.token,i={},o=Pt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",a).replace("%token",s);r["default"].axios.get(o,{params:n,withCredentials:!0}).then((function(t){i.containers=t.data.stream.containers,i.timestamp=t.data.stream.timestamp,e(i)}))},processStreamOptions:function(t){var e=new ne;return e.aggregated=t.data.stream.aggregated,e.privacyOptions=t.data.stream.privacyOptions,e.privacyOptionsAll=t.data.stream.privacyOptionsAll,e.privacyDefault=t.data.stream.privacyDefault,e.permissions=t.data.stream.permissions,e.token=t.data.stream.token,e.contextNID=t.data.stream.contextNID,e.containerNID=t.data.stream.containerNID,e.timestamp=t.data.stream.timestamp,e.acceptedFiles=t.data.stream.acceptedFiles,e.filterAvailableContexts=t.data.stream.filterAvailableContexts,e.filterAvailableUsers=t.data.stream.filterAvailableUsers,e}},se={getMentionMembers:function(t,e,n){return(0,f.Z)(regeneratorRuntime.mark((function a(){var s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=Pt.api.apiUserMentionMembers.replace("%node",t),i={},a.next=4,r["default"].axios.post(s,i,{withCredentials:!0});case 4:o=a.sent,1===o.data.status?e(o.data.mention_members):n();case 6:case"end":return a.stop()}}),a)})))()}},ie=void 0;r["default"].use(St.ZP);var oe=!1,re=new St.ZP.Store({state:{containerNID:0,aggregated:!1,updateLock:!1,containers:[],pollUpdateInterval:[],containersData:[{initialized:!1}],mentionMembers:[],filterParams:[],infiniteScrollLimit:3,infiniteScrollLimitContainers:2,pollingUpdate:!1,users:[]},strict:oe,actions:{setinfiniteScrollLimit:function(t,e){var n=t.commit;n("setinfiniteScrollLimit",e)},initializeStream:function(t,e){var n=t.commit,a=t.dispatch,s=t.getters;n("setBusy",{containerNID:e,busy:!0});var i=s.getFilterParams();ae.initializeStream({params:i,containerNID:e},(function(t){n("initializeStream",{containerNID:e,data:t}),t.users.forEach((function(t){a("addUser",t)})),n("setBusy",{containerNID:e,busy:!1}),n("setBusyMore",{containerNID:e,busy:!1});var s=new Event("nm-stream:update-model");document.dispatchEvent(s)})),a("pollUpdate",e)},initializeStreamAggregated:function(t){var e=t.state,n=t.commit,a=t.dispatch;e.containersData[0]={},n("setMaxToShow",{containerNID:0,maxToShow:e.infiniteScrollLimitContainers}),n("setBusy",{containerNID:0,busy:!0}),ae.initializeStreamAggregated((function(t){n("initializeStreamAggregated",t),n("setBusy",{containerNID:0,busy:!1}),n("setBusyMore",{containerNID:0,busy:!1})})),a("pollUpdate",0)},updateStreamAggregated:function(t){var e=t.state,n=t.commit,a=t.getters;if(e.containersData[0].initialized){var s=e.containersData[0].streamOptions.token;if(s){var i=a.getFilterParams(),o=e.containersData[0].maxPostsToShow;n("setBusy",{containerNID:0,busy:!0}),ae.updateStreamAggregated({params:i,maxContainersToShow:o,token:s},(function(t){n("updateContainers",t),n("setBusy",{containerNID:0,busy:!1})}))}}},updateStream:function(t,e){var n=t.dispatch,a=t.commit,s=t.getters,i=t.state,o=i.updateLock;if(!o&&i.containersData[e]&&i.containersData[e].initialized&&!i.containersData[e].busyLoading&&!i.containersData[e].busyLoadingMore){var r=i.containersData[e].maxPostsToShow,l=i.containersData[e].streamOptions.token;if(l){var c=s.getFilterParams();ae.updateStream({params:c,maxPostsToShow:r,containerNID:e,token:l},(function(t){i.containersData[e].busyLoadingMore&&(a("setMaxPostsLimitReached",{containerNID:e,maxPostsLimitReached:i.containersData[e].posts.length==i.containersData[e].postsCount}),a("setBusyMore",{containerNID:e,busy:!1})),a("setBusy",{containerNID:e,busy:!1}),a("updateStream",{containerNID:e,data:t}),t.users.forEach((function(t){n("addUser",t)}))}))}}},updateContainers:function(t){var e=t.getters,n=t.state,a=t.commit,s=n.containersData[0].maxPostsToShow,i=e.getStreamOptions().token;if(i){var o=e.getFilterParams();ae.updateContextsStream({params:o,maxPostsToShow:s,token:i},(function(t){n.containersData[0].busyLoadingMore&&a("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:n.containers.length>=t.containers.length}),a("setBusy",{containerNID:0,busy:!1}),a("setBusyMore",{containerNID:0,busy:!1}),a("updateContainers",t)}))}},addPost:function(t,e){var n=t.commit;n("addPost",e);var a=new Event("nm-stream:update-model");document.dispatchEvent(a)},updatePost:function(t,e){var n=t.commit;n("updatePost",e);var a=new Event("nm-stream:update-model");document.dispatchEvent(a)},updateAttachments:function(t,e){var n=t.commit;n("updateAttachments",e)},deletePost:function(t,e){var n=t.commit;n("deletePost",e)},deleteComment:function(t,e){var n=t.commit;n("deleteComment",e)},addComment:function(t,e){var n=t.commit;n("addComment",e);var a=new Event("nm-stream:update-model");document.dispatchEvent(a)},updateComment:function(t,e){var n=t.commit;n("updateComment",e);var a=new Event("nm-stream:update-model");document.dispatchEvent(a)},addUser:function(t,e){var n=t.commit,a=t.getters;a.getUser(e.uid)||n("addUser",e)},setFilter:function(t,e){var n=t.commit,a=t.state,s=t.dispatch;n("setFilter",e),a.containersData[0].streamOptions&&a.aggregated?(n("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:!1}),s("updateStreamAggregated"),n("setBusy",{containerNID:0,busy:!0})):(clearInterval(a.pollUpdateInterval),n("setMaxPostsLimitReached",{containerNID:a.containerNID,maxPostsLimitReached:!1}),s("pollUpdate",a.containerNID),n("setBusy",{containerNID:a.containerNID,busy:!0}))},loadMore:function(t,e){var n=t.commit,a=t.state,s=t.dispatch;if(!a.containersData[e]||!a.containersData[e].initialized||a.containersData[e].busyLoadingMore||a.containersData[e].maxPostsLimitReached)return!1;var i=a.infiniteScrollLimit;n("setMaxToShow",{containerNID:e,maxToShow:a.containersData[e].maxPostsToShow+i}),s("updateStream",e),n("setBusyMore",{containerNID:e,busy:!0})},loadMoreContainers:function(t,e){var n=t.commit,a=t.dispatch,s=t.state;if(!s.containersData[e]||!s.containersData[e].initialized||s.containersData[e].busyLoadingMore||s.containersData[e].busyLoading||s.containersData[e].maxPostsLimitReached)return!1;n("setBusyMore",{containerNID:0,busy:!0}),n("setMaxToShow",{containerNID:e,maxToShow:s.containersData[e].maxPostsToShow+s.infiniteScrollLimitContainers}),a("updateContainers")},pollUpdate:function(t,e){var n=t.dispatch,a=t.commit,s=t.state;s.pollUpdateInterval[e]&&clearInterval(s.pollUpdateInterval[e]),n("updateStream",e);var i=setInterval((function(){var t=document.hasFocus();!t||s.containersData[e]&&!s.containersData[e].visibleInViewPort||n("updateStream",e)}),5e3);a("setPollUpdateInterval",{containerNID:e,pollUpdateInterval:i})}},getters:{getbusyLoading:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].busyLoading}},getbusyLoadingMore:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].busyLoadingMore}},getInitializedContainer:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].initialized}},getStreamOptions:function(t){return function(){var e=0;return!!t.containersData[e]&&t.containersData[e].streamOptions}},getStreamOptionsContainer:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].streamOptions}},getSortedPosts:function(t){return function(e){var n=r["default"]._.chain(t.containersData[e].posts).sortBy("created").sortBy("sticky").reverse().value(),a=n.slice(0,t.containersData[e].maxPostsToShow);return a}},getPost:function(t,e){return function(n,a){if(!t.containersData[n].posts)return null;var s=t.containersData[n].posts.filter((function(t){return t.nid===a}))[0],i=s;return i.user=e.getUser(i.uid),i}},getUser:function(t){return function(e){return t.users.find((function(t){return t.uid===e}))}},getPostComments:function(t,e){return function(n,a){if(!t.containersData[n])return[];var s=t.containersData[n].comments.filter((function(t){return t.nid===a}));if(s&&s.length>0)for(var i in s)s[i].user=e.getUser(s[i].uid);return s}},getFilterParams:function(t){return function(){var e=new URLSearchParams;return t.filterParams&&(t.filterParams.context&&e.append("context_nid",t.filterParams.context),t.filterParams.user&&e.append("user_uid",t.filterParams.user),t.filterParams.privacy&&e.append("privacy_key",t.filterParams.privacy)),e}},getMentionMembers:function(t){return function(e){return t.mentionMembers[e]?t.mentionMembers[e]:(t.mentionMembers[e]=[],se.getMentionMembers(e,(function(n){t.mentionMembers[e]=n}),(function(){console.error(ie.$t("warning.error_occured_please_repeat_your_action"))})),t.mentionMembers)}},getMaxPostsLimitReached:function(t){return function(e){return!(!t.containersData[e]||!t.containersData[e].initialized)&&(t.containersData[e].posts.length==t.containersData[e].postsCount||t.containersData[e].maxPostsLimitReached)}}},mutations:{setcontainerNID:function(t,e){e||(t.aggregated=!0),t.containerNID=e},setUpdateLock:function(t,e){t.updateLock=e},initializeStream:function(t,e){var n=e.containerNID,a=e.data;t.containersData[n]||(t.containersData[n]={}),t.containersData[n].posts=a.posts,t.containersData[n].postsCount=a.postsCount,t.containersData[n].comments=a.comments,t.containersData[n].streamOptions=a.streamOptions,t.containersData[n].initialized=!0,t.containersData[n].maxPostsToShow=t.infiniteScrollLimit,t.containersData=t.containersData.slice(0)},initializeStreamAggregated:function(t,e){t.containers=e.containers.slice(0,t.infiniteScrollLimit),t.containersData[0].streamOptions=e.streamOptions,t.containersData[0].initialized=!0},updateContainers:function(t,e){t.containers=e.containers,t.containersData[0].streamOptions.timestamp=e.timestamp},updateStream:function(t,e){var n=e.containerNID,a=e.data;t.containersData[n].posts=a.posts,t.containersData[n].postsCount=a.postsCount,t.containersData[n].comments=a.comments,t.containersData[n].streamOptions.timestamp=a.timestamp,t.containersData=t.containersData.slice(0)},addPost:function(t,e){t.containersData[e.container.nid].posts.push(e),t.containersData[e.container.nid].maxPostsToShow++,t.containersData=t.containersData.slice(0)},updatePost:function(t,e){var n=e.container.nid,a=t.containersData[n].posts.indexOf(e);a>-1&&(t.containersData[n].posts[a]=e,t.containersData=t.containersData.slice(0))},updateAttachments:function(t,e){var n=e.container.nid,a=t.containersData[n].posts.filter((function(t){return t.nid===e.nid}))[0];a&&(a.attachments=e.attachments,t.containersData=t.containersData.slice(0))},deletePost:function(t,e){var n=e.container.nid,a=t.containersData[n].posts.indexOf(e);a>-1&&t.containersData[n].posts.splice(a,1),t.containersData=t.containersData.slice(0)},updatePosts:function(t,e){var n=e.containerNID,a=e.posts;t.containersData[n].posts=a,t.containersData=t.containersData.slice(0)},addComment:function(t,e){var n=e.containerNID,a=e.comment;t.containersData[n].comments.push(a),t.containersData=t.containersData.slice(0)},updateComment:function(t,e){var n=e.containerNID,a=e.comment,s=t.containersData[n].comments.indexOf(a);s>-1&&(t.containersData[n].comments[s]=a,t.containersData=t.containersData.slice(0))},deleteComment:function(t,e){var n=e.containerNID,a=e.comment,s=t.containersData[n].comments.indexOf(a);s>-1&&t.containersData[n].comments.splice(s,1),t.containersData=t.containersData.slice(0)},updateComments:function(t,e){var n=e.containerNID,a=e.comments;t.containersData[n].comments=a,t.containersData=t.containersData.slice(0)},addUser:function(t,e){t.users.push(e)},updateUsers:function(t,e){t.users=e},updateInitialized:function(t,e){var n=e.containerNID,a=e.initialized;t.containersData[n].initialized=a,t.containersData=t.containersData.slice(0)},setFilter:function(t,e){t.filterParams=e},setBusy:function(t,e){var n=e.containerNID,a=e.busy;t.containersData[n]||(t.containersData[n]={}),t.containersData[n].busyLoading=a,t.containersData=t.containersData.slice(0)},setPostVisibleInViewPort:function(t,e){var n=e.containerNID,a=e.visibleInViewPort;t.containersData[n]||(t.containersData[n]={}),t.containersData[n].visibleInViewPort=a},setBusyMore:function(t,e){var n=e.containerNID,a=e.busy;t.containersData[n].busyLoadingMore=a,t.containersData=t.containersData.slice(0)},setMaxToShow:function(t,e){var n=e.containerNID,a=e.maxToShow;t.containersData[n].maxPostsToShow=a,t.containersData=t.containersData.slice(0)},setPollingUpdate:function(t,e){var n=e.containerNID,a=e.pollingUpdate;t.containersData[n].pollingUpdate=a,t.containersData=t.containersData.slice(0)},setMaxPostsLimitReached:function(t,e){var n=e.containerNID,a=e.maxPostsLimitReached;t.containersData[n].maxPostsLimitReached=a,t.containersData=t.containersData.slice(0)},setinfiniteScrollLimit:function(t,e){t.infiniteScrollLimit=e},setPollUpdateInterval:function(t,e){var n=e.containerNID,a=e.pollUpdateInterval;t.pollUpdateInterval[n]=a}}}),le=n(7845),ce=n(7351),de=n(59765),ue=n.n(de),me=n(96486),pe=n.n(me),he=n(47907),fe=n(78947),ve=n(56024),ge=n(57810),ye=n(17152),be=n(9669),Ce=n.n(be),_e=n(21939),De=n.n(_e),xe=n(17554),we=n.n(xe),ke=n(5040),Pe=n(82489),$e=n.n(Pe),Se=n(1531),Oe=n(46831),Le=n.n(Oe),Ie=n(85659),ze=n.n(Ie),Ae=JSON.parse('{"de":{"placeholder":{"your_post_message":"Ihre Nachricht","your_comment_message":"Ihr Kommentar"},"label":{"attachments":"Anhänge","upload_files":"Dateien hochladen","attachment_delete":"Anhang löschen","dictDefaultMessage":"<i class=\'fa fa-cloud-upload\'></i> Dateien hochladen","dictFallbackMessage":"Ihr Browser unterstützt leider keinen Upload","dictInvalidFileType":"Dieser Dateityp wird nicht unterstützt","dictCancelUpload":"Upload abbrechen","dictUploadCanceled":"Der Upload wurde abgebrochen","dictCancelUploadConfirmation":"Upload wirklich abbrechen?","dictRemoveFile":"Entfernen","customdictFileTooBig":"Diese Datei ist zu groß. Maximale Größe: {{maxFilesize}} MB.","nmDictHideFile":"Verstecken","dictMaxFilesExceeded":"Das Uploadlimit von {{maxFiles}} wurde überschritten","postContextFrom":"Beitrag aus","edited":"bearbeitet","load_more":"mehr laden..."},"link":{"show_x_comments":"{count} Kommentare anzeigen","hide_x_comments":"{count} Kommentare verstecken"},"button":{"cancel":"Abbrechen","post":"Speichern","edit":"Bearbeiten","delete":"Löschen","select_privacy":"Sichtbarkeit festlegen","delete_attachment":"Anhang löschen"},"warning":{"delete_post_really_want_to":"Möchten Sie den Beitrag wirklich löschen?","delete_attachment_really_want_to":"Möchten Sie den Anhang wirklich löschen?","delete_post_action_cannot_be_undone":"Sie sind dabei einen Beitrag zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","delete_comment_really_want_to":"Möchten Sie den Kommentar wirklich löschen?","delete_comment_action_cannot_be_undone":"Sie sind dabei einen Kommentar zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","error_occured_please_repeat_your_action":"Es ist ein Fehler aufgetreten, bitte wiederholen Sie Ihre letzte Aktion."},"empty":{"no_posts_found":"Keine Beiträge"},"plugins":{"sticky":{"title":"Beitrag anheften","status_title":"Beitrag angeheftet"},"poll":{"title":"Umfrage starten","new_poll":"Neue Umfrage starten","your_question":"Die Frage..","answer":"Antwort","allow_multiple_votes":"Mehrere Antworten erlauben","submit":"Abstimmen","viewResults":"Zwischenergebnis ansehen","save":"Speichern","create":"Erstellen","delete":"Löschen","cancel":"Abbrechen","status_created":"Erstellt","status_error":"Fehler","vote":"Stimme","votes":"Stimmen","participant":"Teilnahme","participants":"Teilnahmen","participated":"teilgenommen","pollEndDateLabel":"Ende der Umfrage festlegen","pollEndDateDescription":"Wird dieses Feld gesetzt, so ist ab diesem Zeitpunkt keine Abstimmung mehr möglich. Es wird das Umfrageergebnis angezeigt."}},"filter":{"placeholder":{"context":"Kurs/Lehrtext","username":"Person","privacy":"Privatsphäre"}}}}');r["default"].config.productionTip=!1,fe.vI.add(ve.SZ,ve.gM,ve.I7,K.SJR,K.wD$,K.G_j,K.NBC,ve.dE),r["default"].component("font-awesome-icon",ge.GN),r["default"].component("pulse-loader",Se.Z),r["default"].component("multiselect",he.Multiselect),r["default"].config.productionTip=!1,r["default"].use(le.ZPm),r["default"].use(ue(),{name:"custom",lodash:pe()}),r["default"].use(ye.Z),r["default"].use(De(),Ce()),r["default"].use(ke.Z,{config:Pt}),r["default"].component("nl2br",we()),r["default"].use($e()),r["default"].use(ce.n),r["default"].use(ze());var je=n(30381);n(59740),r["default"].use(n(42513),{moment:je}),r["default"].component("VueCtkDateTimePicker",Le()),r["default"].component("vue-typeahead-bootstrap",Tt.Z);var Te=new ye.Z({locale:"de",messages:Ae});window.stream=new r["default"]({i18n:Te,store:re,render:function(t){return t(Yt)}}).$mount("#stream")}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,function(){var t=[];n.O=function(e,a,s,i){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],i=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(r=!1,i<o&&(o=i));if(r){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,s,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,i,o=a[0],r=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var d=l(n)}for(e&&e(a);c<o.length;c++)i=o[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},a=self["webpackChunknm_stream_v4"]=self["webpackChunknm_stream_v4"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(89058)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.js.map