(function(){var t={6700:function(t,e,s){var a={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":1500,"./zh-hk.js":1500,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id=6700},9058:function(t,e,s){"use strict";var a,i,n,o,r=s(144),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"stream-wrapper"}},[t.containerNID>0?s("stream-list",{attrs:{containernid:t.containerNID,aggregated:!1}}):s("stream-list-aggregated")],1)},c=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"stream-list"}},[s("transition",{attrs:{name:"fade"}},[t.initialized&&!t.aggregated?s("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),s("pulse-loader",{attrs:{loading:!t.initialized||t.getbusyLoading(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),t.initialized&&t.containernid>0&&t.streamOptions.permissions.canCreatePost?s("stream-post-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.getMentionMembers(t.streamOptions.contextNID)},on:{"stream-post-added":t.addPost}}):t._e(),t.initialized&&0==t.sortedPosts.length?s("div",[t._v(" "+t._s(t.$t("empty.no_posts_found"))+" ")]):t._e(),t.initialized?s("div",[s("transition-group",{attrs:{name:"list"}},t._l(t.sortedPosts,(function(e){return s("stream-post",{key:e.nid+e.changed,attrs:{post:t.getPost(t.containernid,e.nid),streamOptions:t.getStreamOptionsContainer(t.containernid),mentionMembers:t.getMentionMembers(e.context.nid)}})})),1)],1):t._e(),s("br"),t.aggregated||t.getbusyLoadingMore(t.containernid)?t._e():s("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),s("pulse-loader",{attrs:{loading:!t.getbusyLoading(t.containernid)&&t.getbusyLoadingMore(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),s("br"),t.getMaxPostsLimitReached(t.containernid)||t.getbusyLoadingMore(t.containernid)?t._e():s("div",{staticClass:"load-more-wrapper"},[s("button",{on:{click:function(e){return t.loadMore(t.containernid)}}},[t._v(t._s(t.$t("label.load_more")))])])],1)},m=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-flip",attrs:{id:"streamNode-"+t.post.nid}},[s("div",{staticClass:"flip"},[s("div",{staticClass:"front"},[s("div",{staticClass:"stream-post card"},[t.streamOptions.containerNID!==t.post.container.nid?s("div",{staticClass:"row post-context"},[s("div",{staticClass:"col-12"},[s("span",{staticClass:"float-right"},[t._v(" "+t._s(t.$t("label.postContextFrom"))+": "),s("a",{attrs:{href:t.streamLink}},[t._v(t._s(this.post.container.title))])])])]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.post.user.avatarUrl,title:t.post.user.name}})]),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 post-header"},[null!==this.privacy?s("div",{staticClass:"post-privacy-wrapper float-right"},[s("img",{staticClass:"post-privacy",attrs:{src:t.privacy.img,alt:t.privacy.title,title:t.privacy.title}})]):t._e(),1==t.post.sticky?s("div",{staticClass:"post-sticky",attrs:{title:t.$t("plugins.sticky.status_title")}},[s("font-awesome-icon",{attrs:{icon:["fa","anchor"]}})],1):t._e(),t.canEdit||t.canDelete?s("div",[s("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?s("b-dropdown-item",{on:{click:t.editPost}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?s("b-dropdown-item",{on:{click:t.deletePost}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),s("div",{staticClass:"username"},[s("a",{attrs:{href:t.post.user.profileUrl}},[t._v(t._s(t.post.user.name))])]),s("div",{staticClass:"created"},[s("font-awesome-icon",{attrs:{icon:["far","clock"]}}),s("span",{attrs:{title:t._f("moment")(t.post.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.post.created,"from")))]),t.post.changed!=t.post.created?s("span",{attrs:{title:t._f("moment")(t.post.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 body"},[s("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.post.body_formatted)}}),t.post.poll?s("plugin-poll-view",t._b({key:t.pollViewRenderOnceKey,on:{addvote:t.pollAddVote}},"plugin-poll-view",t.post.poll,!1)):t._e()],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t.post.attachments.length>0?s("div",{staticClass:"stream-post-attachments"},[s("font-awesome-icon",{attrs:{icon:["far","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),s("ul",t._l(t.post.attachments,(function(e){return s("li",{key:e.fid},[s("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?s("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(s){return s.preventDefault(),t.onAttachmentDeleteConf(e)}}},[s("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])})),0)],1):t._e(),t.sortedComments.length>0?s("div",{staticClass:"stream-post-footer"},[s("div",[t.showComments?s("a",{key:"false",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showComments=!t.showComments}}},[t._v(t._s(t.$t("link.hide_x_comments",{count:t.sortedComments.length})))]):s("a",{key:"true",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleComments.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("link.show_x_comments",{count:t.sortedComments.length}))+" ")])])]):t._e()])])])]),s("div",{staticClass:"row comments-wrapper"},[s("div",{staticClass:"col-10 offset-2"},[t.canCreateComment?s("stream-comment-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.mentionMembers,post:t.post},on:{"stream-user-added":t.addUser,"stream-comment-added":t.addComment}}):t._e(),s("transition",{attrs:{name:"fade"}},[t.sortedComments.length>0&&!0===t.showComments?s("div",[s("transition-group",{attrs:{name:"list"}},t._l(t.sortedComments,(function(e){return s("stream-comment",{key:e.cid+e.changed,attrs:{streamOptions:t.streamOptions,comment:e,mentionMembers:t.mentionMembers,user:e.user},on:{"stream-comment-updated":t.updateComment}})})),1)],1):t._e()])],1)])])]),s("div",{ref:"backEdit",staticClass:"back-edit"},[s("div",{staticClass:"stream-post card"},[s(t.streamPostFormComponent,{ref:"streamPostForm",tag:"component",attrs:{streamOptions:t.streamOptions,editPost:t.post,mentionMembers:t.mentionMembers},on:{"form-edit-canceled":function(e){return t.editCanceled()},"post-form-onAttachmentDeleteConf":t.onAttachmentDeleteConf}})],1)]),s("div",{ref:"backDelete",staticClass:"back-delete"},[s("div",{staticClass:"stream-post card"},[s("h3",[t._v(t._s(t.$t("warning.delete_post_really_want_to")))]),s("br"),s("p",[t._v(" "+t._s(t.$t("warning.delete_post_action_cannot_be_undone"))+" ")]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-outline-danger float-right",on:{click:t.onDeleteSubmit}},[t._v(t._s(t.$t("button.delete"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:t.onDeleteCancel}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])]),s("b-modal",{ref:"postDeleteAttachmentConf",attrs:{id:"bv-modal-delete-attachment",centered:"","hide-footer":"",title:t.$t("label.attachment_delete")}},[s("div",{staticClass:"d-block text-center"},[t._v(" "+t._s(t.$t("warning.delete_attachment_really_want_to"))+" "),s("br"),s("br")]),s("b-button",{staticClass:"mt-3",attrs:{variant:"",block:""},on:{click:t.hideModal}},[t._v(t._s(t.$t("button.cancel")))]),s("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:""},on:{click:function(e){return t.onAttachmentDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")])],1)],1)},u=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-flip"},[s("div",{staticClass:"flip"},[s("div",{staticClass:"front"},[s("div",{staticClass:"stream-comment card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.user.avatarUrl,title:t.user.name}})]),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t.canEdit||t.canDelete?s("div",[s("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?s("b-dropdown-item",{on:{click:t.editComment}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?s("b-dropdown-item",{on:{click:t.deleteComment}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),s("div",{staticClass:"username"},[s("a",{attrs:{href:t.user.profileUrl}},[t._v(t._s(t.user.name))])]),s("div",{staticClass:"created"},[s("font-awesome-icon",{attrs:{icon:["far","clock"]}}),s("span",{attrs:{title:t._f("moment")(t.comment.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.comment.created,"from")))]),t.comment.changed!=t.comment.created?s("span",{attrs:{title:t._f("moment")(t.comment.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 body"},[s("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.comment.body_formatted)}})])])])])])]),s("div",{ref:"backEdit",staticClass:"back-edit"},[s("div",{staticClass:"stream-comment card"},[s("stream-comment-form",{ref:"streamCommentForm",attrs:{streamOptions:t.streamOptions,editComment:t.comment,mentionMembers:t.mentionMembers},on:{"stream-comment-updated":t.updateComment,"form-edit-canceled":function(e){return t.editCanceled()}}})],1)]),s("div",{ref:"backDelete",staticClass:"back-delete"},[s("div",{staticClass:"stream-post card"},[s("h4",[t._v(t._s(t.$t("warning.delete_comment_really_want_to")))]),s("br"),s("p",[t._v(" "+t._s(t.$t("warning.delete_comment_action_cannot_be_undone"))+" ")]),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-outline-danger float-right",on:{click:function(e){return t.onDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:function(e){return t.onDeleteCancel()}}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])])])},f=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stream-comment-form card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),s("div",{staticClass:"col-10"},[s("stream-textarea",{attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_comment_message")},on:{save:t.saveComment,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),s("transition",{attrs:{name:"fade"}},[s("div",{key:t.formActive,staticClass:"row stream-action-2"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[t.formActive?s("div",{staticClass:"col-12 action-buttons"},[s("button",{staticClass:"btn btn-outline-primary stream-comment-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.saveComment}},[t._v(t._s(t.$t("button.post"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary stream-comment-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")]),s("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])])])])],1)])])},g=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("at-ta",{attrs:{members:t.mentionMembers,"name-key":"name"},on:{at:t.atChanged},scopedSlots:t._u([{key:"item",fn:function(e){return[s("img",{staticClass:"rounded-circle",attrs:{src:e.item.avatar}}),s("span",{domProps:{textContent:t._s(e.item.realname)}})]}}])},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localBodyText,expression:"localBodyText"},{name:"model",rawName:"v-model.lazy",value:t.localBodyText,expression:"localBodyText",modifiers:{lazy:!0}}],staticClass:"stream-textbody",attrs:{name:"body",disabled:t.busyLoading,placeholder:t.textareaPlaceholder},domProps:{value:t.localBodyText,value:t.localBodyText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escPressed.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOnCtrlEnter.apply(null,arguments)}],focus:function(e){t.localFormActive=!0},input:function(e){e.target.composing||(t.localBodyText=e.target.value)},change:function(e){t.localBodyText=e.target.value}}})])},b=[],C=s(8741),_=s.n(C),D={name:"StreamTextarea",components:{AtTa:_()},props:["mentionMembers","textareaPlaceholder","busyLoading","formActive","bodyText"],data(){return{localBodyText:this.bodyText,localFormActive:this.formActive}},methods:{atChanged(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},escPressed(){0===this.bodyText.length&&this.$emit("reset")},submitOnCtrlEnter(t){t.ctrlKey&&this.$emit("save")}},watch:{bodyText:function(t){this.localBodyText=t},formActive:function(t){this.localFormActive=t},localBodyText:function(t,e){this.$emit("changeBody",t,e)},localFormActive:function(t,e){this.$emit("changeFormActive",t,e)}}},x=D,w=s(1001),P=(0,w.Z)(x,y,b,!1,null,null,null),k=P.exports,$={props:["streamOptions","post","editComment","mentionMembers"],name:"stream-comment-form",components:{StreamTextarea:k},methods:{atChanged(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},resizeTextarea(t){this.resizeTextareaElement(t.target),this.resizeCommentFormContainer()},resizeCommentFormContainer(){this.editComment&&(this.$parent.$el.querySelector(".stream-comment").style.height=150+this.$el.querySelector("textarea").scrollHeight+"px")},saveComment(){this.busyLoading=!0;let t=this,e={};if(e.body=this.bodyText,this.editComment){let s=this.$config.get("api.apiCommentUpdateUrl").replace("%comment",this.editComment.cid).replace("%token",this.streamOptions.token);r["default"].axios.post(s,e,{withCredentials:!0}).then((e=>{t.resetForm(),1===e.data.status?(t.editComment.body_formatted=e.data.commentData.body_formatted,t.editComment.body=e.data.commentData.body,t.editComment.changed=e.data.commentData.changed,t.$emit("stream-comment-updated",t.editComment),t.resetForm()):alert(this.$t("warning.error_occured_please_repeat_your_action"))}))}else{let s=this.$config.get("api.apiCommentAddUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(s,e,{withCredentials:!0}).then((e=>{if(t.resetForm(),1===e.data.status){let s=e.data.commentData,a=e.data.userData;t.$emit("stream-comment-added",s),t.$emit("stream-user-added",a)}else alert(this.$t("warning.error_occured_please_repeat_your_action"))}))}},resizeTextareaElement(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},escPressed(){0===this.bodyText.length&&this.resetForm()},resetForm(){this.editComment?(this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-comment").style.height="auto"):(this.bodyText="",this.formActive=!1,this.$el.querySelector("textarea.stream-textbody").blur(),this.$el.querySelector("textarea.stream-textbody").style.height="auto"),this.busyLoading=!1},initializeComment(){this.editComment&&(this.formActive=!0,this.bodyText=this.editComment.body,this.$nextTick((()=>{this.resizeTextareaElement(this.$el.querySelector("textarea")),this.resizeCommentFormContainer()})))},updateAuthor(){this.author=this.streamOptions.loggedInUser,this.editComment&&(this.author=this.editComment.user)},changedBodyText(t){this.bodyText=t},changedFormActive(t){this.formActive=t}},mounted:function(){this.$nextTick((()=>{this.$el.setAttribute("style","height:"+this.$el.scrollHeight+"px;"),this.$el.addEventListener("input",this.resizeTextarea)})),this.updateAuthor()},beforeDestroy(){this.$el.removeEventListener("input",this.resizeTextarea)},render(){return this.$slots.default[0]},data(){return{formActive:!1,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",author:null,bodyText:""}}},S=$,O=(0,w.Z)(S,v,g,!1,null,"0614ca28",null),L=O.exports,I={props:["streamOptions","comment","user","mentionMembers"],components:{StreamCommentForm:L},name:"stream-comment",data(){return{}},computed:{canEdit:function(){return this.comment.permissions.canEdit},canDelete:function(){return this.comment.permissions.canDelete}},methods:{editComment(){this.$el.classList.add("flip-active"),setTimeout((()=>{this.$refs.streamCommentForm.initializeComment(),this.$refs.backDelete.classList.add("hide"),this.$refs.backEdit.classList.remove("hide"),this.$refs.streamCommentForm.initializeComment()}),200)},deleteComment(){setTimeout((()=>{this.$el.classList.add("flip-active"),this.$refs.backEdit.classList.add("hide"),this.$refs.backDelete.classList.remove("hide")}),200)},updateComment(t){this.$emit("stream-comment-updated",t)},onDelete(){let t=this,e=this.$config.get("api.apiCommentDeleteUrl").replace("%comment",this.comment.cid).replace("%token",this.streamOptions.token);r["default"].axios.get(e,{withCredentials:!0}).then((e=>{1===e.data.status?(this.$store.dispatch("deleteComment",{containerNID:this.streamOptions.containerNID,comment:t.comment}),this.$el.classList.remove("flip-active")):alert(this.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel(){this.$el.classList.remove("flip-active")},editCanceled(){this.$el.classList.remove("flip-active")}}},z=I,A=(0,w.Z)(z,h,f,!1,null,"bce8561c",null),j=A.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stream-post-form card",on:{dragover:t.dragOver}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),t.currentPluginTemplate?s("div",{staticClass:"active-plugin-content col-10"},[s("keep-alive",[s(t.currentPluginTemplate,{tag:"component",attrs:{param1:t.poll},on:{dialogSubmit:function(e){return t.pluginSubmitDialog(e)},dialogClose:function(e){return t.pluginCloseDialog()}}})],1)],1):t._e(),t.currentPluginTemplate?t._e():s("div",{staticClass:"col-10"},[s("stream-textarea",{ref:"streamTextarea",attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_post_message")},on:{save:t.savePost,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),t.formActive?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 plugins"},[t.canSetSticky?s("plugin-sticky",{attrs:{param1:t.stickyValue},on:{interface:function(e){t.stickyValue=e}}}):t._e(),s("plugin-poll",{attrs:{param1:t.poll},on:{interface:function(e){t.currentPluginTemplate=e}}})],1)]):t._e(),s("div",{staticClass:"row stream-action-1"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("div",{key:t.formActive,staticClass:"col-12 stream-attachments"},[s("vue-dropzone",{ref:"vueDropZone",attrs:{id:"dropzone",options:t.dropzoneOptions,disabled:t.busyLoading},on:{"vdropzone-processing":t.dropzoneQueueProcess,"vdropzone-file-added":t.resizeDropArea,"vdropzone-error":t.dropzoneError,"vdropzone-success":t.vdropzoneSuccess,"vdropzone-queue-complete":t.queueCompleted}}),t.editPost&&t.editPost.attachments.length>0?s("div",{ref:"postAttachmentList",staticClass:"stream-post-attachments"},[s("font-awesome-icon",{attrs:{icon:["fa","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),t._l(t.editPost.attachments,(function(e){return s("div",{key:e.fid},[s("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?s("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(s){return s.preventDefault(),t.onAttachmentDeleteConf(e)}}},[s("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])}))],2):t._e(),s("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])],1),s("div",{staticClass:"row stream-action-2"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("div",{key:t.formActive,staticClass:"col-12 action-buttons"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-5"},[s("stream-privacy-widget",{attrs:{privacyOptions:t.privacyOptions,privacyValue:t.privacyValue},on:{interface:function(e){t.privacyValue=e}}})],1),s("div",{staticClass:"col-7"},[s("button",{staticClass:"btn btn-outline-primary stream-post-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.savePost}},[t._v(t._s(t.$t("button.post"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary stream-post-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])]):t._e()])],1)])])],1)])])},U=[],M=s(1485),N=s.n(M),V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.privacyOptions.length>0?s("div",{staticClass:"stream-post-privacy-settings"},[s("multiselect",{attrs:{options:t.privacyOptions,"track-by":"value","option-height":104,searchable:!1,"show-labels":!1,"allow-empty":t.allowEmpty,placeholder:t.$t("button.select_privacy"),disabled:t.busyLoading},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[s("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title}}),s("span",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))])])]}},{key:"option",fn:function(e){return[s("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title,disabled:t.busyLoading}}),s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))]),s("span",{staticClass:"option__small"},[t._v(t._s(e.option.desc))])])]}}],null,!1,1178984776),model:{value:t.localPrivacyValue,callback:function(e){t.localPrivacyValue=e},expression:"localPrivacyValue"}})],1):t._e()},F=[],E={name:"StreamPrivacyWidget",props:["privacyOptions","privacyValue"],data(){return{localPrivacyValue:this.privacyValue,busyLoading:null,allowEmpty:null}},watch:{privacyValue:function(){this.localPrivacyValue=this.privacyValue},localPrivacyValue:function(t){this.$emit("interface",t)}}},R=E,B=(0,w.Z)(R,V,F,!1,null,"8d8eefc8",null),Z=B.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"plugin plugin-abstract",class:t.name},[s("span",{staticClass:"plugin-toolbar-btn",class:{active:t.isActive},attrs:{title:t.title},on:{click:t.onClickCallback}},[s("font-awesome-icon",{attrs:{icon:t.icon}})],1)])},W=[],H=s(1436),Q={props:["param1"],components:{},name:"plugin",data(){return{icon:H.ySZ,label:"Not implemented yet",title:"Not implemented yet",name:this.$options._componentTag}},computed:{isActive:function(){return!1}},methods:{onClickCallback(){alert("To be implemented")}}},K=Q,G=(0,w.Z)(K,q,W,!1,null,"4253a4ef",null),J=G.exports,X={extends:J,name:"plugin-sticky",data(){return{icon:H.SJR,title:this.$t("plugins.sticky.title"),sticky:this.param1}},computed:{isActive:function(){return 1===this.sticky}},methods:{onClickCallback(){1===this.sticky?this.sticky=0:this.sticky=1,this.$emit("interface",this.sticky)}}},Y=X,tt=(0,w.Z)(Y,a,i,!1,null,null,null),et=tt.exports,st={extends:J,name:"plugin-poll",data(){return{icon:H.wD$,activePluginComponent:"",title:this.$t("plugins.poll.title"),editPoll:this.param1}},computed:{isActive:function(){return!!this.editPoll}},methods:{onClickCallback(){this.activePluginComponent="PluginPollCreator",this.$emit("interface",this.activePluginComponent)}},mounted(){}},at=st,it=(0,w.Z)(at,n,o,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row poll-wrapper"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row poll-title"},[s("div",{staticClass:"col-12"},[s("h4",[t._v(t._s(t.$t("plugins.poll.new_poll")))])])]),s("div",{staticClass:"row poll-container"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row poll-question"},[s("div",{staticClass:"col-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.question,expression:"poll.question"}],attrs:{type:"text",placeholder:t.$t("plugins.poll.your_question")},domProps:{value:t.poll.question},on:{input:function(e){e.target.composing||t.$set(t.poll,"question",e.target.value)}}})])]),s("div",{staticClass:"poll-answers"},[s("draggable",{attrs:{tag:"div",list:t.poll.answers,handle:".handle"}},t._l(t.poll.answers,(function(e,a){return s("div",{key:e.value,staticClass:"row"},[s("div",{staticClass:"col-10"},[s("i",{staticClass:"handle"},[s("span")]),s("span",{staticClass:"text"},[t._v(t._s(e.name)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.answers[a].text,expression:"poll.answers[index].text"}],ref:"PollAnswerOptions",refInFor:!0,attrs:{placeholder:t.$t("plugins.poll.answer")+" "+(a+1),type:"text"},domProps:{value:t.poll.answers[a].text},on:{input:[function(e){e.target.composing||t.$set(t.poll.answers[a],"text",e.target.value)},function(e){return t.createNewInput(a)}],focus:function(e){return t.createNewInput(a)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextInput(a)}}})]),s("div",{staticClass:"col-2"},[s("i",{staticClass:"close",on:{click:function(e){return t.deleteInput(a)}}})])])})),0)],1),s("div",{staticClass:"row poll-options"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.multiple,expression:"poll.multiple"}],staticClass:"checked custom-control-input",attrs:{tabindex:"1",type:"checkbox",id:"cb-multiple-votes"},domProps:{checked:Array.isArray(t.poll.multiple)?t._i(t.poll.multiple,null)>-1:t.poll.multiple},on:{change:function(e){var s=t.poll.multiple,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&t.$set(t.poll,"multiple",s.concat([n])):o>-1&&t.$set(t.poll,"multiple",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.poll,"multiple",i)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"cb-multiple-votes"}},[t._v(t._s(t.$t("plugins.poll.allow_multiple_votes")))])])])]),s("div",{staticClass:"row poll-options"},[s("div",{staticClass:"col-10"},[s("VueCtkDateTimePicker",{attrs:{tabindex:"1",locale:"$i18n.locale",label:t.$t("plugins.poll.pollEndDateLabel")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),s("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("plugins.poll.pollEndDateDescription")))])],1),s("div",{staticClass:"col-2"})]),s("div",{staticClass:"row poll-actions"},[s("div",{staticClass:"col-12"},[t.editPoll?s("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.save"))+" ")]):t._e(),t.editPoll?t._e():s("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.create"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.closePoll}},[t._v(t._s(t.$t("plugins.poll.cancel"))+" ")]),s("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:!t.editPoll},on:{click:t.deletePoll}},[t._v(t._s(t.$t("plugins.poll.delete"))+" ")])])])])])])])},rt=[],lt=s(9980),ct=s.n(lt),dt={name:"plugin-poll-creator",components:{draggable:ct()},props:{savePollUrl:{type:String},demo:{type:Boolean,default:!1},param1:{type:Object,default:null}},data(){return{poll:{question:"",answers:[{value:0,text:""},{value:1,text:""},{value:2,text:""}],multiple:!1},isValid:!1,success:null,editPoll:null,endDate:null}},mounted(){this.param1&&(this.poll=this.param1,this.endDate=this.param1.endDate?this.param1.endDate:null,this.editPoll=this.poll),0===this.poll.answers.length&&this.addEntry("")},methods:{addEntry(t){const e=Math.max.apply(Math,this.poll.answers.map((function(t){return t.value})));this.poll.answers.push({value:e+1,text:t})},createNewInput(t,e){this.poll.answers.length-1===t&&(e||this.poll.answers[t].text)&&this.addEntry("")},deleteInput(t){(t>0||this.poll.answers.length>1)&&this.poll.answers.splice(t,1)},nextInput(t){this.poll.answers.length-1===t&&this.createNewInput(t,!0),setTimeout((()=>{this.$refs.PollAnswerOptions[t+1].focus()}),10)},closePoll(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogClose")},deletePoll(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogSubmit",null),this.closePoll()},createPoll(){if(this.validate(),this.isValid){this.poll.answers=this.poll.answers.filter((t=>{if(t.text.length>0)return t}));let t={multiple:this.poll.multiple,question:this.poll.question,endDate:this.endDate,answers:[]};this.poll.answers.forEach((e=>{const s={value:e.value,text:e.text,votes:0,selected:!1};t.answers.push(s)})),this.$emit("dialogSubmit",t),this.$root.$emit("plugins:poll:creator:save",t),this.closePoll()}else this.alert(!1)},resetPoll(){this.poll.multiple=!1,this.poll.answers=[],this.addEntry(""),this.addEntry(""),this.addEntry(""),this.poll.question="",this.isValid=!1},validate(){let t=this.poll.answers.filter((t=>{if(t.text.length>0)return t}));var e=t.length;return this.isValid=e>0,this.isValid},resetEndDate(){this.endDate=null},alert(t){this.success=t,setTimeout((()=>{this.success=null}),3e3)}}},mt=dt,pt=(0,w.Z)(mt,ot,rt,!1,null,"58ec50ba",null),ut=pt.exports,ht={props:["streamOptions","editPost","mentionMembers"],name:"stream-post-form",components:{StreamPrivacyWidget:Z,vueDropzone:N(),PluginSticky:et,PluginPoll:nt,PluginPollCreator:ut,StreamTextarea:k},methods:{resizeTextarea(t){this.resizeTextareaElement(t.target),this.resizePostFormContainer()},resizePostFormContainer(){if(this.editPost&&this.$refs.vueDropZone){let t=parseFloat(this.$refs.vueDropZone.$el.style.height),e=0;this.$refs.postAttachmentList&&(e=parseFloat(this.$refs.postAttachmentList.clientHeight)),this.$refs.streamTextarea&&(this.$parent.$el.querySelector(".stream-post").style.height=170+t+e+this.$refs.streamTextarea.$el.querySelector("textarea").scrollHeight+"px")}this.currentPluginTemplate&&(this.$parent.$el.querySelector(".stream-post").style.height=90+this.$el.querySelector(".active-plugin-content").offsetHeight+"px")},resizeTextareaElement(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},savePost(){this.busyLoading=!0;let t=this,e={};if(e.body=this.bodyText,e.privacy=this.privacyValue.value,e.sticky=this.stickyValue,e.poll=this.poll?this.poll:void 0,this.editPost){let s=this.$config.get("api.apiPostUpdateUrl").replace("%node",this.editPost.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(s,e,{withCredentials:!0}).then((e=>{1===e.data.status?t.$refs.vueDropZone.getQueuedFiles().length>0?(this.$store.commit("setUpdateLock",!0),t.dropzoneResetAfterComplete=!0,t.$refs.vueDropZone.processQueue()):(t.editPost.body=e.data.nodeData.body,t.editPost.body_formatted=e.data.nodeData.body_formatted,t.editPost.privacy.privacyDefault=e.data.nodeData.privacy.privacyDefault,t.editPost.sticky=e.data.nodeData.sticky,t.editPost.poll=e.data.nodeData.poll,t.editPost.changed=e.data.nodeData.changed,this.$store.dispatch("updatePost",t.editPost),this.$root.$emit("nm-stream:node:save",t.editPost),t.resetForm()):alert(this.$t("warning.error_occured_please_repeat_your_action"))}))}else{let s=this.$config.get("api.apiPostAddUrl").replace("%token",this.streamOptions.token);e.containerNID=this.streamOptions.containerNID,e.contextNID=this.streamOptions.contextNID,r["default"].axios.post(s,e,{withCredentials:!0}).then((e=>{if(1===e.data.status){let s=e.data.nodeData;t.$emit("stream-post-added",s),t.$refs.vueDropZone.getQueuedFiles().length>0?(t.$refs.vueDropZone.setOption("url",t.getPostUploadUrl(s)),t.dropzoneResetAfterComplete=!0,t.$refs.vueDropZone.processQueue()):t.resetForm()}else alert(this.$t("warning.error_occured_please_repeat_your_action"))}))}},escPressed(){0===this.bodyText.length&&this.resetForm()},submitOnCtrlEnter(t){t.ctrlKey&&this.savePost()},resetForm(){if(this.editPost)this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-post").style.height="auto";else{this.formActive=!1,this.bodyText="";let t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").blur(),this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").style.height="auto",this.stickyValue=0,this.poll=null}this.$refs.vueDropZone.removeAllFiles(),this.busyLoading=!1},dragOver(){this.formActive=!0,this.$nextTick((()=>{this.resizeDropArea()}))},queueCompleted(){console.log("completed"),this.dropzoneQueueProcessing&&(this.resetForm(),this.dropzoneResetAfterComplete=!1,this.dropzoneQueueProcessing=!1,this.$store.commit("setUpdateLock",!1))},dropzoneQueueProcess(){this.dropzoneQueueProcessing=!0},vdropzoneSuccess(t,e){this.$store.dispatch("updateAttachments",e.nodeData)},dropzoneError(t,e,s){console.error(t,e,s),alert(e.message+" ("+e.nid+")")},resizeDropArea(){this.$refs.vueDropZone&&"250px"!==this.$refs.vueDropZone.$el.style.height&&(this.$refs.vueDropZone.$el.style.height="250px",this.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="100px",this.resizePostFormContainer())},updateAuthor(){this.author=this.streamOptions.loggedInUser,this.editPost&&(this.author=this.editPost.user)},loadPrivacyOptions(t){let e=[];if(!Array.isArray(t)||!Array.isArray(this.streamOptions.privacyOptions))return e;let s=null;if(this.editPost){let t=parseInt(this.editPost.privacy.privacyDefault);s=r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",t])[0]}return this.streamOptions.privacyOptionsAll.forEach((a=>{(t.indexOf(a.value)>-1||s&&a.value==s.value)&&e.push(a)})),e},initializePost(){if(this.editPost){this.formActive=!0,this.bodyText=this.editPost.body,this.stickyValue=parseInt(this.editPost.sticky),this.poll=this.editPost.poll,this.privacyDefault=this.editPost.privacy.privacyDefault,this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions);let t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.$nextTick((()=>{this.$refs.streamTextarea&&(this.resizeTextareaElement(this.$refs.streamTextarea.$el.querySelector("textarea")),this.$refs.vueDropZone.$el.style.height="50px",this.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="10px",this.resizePostFormContainer())}))}},getPostUploadUrl(t){let e="";return t||(t=this.editPost),e=t?this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",t.nid).replace("%token",this.streamOptions.token):this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",0).replace("%token",this.streamOptions.token),e},getAutoProcessQueue(){return!1},getDropZomeRemoveLabel(){return this.editPost?this.$t("label.nmDictHideFile"):this.$t("label.dictRemoveFile")},onAttachmentDeleteConf(t){this.$emit("post-form-onAttachmentDeleteConf",t)},pluginSubmitDialog(t){this.poll=t,this.pluginCloseDialog()},pluginCloseDialog(){this.currentPluginTemplate="",this.$nextTick((()=>{this.resizeTextareaElement(this.$refs.streamTextarea.$el.querySelector("textarea"))}))},changedBodyText(t){this.bodyText=t},changedFormActive(t){this.formActive=t}},watch:{},mounted:async function(){if(this.privacyDefault=this.streamOptions.privacyDefault,this.privacyOptions=this.streamOptions.privacyOptions,this.loggedInUser=this.streamOptions.loggedInUser,this.$nextTick((()=>{this.$el.setAttribute("style","height:"+this.$el.scrollHeight+"px;"),this.$el.addEventListener("input",this.resizeTextarea)})),!this.privacyValue){this.editPost?(this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions),this.privacyDefault=this.editPost.privacy.privacyDefault):(this.privacyOptions=this.streamOptions.privacyOptions,this.privacyDefault=this.streamOptions.privacyDefault);let t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.privacyValue||(this.privacyValue=this.privacyOptions[0],this.privacyDefault=this.privacyValue.value)}this.loggedInUser=this.streamOptions.loggedInUser,this.updateAuthor()},beforeDestroy(){this.$el.removeEventListener("input",this.resizeTextarea)},render(){return this.$slots.default[0]},data(){return{currentPluginTemplate:"",loggedInUser:null,author:null,privacyOptions:null,privacyDefault:null,formActive:!1,bodyText:"",poll:null,privacyValue:null,stickyValue:0,dropzoneResetAfterComplete:!1,files:null,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",dropzoneQueueProcessing:!1,dropzoneOptions:{url:this.getPostUploadUrl(),createImageThumbnails:!1,autoProcessQueue:this.getAutoProcessQueue(),addRemoveLinks:!0,parallelUploads:1,acceptedFiles:this.streamOptions.acceptedFiles,maxFilesize:20,dictDefaultMessage:this.$t("label.dictDefaultMessage"),dictFallbackMessage:this.$t("label.dictFallbackMessage"),dictFileTooBig:this.$t("label.customdictFileTooBig"),dictInvalidFileType:this.$t("label.dictInvalidFileType"),dictCancelUpload:this.$t("label.dictCancelUpload"),dictUploadCanceled:this.$t("label.dictUploadCanceled"),dictCancelUploadConfirmation:this.$t("label.dictCancelUploadConfirmation"),dictRemoveFile:this.getDropZomeRemoveLabel(),dictMaxFilesExceeded:this.$t("label.dictMaxFilesExceeded")}}},computed:{canSetSticky:function(){return this.editPost?this.editPost.permissions.canSetSticky:this.streamOptions.permissions.canCreateStickyPost}}},ft=ht,vt=(0,w.Z)(ft,T,U,!1,null,"5fd93d7c",null),gt=vt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-poll"},[s("h4",{staticClass:"qst",domProps:{innerHTML:t._s(t.question)}}),s("div",{staticClass:"ans-cnt"},[t.finalResults||t.visibleResults?[t._l(t.calcAnswers,(function(e,a){var i;return s("div",{key:a,class:(i={ans:!0},i[e.custom_class]=e.custom_class,i)},[s("div",{staticClass:"ans-voted",class:{final:t.finalResults,"ans-voted":!0,selected:e.selected}},[e.percent?s("span",{staticClass:"percent",domProps:{textContent:t._s(e.percent)}}):t._e(),s("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})]),t.finalResults?s("span",{class:{bg:t.finalResults,selected:t.mostVotes==e.votes},style:{width:e.percent}}):s("span",{staticClass:"bg",style:{width:t.visibleResults?e.percent:"0%"}})])})),t.restoreViewVotes?s("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults.apply(null,arguments)}}}):t._e()]:t._l(t.answersOptions,(function(e,a){var i;return s("div",{key:a,class:(i={ans:!0},i[e.custom_class]=e.custom_class,i)},[s("div",{class:{"ans-no-vote noselect":!0,active:e.selected},on:{click:function(s){return s.preventDefault(),t.handleVote(e)}}},[s("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})])])}))],2),t.showTotalVotes&&(t.visibleResults||t.finalResults)?s("div",{staticClass:"votes",domProps:{textContent:t._s(t.totalVotesFormatted+" "+t.labelVotes+" ("+t.totalParticipantsFormatted+" "+t.labelParticipated+")")}}):t._e(),!t.finalResults&&!t.visibleResults&&t.totalSelections>0?[s("button",{staticClass:"btn btn-primary submit-button float-left",attrs:{href:"#"},domProps:{textContent:t._s(t.submitButtonText)},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}})]:t._e(),!t.canEdit||t.finalResults||t.visibleResults?t._e():[s("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults.apply(null,arguments)}}})]],2)},bt=[],Ct={name:"plugin-poll-view",props:{question:{type:String,required:!0},answers:{type:Array,required:!0},showResults:{type:Boolean,default:!1},showTotalVotes:{type:Boolean,default:!0},finalResults:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},submitButtonText:{type:String,default:function(){return this.$t("plugins.poll.submit")}},viewResultsButtonText:{type:String,default:function(){return this.$t("plugins.poll.viewResults")}},customId:{type:Number,default:0},numberParticipants:{type:Number,default:0},canEdit:{type:Boolean,default:!1}},data(){return{visibleResults:JSON.parse(this.showResults),restoreViewVotes:!1,answersOptions:[{}]}},computed:{totalVotes(){let t=0;return this.answers.filter((e=>{!isNaN(e.votes)&&e.votes>0&&(t+=parseInt(e.votes))})),t},totalVotesFormatted(){return this.totalVotes.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelVotes(){return 1===this.totalVotes?this.$t("plugins.poll.vote"):this.$t("plugins.poll.votes")},totalParticipantsFormatted(){return this.numberParticipants.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelParticipants(){return 1===this.numberParticipants?this.$t("plugins.poll.participant"):this.$t("plugins.poll.participants")},labelParticipated(){return this.$t("plugins.poll.participated")},mostVotes(){let t=0;return this.answers.filter((e=>{!isNaN(e.votes)&&e.votes>0&&e.votes>=t&&(t=e.votes)})),t},calcAnswers(){return 0===this.totalVotes?this.answers.map((t=>(t.percent="0%",t))):this.answers.filter((t=>(!isNaN(t.votes)&&t.votes>0?t.percent=Math.round(parseInt(t.votes)/this.totalVotes*100)+"%":t.percent="0%",t)))},totalSelections(){return this.answersOptions.filter((t=>t.selected)).length}},mounted(){0===this.totalVotes&&(this.answersOptions=this.answers.map((t=>(t.percent="0%",t)))),this.answersOptions=this.answers.filter((t=>(!isNaN(t.votes)&&t.votes>0?t.percent=Math.round(parseInt(t.votes)/this.totalVotes*100)+"%":t.percent="0%",t))),this.answersOptions=JSON.parse(JSON.stringify(this.answersOptions))},methods:{handleSubmit(){let t=[];this.answersOptions.filter((e=>{e.selected&&(e.votes++,t.push({value:e.value,votes:e.votes}))})),this.visibleResults=!0;let e={arSelected:t,totalVotes:this.totalVotes};this.customId&&(e.customId=this.customId),this.$emit("addvote",e)},handleViewResults(){1==this.restoreViewVotes?(this.visibleResults=!1,this.restoreViewVotes=!1):(this.visibleResults=!0,this.restoreViewVotes=!0)},deselectAll(){return this.answersOptions.map((t=>(t.selected=!1,t)))},handleVote(t){this.multiple?(void 0===t.selected&&console.log("Please add 'selected: false' on the answer object"),t.selected=!t.selected):t.selected?this.deselectAll():(this.deselectAll(),t.selected=!0)}}},_t=Ct,Dt=(0,w.Z)(_t,yt,bt,!1,null,null,null),xt=Dt.exports,wt={api:{apiInitAgrUrl:"http://localhost:9501/api/v2.0/nm_stream/initialize_aggregated",apiUpdateContextsUrl:"http://localhost:9501/api/v2.0/nm_stream/update_contexts/%offset/%limit/%token",apiInitUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/initialize",apiPollUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/poll_update/%offset/%limit/%token",apiPostAttachmentDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/file/%file/delete/%token",apiPostAttachmentUploadUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/file/upload/%token",apiPostUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/update/%token",apiPostAddUrl:"http://localhost:9501/api/v2.0/nm_stream/node/add/%token",apiPostDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/delete/%token",apiCommentUpdateUrl:"http://localhost:9501/api/v2.0/nm_stream/comment/%comment/update/%token",apiCommentAddUrl:"http://localhost:9501/api/v2.0/nm_stream/node/%node/comment/add/%token",apiCommentDeleteUrl:"http://localhost:9501/api/v2.0/nm_stream/comment/%comment/delete/%token",apiNodePollAddVote:"http://localhost:9501/api/v2.0/nm_stream/node/%node/poll/add_vote/%token",apiUserMentionMembers:"http://localhost:9501/api/v2.0/nm_stream/node/%node/get/mention_members"}},Pt={async addVote(t,e,s,a,i){let n={arSelected:[]};e.arSelected?n.arSelected=e.arSelected:n.arSelected=[{value:e.value,votes:e.votes}];let o=wt.api.apiNodePollAddVote.replace("%node",t).replace("%token",s);r["default"].axios.post(o,n,{withCredentials:!0}).then((t=>{if(1===t.data.status)return a(t.data);i()}))}},kt=s(629),$t={props:["streamOptions","post","mentionMembers"],components:{StreamComment:j,StreamCommentForm:L,StreamPostForm:gt,PluginPollView:xt},name:"stream-post",data(){return{pollViewRenderUpdateFlag:!1,pollViewRenderOnceKey:1,initializeForm:!1,showComments:!1,curDeleteAttachment:null,streamPostFormComponent:""}},computed:{canEdit:function(){return this.post.permissions.canEdit},canDelete:function(){return this.post.permissions.canDelete},canCreateComment:function(){return!0},sortedComments:function(){const t=this.$store.getters.getPostComments(this.post.container.nid,this.post.nid);return r["default"]._.orderBy(t,"created","desc")},modalID:function(){return"modal-delete"+this.post.nid},privacy:function(){let t=parseInt(this.post.privacy.privacyDefault);return r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",t])[0]},streamLink:function(){return this.post.container.link+"#streamNode-"+this.post.nid}},mounted:async function(){this.$root.$on("plugins:poll:creator:save",(()=>{this.pollViewRenderUpdateFlag=!0})),this.$root.$on("nm-stream:node:save",(()=>{this.pollViewRenderUpdateFlag&&(this.pollViewRenderUpdateFlag=!1,this.pollViewRenderOnceKey++)}))},methods:{...(0,kt.nv)(["updatePost"]),editPost(){this.initializeForm=!0,this.showComments=!1,setTimeout((()=>{this.$el.classList.add("flip-active"),this.$refs.streamPostForm.initializePost(),this.$refs.backDelete.classList.add("hide"),this.$refs.backEdit.classList.remove("hide")}),200)},toggleComments(){this.showComments=!this.showComments,this.showComments&&this.$nextTick((()=>{let t=new Event("nm-stream:update");document.dispatchEvent(t)}))},deletePost(){this.showComments=!1,setTimeout((()=>{this.$el.classList.add("flip-active"),this.$refs.backEdit.classList.add("hide"),this.$refs.backDelete.classList.remove("hide")}),200)},updateComment(t){this.$store.dispatch("updateComment",{containerNID:this.post.container.nid,comment:t})},editCanceled(){this.$el.classList.remove("flip-active")},onDeleteSubmit(){let t=this,e=this.$config.get("api.apiPostDeleteUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.get(e,{withCredentials:!0}).then((e=>{1===e.data.status?(this.$store.dispatch("deletePost",t.post),this.$el.classList.remove("flip-active")):alert(this.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel(){this.$el.classList.remove("flip-active")},onAttachmentDeleteConf(t){this.$refs.postDeleteAttachmentConf.show(),this.curDeleteAttachment=t},addUser(t){this.$store.dispatch("addUser",t)},addComment(t){this.showComments=!0,this.$store.dispatch("addComment",{containerNID:this.post.container.nid,comment:t})},deleteComment(t){this.$store.dispatch("deleteComment",{containerNID:this.post.container.nid,comment:t})},hideModal(){this.$refs.postDeleteAttachmentConf.hide(),this.curDeleteAttachment=null},onAttachmentDelete(){let t=this.curDeleteAttachment,e=this,s=this.$config.get("api.apiPostAttachmentDeleteUrl").replace("%node",e.post.nid).replace("%file",t.fid).replace("%token",this.streamOptions.token);r["default"].axios.get(s,{withCredentials:!0}).then((()=>{let s=e.post.attachments.findIndex((e=>e.fid===t.fid));e.post.attachments.splice(s,1)})),this.hideModal()},pollAddVote(t){Pt.addVote(this.post.nid,t,this.streamOptions.token,(t=>{this.post.poll=t.poll,this.updatePost(this.post,t)}),(()=>{alert(this.$t("warning.error_occured_please_repeat_your_action"))}))}},watch:{initializeForm:function(t){!0===t&&(this.streamPostFormComponent="StreamPostForm")}}},St=$t,Ot=(0,w.Z)(St,p,u,!1,null,"0ae0d310",null),Lt=Ot.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"stream-filter-form content",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 stream-filter-input-wrapper"},[s("transition",{attrs:{name:"fade"}},[t.filterWidgetVisible?s("div",{staticClass:"row"},[t.streamOptions.contextNID?t._e():s("div",{staticClass:"col-md-4"},[s("vue-typeahead-bootstrap",{ref:"context",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidContext()},attrs:{placeholder:t.$t("filter.placeholder.context"),serializer:function(t){return t.title},data:t.contexts},on:{hit:function(e){t.contextSelected=e}},model:{value:t.contextSearch,callback:function(e){t.contextSearch=e},expression:"contextSearch"}})],1),s("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[s("vue-typeahead-bootstrap",{ref:"username",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidUser()},attrs:{placeholder:t.$t("filter.placeholder.username"),serializer:function(t){return t.realname},data:t.users},on:{hit:function(e){t.userSelected=e}},model:{value:t.userSearch,callback:function(e){t.userSearch=e},expression:"userSearch"}})],1),s("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[s("stream-privacy-widget",{attrs:{privacyValue:t.privacyValue,privacyOptions:t.privacyOptions},on:{interface:function(e){t.privacyValue=e}}})],1)]):t._e()])],1),s("div",{staticClass:"col-md-2 stream-filter-action-wrapper"},[s("transition",{attrs:{name:"fade"}},[t.contextSearch||t.userSearch||t.privacyValue?s("button",{staticClass:"stream-filter-reset",attrs:{type:"reset",href:"#"},on:{click:function(e){return t.resetClick()}}},[s("font-awesome-icon",{attrs:{icon:["fa","times"]}})],1):t._e()]),s("button",{staticClass:"stream-filter-submit",attrs:{type:"submit",disabled:(t.isInValidContext()||t.isInValidUser()||!t.contextSearch&&!t.userSearch&&!t.privacyValue)&&t.filterWidgetVisible},on:{click:function(e){return t.filterClick()}}},[s("font-awesome-icon",{attrs:{icon:["fa","filter"]}})],1)],1)])])},zt=[],At=s(5890),jt={name:"StreamFilter",props:["streamOptions"],components:{StreamPrivacyWidget:Z,VueTypeaheadBootstrap:At.Z},data(){return{contextSearch:null,contextSelected:null,contexts:this.streamOptions.filterAvailableContexts,userSearch:null,userSelected:null,users:this.streamOptions.filterAvailableUsers,username:null,privacyValue:null,filterActive:null,filterWidgetVisible:!1,privacyOptions:this.streamOptions.privacyOptions}},methods:{onSubmit(){},filterClick(){if(!this.filterWidgetVisible)return void(this.filterWidgetVisible=!0);const t=this.privacyValue?this.privacyValue.value:null;let e={};this.contextSelected&&this.contextSearch==this.contextSelected.title&&(e.context=this.contextSelected.nid),this.userSelected&&this.userSearch==this.userSelected.realname&&(e.user=this.userSelected.uid),t&&(e.privacy=t),(this.contextSelected||this.userSelected||t)&&(this.filterActive=!0,this.$store.dispatch("setFilter",e))},isInValidContext(){return!(!this.contextSearch||this.contextSelected&&this.contextSearch==this.contextSelected.title)},isInValidUser(){return!(!this.userSearch||this.userSelected&&this.userSearch==this.userSelected.realname)},resetClick(){this.contextSelected=null,this.userSelected=null,this.privacyValue=null,this.contextSearch="",this.userSearch="",this.filterActive&&(this.$store.dispatch("setFilter",null),this.filterActive=null)}}},Tt=jt,Ut=(0,w.Z)(Tt,It,zt,!1,null,"213b58ee",null),Mt=Ut.exports,Nt={name:"StreamList",props:["containernid","aggregated"],components:{StreamPost:Lt,StreamPostForm:gt,StreamFilter:Mt},data(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",loggedInUser:1,infiniteScrollLimit:10,maxPostsToShow:10,pollingUpdate:null,streamUpdateOnRerender:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:{...(0,kt.rn)(["filterParams"]),...(0,kt.Se)(["getUser","getInitializedContainer","getSortedPosts","getStreamOptionsContainer","getPost","getbusyLoading","getbusyLoadingMore","getMaxPostsLimitReached"]),streamOptions(){return this.getStreamOptionsContainer(this.containernid)},sortedPosts(){return this.getSortedPosts(this.containernid)},initialized(){return this.getInitializedContainer(this.containernid)}},methods:{...(0,kt.nv)(["initializeStream","addPost","deletePost","deleteComment","addComment","addUser","loadMore","setinfiniteScrollLimit"]),initialize:function(){this.aggregated||(this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.$store.commit("setPostVisibleInViewPort",{containerNID:this.containernid,visibleInViewPort:!0})),this.initializeStream(this.containernid),document.addEventListener("nm-stream:update-model",(()=>{this.streamUpdateOnRerender=!0}),!1)},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointLoadMore({going:t}){t===this.$waypointMap.GOING_IN&&this.loadMore(this.containernid)}},updated:function(){this.streamUpdateOnRerender&&this.$nextTick((()=>{let t=new Event("nm-stream:update");document.dispatchEvent(t),this.streamUpdateOnRerender=!1}))},watch:{busyLoading:function(t){const e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((()=>{location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)},beforeDestroy:function(){clearInterval(this.pollingUpdate)}},Vt=Nt,Ft=(0,w.Z)(Vt,d,m,!1,null,null,null),Et=Ft.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"stream-aggregated"}},[s("transition",{attrs:{name:"fade"}},[t.initialized?s("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),s("pulse-loader",{attrs:{loading:!t.initialized||t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}}),s("transition-group",{attrs:{name:"list"}},t._l(t.containers,(function(e){return s("div",{key:e.nid,attrs:{"data-nid":e.nid}},[s("div",{staticClass:"stream-container-label"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle"}],staticClass:"btn btn-link btn-collapse",attrs:{href:"#collapse-nid-"+e.nid,"data-target":"'#collapse-nid-' + container.nid"},on:{click:function(t){t.preventDefault()}}},[s("span",{staticClass:"when-open"},[s("font-awesome-icon",{attrs:{icon:t.iconFaArrowDown}})],1),s("span",{staticClass:"when-closed"},[s("font-awesome-icon",{attrs:{icon:t.iconFaArrowUp}})],1)]),s("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.title))]),t._v(": "),s("a",{attrs:{href:e.context_url}},[t._v(t._s(e.context_title))])],1),s("b-collapse",{staticClass:"stream-container-wrapper",attrs:{visible:"",id:"collapse-nid-"+e.nid}},[s("stream-list",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointContainer,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointContainer, options: intersectionOptions }"}],attrs:{containernid:e.nid,"data-nid":e.nid,aggregated:!0}})],1)],1)})),0),t.busyLoading?t._e():s("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),s("br"),s("pulse-loader",{attrs:{loading:!t.busyLoading&&t.getbusyLoadingMore(0),color:t.busyLoadingColor,size:t.busyLoadingSize}}),s("br")],1)},Bt=[],Zt={name:"StreamListAggregated",components:{StreamFilter:Mt,StreamList:Et},data(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",maxPostsLimitReached:!1,loggedInUser:1,infiniteScrollLimit:2,iconFaArrowUp:H.q9j,iconFaArrowDown:H.dEo,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:{...(0,kt.Se)(["getStreamOptions","getInitializedContainer","getbusyLoading","getbusyLoadingMore"]),...(0,kt.rn)(["containers","filterParams","initialized"]),busyLoading(){return this.getbusyLoading(0)},initialized(){return this.getInitializedContainer(0)},streamOptions(){return this.getStreamOptions()}},methods:{...(0,kt.nv)(["initializeStreamAggregated","loadMoreContainers","setinfiniteScrollLimit"]),initialize:function(){this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.initializeStreamAggregated()},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointContainer({el:t,going:e}){const s=t.getAttribute("data-nid");e===this.$waypointMap.GOING_IN&&this.$store.commit("setPostVisibleInViewPort",{containerNID:s,visibleInViewPort:!0}),e===this.$waypointMap.GOING_OUT&&this.$store.commit("setPostVisibleInViewPort",{containerNID:s,visibleInViewPort:!1})},onWaypointLoadMore({going:t}){this.busyLoading||this.getbusyLoadingMore(0)||t===this.$waypointMap.GOING_IN&&this.loadMoreContainers(0)}},watch:{busyLoading:function(t){const e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((()=>{location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)}},qt=Zt,Wt=(0,w.Z)(qt,Rt,Bt,!1,null,null,null),Ht=Wt.exports,Qt={name:"Stream",components:{StreamListAggregated:Ht,StreamList:Et},computed:(0,kt.rn)(["containerNID"]),beforeMount:function(){if(this.$root.$el.attributes["data-container-nid"]){let t=this.$root.$el.attributes["data-container-nid"].value;this.$store.commit("setcontainerNID",t)}else this.$store.commit("setcontainerNID",0)}},Kt=Qt,Gt=(0,w.Z)(Kt,l,c,!1,null,"405f995c",null),Jt=Gt.exports;class Xt{constructor(){this.privacyDefault="",this.privacyOptions=[],this.privacyOptionsAll=[],this.permissions=[],this.loggedInUser="",this.containerNID="",this.contextNID="",this.token="",this.timestamp="",this.acceptedFiles="",this.filterAvailableContexts=[],this.filterAvailableUsers=[]}}var Yt={initializeStream:function({params:t,containerNID:e},s){let a={},i=wt.api.apiInitUrl.replace("%node",e);r["default"].axios.get(i,{params:t,withCredentials:!0}).then((t=>{a.posts=t.data.stream.posts,a.postsCount=t.data.stream.postsCount,a.users=t.data.stream.users,a.comments=t.data.stream.comments,a.loggedInUser=t.data.stream.loggedInUser,a.streamOptions=this.processStreamOptions(t),s(a)}))},initializeStreamAggregated:function(t){let e={},s=wt.api.apiInitAgrUrl;r["default"].axios.get(s,{withCredentials:!0}).then((s=>{e.containers=s.data.stream.containers,e.loggedInUser=s.data.stream.loggedInUser,e.streamOptions=this.processStreamOptions(s),t(e)}))},updateStreamAggregated:function({params:t,maxPostsToShow:e,token:s},a){let i={},n=wt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",e).replace("%token",s);r["default"].axios.get(n,{params:t,withCredentials:!0}).then((t=>{i.containers=t.data.stream.containers,i.streamOptions=this.processStreamOptions(t),a(i)}))},updateStream({params:t,maxPostsToShow:e,containerNID:s,token:a},i){let n={},o=wt.api.apiPollUpdateUrl.replace("%node",s).replace("%offset",0).replace("%limit",e).replace("%token",a);r["default"].axios.get(o,{params:t,withCredentials:!0}).then((t=>{n.posts=t.data.stream.posts,n.postsCount=t.data.stream.postsCount,n.users=t.data.stream.users,n.comments=t.data.stream.comments,n.comments=t.data.stream.comments,n.timestamp=t.data.stream.timestamp,i(n)}))},updateContextsStream({params:t,maxPostsToShow:e,token:s},a){let i={},n=wt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",e).replace("%token",s);r["default"].axios.get(n,{params:t,withCredentials:!0}).then((t=>{i.containers=t.data.stream.containers,i.timestamp=t.data.stream.timestamp,a(i)}))},processStreamOptions(t){let e=new Xt;return e.aggregated=t.data.stream.aggregated,e.privacyOptions=t.data.stream.privacyOptions,e.privacyOptionsAll=t.data.stream.privacyOptionsAll,e.privacyDefault=t.data.stream.privacyDefault,e.permissions=t.data.stream.permissions,e.token=t.data.stream.token,e.contextNID=t.data.stream.contextNID,e.containerNID=t.data.stream.containerNID,e.timestamp=t.data.stream.timestamp,e.acceptedFiles=t.data.stream.acceptedFiles,e.filterAvailableContexts=t.data.stream.filterAvailableContexts,e.filterAvailableUsers=t.data.stream.filterAvailableUsers,e}},te={async getMentionMembers(t,e,s){let a=wt.api.apiUserMentionMembers.replace("%node",t),i={},n=await r["default"].axios.post(a,i,{withCredentials:!0});1===n.data.status?e(n.data.mention_members):s()}};r["default"].use(kt.ZP);const ee=!1;var se=new kt.ZP.Store({state:{containerNID:0,aggregated:!1,updateLock:!1,containers:[],pollUpdateInterval:[],containersData:[{initialized:!1}],mentionMembers:[],filterParams:[],infiniteScrollLimit:3,infiniteScrollLimitContainers:2,pollingUpdate:!1,users:[]},strict:ee,actions:{setinfiniteScrollLimit({commit:t},e){t("setinfiniteScrollLimit",e)},initializeStream({commit:t,dispatch:e,getters:s},a){t("setBusy",{containerNID:a,busy:!0});const i=s.getFilterParams();Yt.initializeStream({params:i,containerNID:a},(s=>{t("initializeStream",{containerNID:a,data:s}),s.users.forEach((t=>{e("addUser",t)})),t("setBusy",{containerNID:a,busy:!1}),t("setBusyMore",{containerNID:a,busy:!1});let i=new Event("nm-stream:update-model");document.dispatchEvent(i)})),e("pollUpdate",a)},initializeStreamAggregated({state:t,commit:e,dispatch:s}){t.containersData[0]={},e("setMaxToShow",{containerNID:0,maxToShow:t.infiniteScrollLimitContainers}),e("setBusy",{containerNID:0,busy:!0}),Yt.initializeStreamAggregated((t=>{e("initializeStreamAggregated",t),e("setBusy",{containerNID:0,busy:!1}),e("setBusyMore",{containerNID:0,busy:!1})})),s("pollUpdate",0)},updateStreamAggregated({state:t,commit:e,getters:s}){if(!t.containersData[0].initialized)return;const a=t.containersData[0].streamOptions.token;if(!a)return;const i=s.getFilterParams(),n=t.containersData[0].maxPostsToShow;e("setBusy",{containerNID:0,busy:!0}),Yt.updateStreamAggregated({params:i,maxContainersToShow:n,token:a},(t=>{e("updateContainers",t),e("setBusy",{containerNID:0,busy:!1})}))},updateStream({dispatch:t,commit:e,getters:s,state:a},i){let n=a.updateLock;if(n)return;if(!a.containersData[i])return;if(!a.containersData[i].initialized||a.containersData[i].busyLoading||a.containersData[i].busyLoadingMore)return;const o=a.containersData[i].maxPostsToShow,r=a.containersData[i].streamOptions.token;if(!r)return;const l=s.getFilterParams();Yt.updateStream({params:l,maxPostsToShow:o,containerNID:i,token:r},(s=>{a.containersData[i].busyLoadingMore&&(e("setMaxPostsLimitReached",{containerNID:i,maxPostsLimitReached:a.containersData[i].posts.length==a.containersData[i].postsCount}),e("setBusyMore",{containerNID:i,busy:!1})),e("setBusy",{containerNID:i,busy:!1}),e("updateStream",{containerNID:i,data:s}),s.users.forEach((e=>{t("addUser",e)}))}))},updateContainers({getters:t,state:e,commit:s}){const a=e.containersData[0].maxPostsToShow,i=t.getStreamOptions().token;if(!i)return;const n=t.getFilterParams();Yt.updateContextsStream({params:n,maxPostsToShow:a,token:i},(t=>{e.containersData[0].busyLoadingMore&&s("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:e.containers.length>=t.containers.length}),s("setBusy",{containerNID:0,busy:!1}),s("setBusyMore",{containerNID:0,busy:!1}),s("updateContainers",t)}))},addPost:function({commit:t},e){t("addPost",e);let s=new Event("nm-stream:update-model");document.dispatchEvent(s)},updatePost:function({commit:t},e){t("updatePost",e);let s=new Event("nm-stream:update-model");document.dispatchEvent(s)},updateAttachments:function({commit:t},e){t("updateAttachments",e)},deletePost:function({commit:t},e){t("deletePost",e)},deleteComment:function({commit:t},e){t("deleteComment",e)},addComment:function({commit:t},e){t("addComment",e);let s=new Event("nm-stream:update-model");document.dispatchEvent(s)},updateComment:function({commit:t},e){t("updateComment",e);let s=new Event("nm-stream:update-model");document.dispatchEvent(s)},addUser:function({commit:t,getters:e},s){e.getUser(s.uid)||t("addUser",s)},setFilter({commit:t,state:e,dispatch:s},a){t("setFilter",a),e.containersData[0].streamOptions&&e.aggregated?(t("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:!1}),s("updateStreamAggregated"),t("setBusy",{containerNID:0,busy:!0})):(clearInterval(e.pollUpdateInterval),t("setMaxPostsLimitReached",{containerNID:e.containerNID,maxPostsLimitReached:!1}),s("pollUpdate",e.containerNID),t("setBusy",{containerNID:e.containerNID,busy:!0}))},loadMore({commit:t,state:e,dispatch:s},a){if(!e.containersData[a]||!e.containersData[a].initialized||e.containersData[a].busyLoadingMore||e.containersData[a].maxPostsLimitReached)return!1;const i=e.infiniteScrollLimit;t("setMaxToShow",{containerNID:a,maxToShow:e.containersData[a].maxPostsToShow+i}),s("updateStream",a),t("setBusyMore",{containerNID:a,busy:!0})},loadMoreContainers({commit:t,dispatch:e,state:s},a){if(!s.containersData[a]||!s.containersData[a].initialized||s.containersData[a].busyLoadingMore||s.containersData[a].busyLoading||s.containersData[a].maxPostsLimitReached)return!1;t("setBusyMore",{containerNID:0,busy:!0}),t("setMaxToShow",{containerNID:a,maxToShow:s.containersData[a].maxPostsToShow+s.infiniteScrollLimitContainers}),e("updateContainers")},pollUpdate({dispatch:t,commit:e,state:s},a){s.pollUpdateInterval[a]&&clearInterval(s.pollUpdateInterval[a]),t("updateStream",a);let i=setInterval((()=>{let e=document.hasFocus();!e||s.containersData[a]&&!s.containersData[a].visibleInViewPort||t("updateStream",a)}),5e3);e("setPollUpdateInterval",{containerNID:a,pollUpdateInterval:i})}},getters:{getbusyLoading:t=>e=>!!t.containersData[e]&&t.containersData[e].busyLoading,getbusyLoadingMore:t=>e=>!!t.containersData[e]&&t.containersData[e].busyLoadingMore,getInitializedContainer:t=>e=>!!t.containersData[e]&&t.containersData[e].initialized,getStreamOptions:t=>()=>{const e=0;return!!t.containersData[e]&&t.containersData[e].streamOptions},getStreamOptionsContainer:t=>e=>!!t.containersData[e]&&t.containersData[e].streamOptions,getSortedPosts:t=>e=>{let s=r["default"]._.chain(t.containersData[e].posts).sortBy("created").sortBy("sticky").reverse().value(),a=s.slice(0,t.containersData[e].maxPostsToShow);return a},getPost:(t,e)=>(s,a)=>{if(!t.containersData[s].posts)return null;let i=t.containersData[s].posts.filter((t=>t.nid===a))[0],n=i;return n.user=e.getUser(n.uid),n},getUser:t=>e=>t.users.find((t=>t.uid===e)),getPostComments:(t,e)=>(s,a)=>{if(!t.containersData[s])return[];let i=t.containersData[s].comments.filter((t=>t.nid===a));if(i&&i.length>0)for(let t in i)i[t].user=e.getUser(i[t].uid);return i},getFilterParams:t=>()=>{const e=new URLSearchParams;return t.filterParams&&(t.filterParams.context&&e.append("context_nid",t.filterParams.context),t.filterParams.user&&e.append("user_uid",t.filterParams.user),t.filterParams.privacy&&e.append("privacy_key",t.filterParams.privacy)),e},getMentionMembers:t=>e=>t.mentionMembers[e]?t.mentionMembers[e]:(t.mentionMembers[e]=[],te.getMentionMembers(e,(s=>{t.mentionMembers[e]=s}),(()=>{console.error((void 0).$t("warning.error_occured_please_repeat_your_action"))})),t.mentionMembers),getMaxPostsLimitReached:t=>e=>!(!t.containersData[e]||!t.containersData[e].initialized)&&(t.containersData[e].posts.length==t.containersData[e].postsCount||t.containersData[e].maxPostsLimitReached)},mutations:{setcontainerNID(t,e){e||(t.aggregated=!0),t.containerNID=e},setUpdateLock(t,e){t.updateLock=e},initializeStream(t,e){const s=e.containerNID,a=e.data;t.containersData[s]||(t.containersData[s]={}),t.containersData[s].posts=a.posts,t.containersData[s].postsCount=a.postsCount,t.containersData[s].comments=a.comments,t.containersData[s].streamOptions=a.streamOptions,t.containersData[s].initialized=!0,t.containersData[s].maxPostsToShow=t.infiniteScrollLimit,t.containersData=t.containersData.slice(0)},initializeStreamAggregated(t,e){t.containers=e.containers.slice(0,t.infiniteScrollLimit),t.containersData[0].streamOptions=e.streamOptions,t.containersData[0].initialized=!0},updateContainers(t,e){t.containers=e.containers,t.containersData[0].streamOptions.timestamp=e.timestamp},updateStream(t,e){const s=e.containerNID,a=e.data;t.containersData[s].posts=a.posts,t.containersData[s].postsCount=a.postsCount,t.containersData[s].comments=a.comments,t.containersData[s].streamOptions.timestamp=a.timestamp,t.containersData=t.containersData.slice(0)},addPost:function(t,e){t.containersData[e.container.nid].posts.push(e),t.containersData[e.container.nid].maxPostsToShow++,t.containersData=t.containersData.slice(0)},updatePost:function(t,e){const s=e.container.nid;let a=t.containersData[s].posts.indexOf(e);a>-1&&(t.containersData[s].posts[a]=e,t.containersData=t.containersData.slice(0))},updateAttachments:function(t,e){const s=e.container.nid;let a=t.containersData[s].posts.filter((t=>t.nid===e.nid))[0];a&&(a.attachments=e.attachments,t.containersData=t.containersData.slice(0))},deletePost:function(t,e){const s=e.container.nid;let a=t.containersData[s].posts.indexOf(e);a>-1&&t.containersData[s].posts.splice(a,1),t.containersData=t.containersData.slice(0)},updatePosts:function(t,e){const s=e.containerNID,a=e.posts;t.containersData[s].posts=a,t.containersData=t.containersData.slice(0)},addComment:function(t,e){const s=e.containerNID,a=e.comment;t.containersData[s].comments.push(a),t.containersData=t.containersData.slice(0)},updateComment:function(t,e){const s=e.containerNID,a=e.comment;let i=t.containersData[s].comments.indexOf(a);i>-1&&(t.containersData[s].comments[i]=a,t.containersData=t.containersData.slice(0))},deleteComment:function(t,e){const s=e.containerNID,a=e.comment;let i=t.containersData[s].comments.indexOf(a);i>-1&&t.containersData[s].comments.splice(i,1),t.containersData=t.containersData.slice(0)},updateComments:function(t,e){const s=e.containerNID,a=e.comments;t.containersData[s].comments=a,t.containersData=t.containersData.slice(0)},addUser:function(t,e){t.users.push(e)},updateUsers:function(t,e){t.users=e},updateInitialized:function(t,e){const s=e.containerNID,a=e.initialized;t.containersData[s].initialized=a,t.containersData=t.containersData.slice(0)},setFilter(t,e){t.filterParams=e},setBusy(t,e){const s=e.containerNID,a=e.busy;t.containersData[s]||(t.containersData[s]={}),t.containersData[s].busyLoading=a,t.containersData=t.containersData.slice(0)},setPostVisibleInViewPort(t,e){const s=e.containerNID,a=e.visibleInViewPort;t.containersData[s]||(t.containersData[s]={}),t.containersData[s].visibleInViewPort=a},setBusyMore(t,e){const s=e.containerNID,a=e.busy;t.containersData[s].busyLoadingMore=a,t.containersData=t.containersData.slice(0)},setMaxToShow(t,e){const s=e.containerNID,a=e.maxToShow;t.containersData[s].maxPostsToShow=a,t.containersData=t.containersData.slice(0)},setPollingUpdate(t,e){const s=e.containerNID,a=e.pollingUpdate;t.containersData[s].pollingUpdate=a,t.containersData=t.containersData.slice(0)},setMaxPostsLimitReached(t,e){const s=e.containerNID,a=e.maxPostsLimitReached;t.containersData[s].maxPostsLimitReached=a,t.containersData=t.containersData.slice(0)},setinfiniteScrollLimit(t,e){t.infiniteScrollLimit=e},setPollUpdateInterval(t,e){const s=e.containerNID,a=e.pollUpdateInterval;t.pollUpdateInterval[s]=a}}}),ae=s(7845),ie=s(7351),ne=s(9765),oe=s.n(ne),re=s(6486),le=s.n(re),ce=s(7907),de=s(8947),me=s(6024),pe=s(7810),ue=s(7152),he=s(9669),fe=s.n(he),ve=s(1939),ge=s.n(ve),ye=s(7554),be=s.n(ye),Ce=s(5040),_e=s(2489),De=s.n(_e),xe=s(1531),we=s(6831),Pe=s.n(we),ke=s(5659),$e=s.n(ke),Se=JSON.parse('{"de":{"placeholder":{"your_post_message":"Ihre Nachricht","your_comment_message":"Ihr Kommentar"},"label":{"attachments":"Anhänge","upload_files":"Dateien hochladen","attachment_delete":"Anhang löschen","dictDefaultMessage":"<i class=\'fa fa-cloud-upload\'></i> Dateien hochladen","dictFallbackMessage":"Ihr Browser unterstützt leider keinen Upload","dictInvalidFileType":"Dieser Dateityp wird nicht unterstützt","dictCancelUpload":"Upload abbrechen","dictUploadCanceled":"Der Upload wurde abgebrochen","dictCancelUploadConfirmation":"Upload wirklich abbrechen?","dictRemoveFile":"Entfernen","customdictFileTooBig":"Diese Datei ist zu groß. Maximale Größe: {{maxFilesize}} MB.","nmDictHideFile":"Verstecken","dictMaxFilesExceeded":"Das Uploadlimit von {{maxFiles}} wurde überschritten","postContextFrom":"Beitrag aus","edited":"bearbeitet","load_more":"mehr laden..."},"link":{"show_x_comments":"{count} Kommentare anzeigen","hide_x_comments":"{count} Kommentare verstecken"},"button":{"cancel":"Abbrechen","post":"Speichern","edit":"Bearbeiten","delete":"Löschen","select_privacy":"Sichtbarkeit festlegen","delete_attachment":"Anhang löschen"},"warning":{"delete_post_really_want_to":"Möchten Sie den Beitrag wirklich löschen?","delete_attachment_really_want_to":"Möchten Sie den Anhang wirklich löschen?","delete_post_action_cannot_be_undone":"Sie sind dabei einen Beitrag zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","delete_comment_really_want_to":"Möchten Sie den Kommentar wirklich löschen?","delete_comment_action_cannot_be_undone":"Sie sind dabei einen Kommentar zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","error_occured_please_repeat_your_action":"Es ist ein Fehler aufgetreten, bitte wiederholen Sie Ihre letzte Aktion."},"empty":{"no_posts_found":"Keine Beiträge"},"plugins":{"sticky":{"title":"Beitrag anheften","status_title":"Beitrag angeheftet"},"poll":{"title":"Umfrage starten","new_poll":"Neue Umfrage starten","your_question":"Die Frage..","answer":"Antwort","allow_multiple_votes":"Mehrere Antworten erlauben","submit":"Abstimmen","viewResults":"Zwischenergebnis ansehen","save":"Speichern","create":"Erstellen","delete":"Löschen","cancel":"Abbrechen","status_created":"Erstellt","status_error":"Fehler","vote":"Stimme","votes":"Stimmen","participant":"Teilnahme","participants":"Teilnahmen","participated":"teilgenommen","pollEndDateLabel":"Ende der Umfrage festlegen","pollEndDateDescription":"Wird dieses Feld gesetzt, so ist ab diesem Zeitpunkt keine Abstimmung mehr möglich. Es wird das Umfrageergebnis angezeigt."}},"filter":{"placeholder":{"context":"Kurs/Lehrtext","username":"Person","privacy":"Privatsphäre"}}}}');r["default"].config.productionTip=!1,de.vI.add(me.SZ,me.gM,me.I7,H.SJR,H.wD$,H.G_j,H.NBC,me.dE),r["default"].component("font-awesome-icon",pe.GN),r["default"].component("pulse-loader",xe.Z),r["default"].component("multiselect",ce.Multiselect),r["default"].config.productionTip=!1,r["default"].use(ae.ZPm),r["default"].use(oe(),{name:"custom",lodash:le()}),r["default"].use(ue.Z),r["default"].use(ge(),fe()),r["default"].use(Ce.Z,{config:wt}),r["default"].component("nl2br",be()),r["default"].use(De()),r["default"].use(ie.n),r["default"].use($e());const Oe=s(381);s(9740),r["default"].use(s(2513),{moment:Oe}),r["default"].component("VueCtkDateTimePicker",Pe()),r["default"].component("vue-typeahead-bootstrap",At.Z);const Le=new ue.Z({locale:"de",messages:Se});window.stream=new r["default"]({i18n:Le,store:se,render:t=>t(Jt)}).$mount("#stream")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,o=a[0],r=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var d=l(s)}for(e&&e(a);c<o.length;c++)n=o[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunknm_stream_v4"]=self["webpackChunknm_stream_v4"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9058)}));a=s.O(a)})();
//# sourceMappingURL=app.js.map