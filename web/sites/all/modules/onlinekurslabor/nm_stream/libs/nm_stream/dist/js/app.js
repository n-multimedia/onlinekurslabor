(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,r=1;r<s.length;r++){var l=s[r];0!==a[l]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},a={app:0},n=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="../onlinekurslabor/web/sites/all/modules/onlinekurslabor/nm_stream/libs/nm_stream/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02f8":function(t,e,s){},"06cb":function(t,e,s){"use strict";var i=s("3f40"),a=s.n(i);a.a},"1c26":function(t,e,s){"use strict";var i=s("4bad"),a=s.n(i);a.a},"27d9":function(t,e,s){},2817:function(t,e,s){"use strict";var i=s("3213"),a=s.n(i);a.a},"2a7e":function(t,e,s){},3213:function(t,e,s){},"3f40":function(t,e,s){},4454:function(t,e,s){},4678:function(t,e,s){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id="4678"},"4bad":function(t,e,s){},5218:function(t,e,s){"use strict";var i=s("aa4f"),a=s.n(i);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i,a,n,o,r=s("2b0e"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"stream"}},[s("transition",{attrs:{name:"fade"}},[t.initialized?s("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),s("pulse-loader",{attrs:{loading:!t.initialized||t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}}),t.initialized&&t.streamOptions.containerNID>0&&t.streamOptions.permissions.canCreatePost?s("stream-post-form",{attrs:{streamOptions:t.streamOptions,streamPlugins:t.streamPlugins},on:{"stream-post-added":t.addPost}}):t._e(),t.initialized&&0==t.posts.length?s("div",[t._v(" "+t._s(t.$t("empty.no_posts_found"))+" ")]):t._e(),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"},{name:"keep-scroll-position",rawName:"v-keep-scroll-position"}],staticClass:"stream-post-wrapper",attrs:{"infinite-scroll-disabled":"busyLoading","infinite-scroll-distance":"10"}},[s("transition-group",{attrs:{name:"list"}},t._l(t.sortedPosts,(function(e){return s("stream-post",{key:e.nid,attrs:{post:t.getLoadedPost(e),comments:t.getNodeComments(e.nid),streamOptions:t.streamOptions},on:{"stream-post-deleted":t.deletePost,"stream-comment-deleted":t.deleteComment,"stream-comment-added":t.addComment,"stream-user-added":t.addUser}})})),1)],1),s("br"),s("pulse-loader",{attrs:{loading:t.busyLoadingMore,color:t.busyLoadingColor,size:t.busyLoadingSize}}),s("br")],1)},c=[],d=(s("4de4"),s("7db0"),s("c975"),s("fb6a"),s("a434"),s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("ddb0"),s("2b3d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-flip"},[s("div",{staticClass:"flip"},[s("div",{staticClass:"front"},[s("div",{staticClass:"stream-post card"},[this.streamOptions.containerNID!==this.post.container.nid?s("div",{staticClass:"row post-context"},[s("div",{staticClass:"col-12"},[s("span",{staticClass:"float-right"},[t._v(" "+t._s(t.$t("label.postContextFrom"))+": "),s("a",{attrs:{href:t.streamLink}},[t._v(t._s(this.post.container.title))])])])]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.post.user.avatarUrl,title:t.post.user.name}})]),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 post-header"},[null!==this.privacy?s("div",{staticClass:"post-privacy-wrapper float-right"},[s("img",{staticClass:"post-privacy",attrs:{src:t.privacy.img,alt:t.privacy.title,title:t.privacy.title}})]):t._e(),1==t.post.sticky?s("div",{staticClass:"post-sticky",attrs:{title:t.$t("plugins.sticky.status_title")}},[s("font-awesome-icon",{attrs:{icon:["fa","anchor"]}})],1):t._e(),t.canEdit||t.canDelete?s("div",[s("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?s("b-dropdown-item",{on:{click:t.editPost}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?s("b-dropdown-item",{on:{click:t.deletePost}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),s("div",{staticClass:"username"},[s("a",{attrs:{href:t.post.user.profileUrl}},[t._v(t._s(t.post.user.name))])]),s("div",{staticClass:"created"},[s("font-awesome-icon",{attrs:{icon:["far","clock"]}}),s("span",{attrs:{title:t._f("moment")(t.post.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.post.created,"from"))+" ")])],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 body"},[s("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.post.body_formatted)}}),t.post.poll?s("plugin-poll-view",t._b({key:t.pollViewRenderOnceKey,on:{addvote:t.pollAddVote}},"plugin-poll-view",t.post.poll,!1)):t._e()],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t.post.attachments.length>0?s("div",{staticClass:"stream-post-attachments"},[s("font-awesome-icon",{attrs:{icon:["far","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),s("ul",t._l(t.post.attachments,(function(e){return s("li",{key:e.fid},[s("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?s("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(s){return s.preventDefault(),t.onAttachmentDeleteConf(e)}}},[s("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])})),0)],1):t._e(),t.sortedComments.length>0?s("div",{staticClass:"stream-post-footer"},[s("div",[t.showComments?s("a",{key:"false",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showComments=!t.showComments}}},[t._v(t._s(t.$t("link.hide_x_comments",{count:t.sortedComments.length})))]):s("a",{key:"true",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleComments(e)}}},[t._v(" "+t._s(t.$t("link.show_x_comments",{count:t.sortedComments.length}))+" ")])])]):t._e()])])])]),s("div",{staticClass:"row comments-wrapper"},[s("div",{staticClass:"col-10 offset-2"},[t.canCreateComment?s("stream-comment-form",{attrs:{streamOptions:t.streamOptions,post:t.post},on:{"stream-user-added":t.addUser,"stream-comment-added":t.addComment}}):t._e(),s("transition",{attrs:{name:"fade"}},[t.sortedComments.length>0&&!0===t.showComments?s("div",[s("transition-group",{attrs:{name:"list"}},t._l(t.sortedComments,(function(e){return s("stream-comment",{key:e.cid,attrs:{streamOptions:t.streamOptions,comment:e,user:e.user},on:{"stream-comment-deleted":t.deleteComment}})})),1)],1):t._e()])],1)])])]),s("div",{ref:"backEdit",staticClass:"back-edit"},[s("div",{staticClass:"stream-post card"},[s(t.streamPostFormComponent,{ref:"streamPostForm",tag:"component",attrs:{streamOptions:t.streamOptions,editPost:t.post},on:{"form-edit-canceled":function(e){return t.editCanceled()},"post-form-onAttachmentDeleteConf":t.onAttachmentDeleteConf}})],1)]),s("div",{ref:"backDelete",staticClass:"back-delete"},[s("div",{staticClass:"stream-post card"},[s("h3",[t._v(t._s(t.$t("warning.delete_post_really_want_to")))]),s("br"),s("p",[t._v(" "+t._s(t.$t("warning.delete_post_action_cannot_be_undone"))+" ")]),s("br"),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-outline-danger float-right",on:{click:t.onDeleteSubmit}},[t._v(t._s(t.$t("button.delete"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:t.onDeleteCancel}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])]),s("b-modal",{ref:"postDeleteAttachmentConf",attrs:{id:"bv-modal-delete-attachment",centered:"","hide-footer":"",title:t.$t("label.attachment_delete")}},[s("div",{staticClass:"d-block text-center"},[t._v(" "+t._s(t.$t("warning.delete_attachment_really_want_to"))+" "),s("br"),s("br")]),s("b-button",{staticClass:"mt-3",attrs:{variant:"",block:""},on:{click:t.hideModal}},[t._v(t._s(t.$t("button.cancel")))]),s("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:""},on:{click:function(e){return t.onAttachmentDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")])],1)],1)}),u=[],m=(s("c740"),s("9911"),s("96cf"),s("1da1")),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-flip"},[s("div",{staticClass:"flip"},[s("div",{staticClass:"front"},[s("div",{staticClass:"stream-comment card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.user.avatarUrl,title:t.user.name}})]),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[t.canEdit||t.canDelete?s("div",[s("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?s("b-dropdown-item",{on:{click:t.editComment}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?s("b-dropdown-item",{on:{click:t.deleteComment}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),s("div",{staticClass:"username"},[s("a",{attrs:{href:t.user.profileUrl}},[t._v(t._s(t.user.name))])]),s("div",{staticClass:"created"},[s("span",{attrs:{title:t._f("moment")(t.comment.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.comment.created,"from")))])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 body"},[s("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.comment.body_formatted)}})])])])])])]),s("div",{ref:"backEdit",staticClass:"back-edit"},[s("div",{staticClass:"stream-comment card"},[s("stream-comment-form",{ref:"streamCommentForm",attrs:{streamOptions:t.streamOptions,editComment:t.comment},on:{"form-edit-canceled":function(e){return t.editCanceled()}}})],1)]),s("div",{ref:"backDelete",staticClass:"back-delete"},[s("div",{staticClass:"stream-post card"},[s("h4",[t._v(t._s(t.$t("warning.delete_comment_really_want_to")))]),s("br"),s("p",[t._v(" "+t._s(t.$t("warning.delete_comment_action_cannot_be_undone"))+" ")]),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-outline-danger float-right",on:{click:function(e){return t.onDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:function(e){return t.onDeleteCancel()}}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])])])},h=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stream-comment-from card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),s("div",{staticClass:"col-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bodyText,expression:"bodyText"}],staticClass:"stream-comment-body",attrs:{name:"body",disabled:t.busyLoading,placeholder:t.$t("placeholder.your_comment_message")},domProps:{value:t.bodyText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escPressed(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOnCtrlEnter(e)}],focus:function(e){t.formActive=!0},input:function(e){e.target.composing||(t.bodyText=e.target.value)}}}),s("transition",{attrs:{name:"fade"}},[s("div",{key:t.formActive,staticClass:"row stream-action-2"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[t.formActive?s("div",{staticClass:"col-12 action-buttons"},[s("button",{staticClass:"btn btn-outline-primary stream-comment-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.saveComment}},[t._v(t._s(t.$t("button.post"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary stream-comment-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")]),s("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])])])])],1)])])},v=[],b={props:["streamOptions","post","editComment"],name:"stream-comment-form",methods:{resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizeCommentFormContainer()},resizeCommentFormContainer:function(){this.editComment&&(this.$parent.$el.querySelector(".stream-comment").style.height=150+this.$el.querySelector("textarea").scrollHeight+"px")},saveComment:function(){var t=this;this.busyLoading=!0;var e=this,s={};if(s.body=this.bodyText,this.editComment){var i=this.$config.get("api.apiCommentUpdateUrl").replace("%comment",this.editComment.cid).replace("%token",this.streamOptions.token);r["default"].axios.post(i,s,{withCredentials:!0}).then((function(s){e.resetForm(),1===s.data.status?(e.editComment.body_formatted=s.data.commentData.body_formatted,e.editComment.body=s.data.commentData.body,e.resetForm()):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var a=this.$config.get("api.apiCommentAddUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(a,s,{withCredentials:!0}).then((function(s){if(e.resetForm(),1===s.data.status){var i=s.data.commentData,a=s.data.userData;e.$emit("stream-comment-added",i),e.$emit("stream-user-added",a)}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},escPressed:function(){0===this.bodyText.length&&this.resetForm()},resetForm:function(){this.editComment?(this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-comment").style.height="auto"):(this.bodyText="",this.formActive=!1,this.$el.querySelector("textarea.stream-comment-body").blur(),this.$el.querySelector("textarea.stream-comment-body").style.height="auto"),this.busyLoading=!1},submitOnCtrlEnter:function(t){t.ctrlKey&&this.saveComment()},initializeComment:function(){var t=this;this.editComment&&(this.formActive=!0,this.bodyText=this.editComment.body,this.$nextTick((function(){t.resizeTextareaElement(t.$el.querySelector("textarea")),t.resizeCommentFormContainer()})))},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editComment&&(this.author=this.editComment.user)}},mounted:function(){var t=this;this.$nextTick((function(){t.$el.setAttribute("style","height:"+t.$el.scrollHeight+"px;overflow-y:hidden;"),t.$el.addEventListener("input",t.resizeTextarea)})),this.updateAuthor()},beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{formActive:!1,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",author:null,bodyText:""}}},g=b,y=(s("a5f2"),s("2877")),_=Object(y["a"])(g,f,v,!1,null,"c8ff7832",null),C=_.exports,k={props:["streamOptions","comment","user"],components:{StreamCommentForm:C},name:"stream-comment",data:function(){return{}},computed:{canEdit:function(){return this.comment.permissions.canEdit},canDelete:function(){return this.comment.permissions.canDelete}},methods:{editComment:function(){var t=this;this.$el.classList.add("flip-active"),setTimeout((function(){t.$refs.streamCommentForm.initializeComment(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide"),t.$refs.streamCommentForm.initializeComment()}),200)},deleteComment:function(){var t=this;setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},onDelete:function(){var t=this,e=this,s=this.$config.get("api.apiCommentDeleteUrl").replace("%comment",this.comment.cid).replace("%token",this.streamOptions.token);r["default"].axios.get(s,{withCredentials:!0}).then((function(s){1===s.data.status?(e.$emit("stream-comment-deleted",e.comment),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},editCanceled:function(){this.$el.classList.remove("flip-active")}}},w=k,x=(s("e47b"),Object(y["a"])(w,p,h,!1,null,"bf41e478",null)),$=x.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stream-post-form card",on:{dragover:t.dragOver}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),t.currentPluginTemplate?s("div",{staticClass:"active-plugin-content col-10"},[s("keep-alive",[s(t.currentPluginTemplate,{tag:"component",attrs:{param1:t.poll},on:{dialogSubmit:function(e){return t.pluginSubmitDialog(e)},dialogClose:function(e){return t.pluginCloseDialog()}}})],1)],1):t._e(),t.currentPluginTemplate?t._e():s("div",{staticClass:"col-10"},[s("at-ta",{attrs:{members:t.mentionMembers,"name-key":"name"},scopedSlots:t._u([{key:"item",fn:function(e){return[s("img",{staticClass:"rounded-circle",attrs:{src:e.item.avatar}}),s("span",{domProps:{textContent:t._s(e.item.realname)}})]}}],null,!1,3950982271)},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bodyText,expression:"bodyText"},{name:"model",rawName:"v-model.lazy",value:t.bodyText,expression:"bodyText",modifiers:{lazy:!0}}],staticClass:"stream-post-body",attrs:{name:"body",disabled:t.busyLoading,placeholder:t.$t("placeholder.your_post_message")},domProps:{value:t.bodyText,value:t.bodyText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escPressed(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOnCtrlEnter(e)}],focus:function(e){t.formActive=!0},input:function(e){e.target.composing||(t.bodyText=e.target.value)},change:function(e){t.bodyText=e.target.value}}})]),t.formActive?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 plugins"},[t.canSetSticky?s("plugin-sticky",{attrs:{param1:t.stickyValue},on:{interface:function(e){t.stickyValue=e}}}):t._e(),s("plugin-poll",{attrs:{param1:t.poll},on:{interface:function(e){t.currentPluginTemplate=e}}})],1)]):t._e(),s("div",{staticClass:"row stream-action-1"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("div",{key:t.formActive,staticClass:"col-12 stream-attachments"},[s("vue-dropzone",{ref:"vueDropZone",attrs:{id:"dropzone",options:t.dropzoneOptions,disabled:t.busyLoading},on:{"vdropzone-processing":t.dropzoneQueueProcess,"vdropzone-file-added":t.resizeDropArea,"vdropzone-queue-complete":t.queueCompleted}}),t.editPost&&t.editPost.attachments.length>0?s("div",{ref:"postAttachmentList",staticClass:"stream-post-attachments"},[s("font-awesome-icon",{attrs:{icon:["fa","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),t._l(t.editPost.attachments,(function(e){return s("div",{key:e.fid},[s("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?s("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(s){return s.preventDefault(),t.onAttachmentDeleteConf(e)}}},[s("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])}))],2):t._e(),s("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])],1),s("div",{staticClass:"row stream-action-2"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[s("transition",{attrs:{name:"fade"}},[t.formActive?s("div",{key:t.formActive,staticClass:"col-12 action-buttons"},[s("stream-privacy-widget",{attrs:{privacyOptions:t.privacyOptions,privacyValue:t.privacyValue},on:{interface:function(e){t.privacyValue=e}}}),s("button",{staticClass:"btn btn-outline-primary stream-post-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.savePost}},[t._v(t._s(t.$t("button.post"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary stream-post-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")])],1):t._e()])],1)])])],1)])])},O=[],D=(s("4160"),s("159b"),s("92c3")),j=s.n(D),S=(s("1e3f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.privacyOptions.length>0?s("div",{staticClass:"stream-post-privacy-settings"},[s("multiselect",{attrs:{options:t.privacyOptions,"track-by":"value","option-height":104,searchable:!1,"show-labels":!1,"allow-empty":t.allowEmpty,placeholder:t.$t("button.select_privacy"),disabled:t.busyLoading},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[s("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title}}),s("span",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))])])]}},{key:"option",fn:function(e){return[s("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title,disabled:t.busyLoading}}),s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))]),s("span",{staticClass:"option__small"},[t._v(t._s(e.option.desc))])])]}}],null,!1,1178984776),model:{value:t.privacyValue,callback:function(e){t.privacyValue=e},expression:"privacyValue"}})],1):t._e()}),A=[],z={name:"StreamPrivacyWidget",props:["privacyOptions","privacyValue"],data:function(){return{busyLoading:null,allowEmpty:null}},watch:{privacyValue:function(t){this.$emit("interface",t)}}},U=z,L=(s("1c26"),s("2817"),Object(y["a"])(U,S,A,!1,null,"359bd306",null)),T=L.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"plugin plugin-abstract",class:t.name},[s("span",{staticClass:"plugin-toolbar-btn",class:{active:t.isActive},attrs:{title:t.title},on:{click:t.onClickCallback}},[s("font-awesome-icon",{attrs:{icon:t.icon}})],1)])},F=[],V=s("c074"),I={props:["param1"],components:{},name:"plugin",data:function(){return{icon:V["b"],label:"Not implemented yet",title:"Not implemented yet",name:this.$options._componentTag}},computed:{isActive:function(){return!1}},methods:{onClickCallback:function(){alert("To be implemented")}}},M=I,N=(s("8d9c"),Object(y["a"])(M,E,F,!1,null,"355204c2",null)),R=N.exports,q={extends:R,name:"plugin-sticky",data:function(){return{icon:V["a"],title:this.$t("plugins.sticky.title"),sticky:this.param1}},computed:{isActive:function(){return 1===this.sticky}},methods:{onClickCallback:function(){1===this.sticky?this.sticky=0:this.sticky=1,this.$emit("interface",this.sticky)}}},B=q,Z=(s("06cb"),Object(y["a"])(B,i,a,!1,null,null,null)),H=Z.exports,Q={extends:R,name:"plugin-poll",data:function(){return{icon:V["d"],activePluginComponent:"",title:this.$t("plugins.poll.title"),editPoll:this.param1}},computed:{isActive:function(){return!!this.editPoll}},methods:{onClickCallback:function(){this.activePluginComponent="PluginPollCreator",this.$emit("interface",this.activePluginComponent)}},mounted:function(){}},K=Q,W=(s("6709"),Object(y["a"])(K,n,o,!1,null,null,null)),J=W.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row poll-wrapper"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row poll-title"},[s("div",{staticClass:"col-12"},[s("h4",[t._v(t._s(t.$t("plugins.poll.new_poll")))])])]),s("div",{staticClass:"row poll-container"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row poll-question"},[s("div",{staticClass:"col-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.question,expression:"poll.question"}],attrs:{type:"text",placeholder:t.$t("plugins.poll.your_question")},domProps:{value:t.poll.question},on:{input:function(e){e.target.composing||t.$set(t.poll,"question",e.target.value)}}})])]),s("div",{staticClass:"poll-answers"},[s("draggable",{attrs:{tag:"div",list:t.poll.answers,handle:".handle"}},t._l(t.poll.answers,(function(e,i){return s("div",{key:e.value,staticClass:"row"},[s("div",{staticClass:"col-10"},[s("i",{staticClass:"handle"},[s("span")]),s("span",{staticClass:"text"},[t._v(t._s(e.name)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.answers[i].text,expression:"poll.answers[index].text"}],ref:"PollAnswerOptions",refInFor:!0,attrs:{placeholder:t.$t("plugins.poll.answer")+" "+(i+1),type:"text"},domProps:{value:t.poll.answers[i].text},on:{input:[function(e){e.target.composing||t.$set(t.poll.answers[i],"text",e.target.value)},function(e){return t.createNewInput(i)}],focus:function(e){return t.createNewInput(i)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextInput(i)}}})]),s("div",{staticClass:"col-2"},[s("i",{staticClass:"close",on:{click:function(e){return t.deleteInput(i)}}})])])})),0)],1),s("div",{staticClass:"row poll-options"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.multiple,expression:"poll.multiple"}],staticClass:"checked custom-control-input",attrs:{tabindex:"1",type:"checkbox",id:"cb-multiple-votes"},domProps:{checked:Array.isArray(t.poll.multiple)?t._i(t.poll.multiple,null)>-1:t.poll.multiple},on:{change:function(e){var s=t.poll.multiple,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);i.checked?o<0&&t.$set(t.poll,"multiple",s.concat([n])):o>-1&&t.$set(t.poll,"multiple",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.poll,"multiple",a)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"cb-multiple-votes"}},[t._v(t._s(t.$t("plugins.poll.allow_multiple_votes")))])])])]),s("div",{staticClass:"row poll-options"},[s("div",{staticClass:"col-10"},[s("VueCtkDateTimePicker",{attrs:{tabindex:"1",locale:"$i18n.locale",label:t.$t("plugins.poll.pollEndDateLabel")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),s("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("plugins.poll.pollEndDateDescription")))])],1),s("div",{staticClass:"col-2"})]),s("div",{staticClass:"row poll-actions"},[s("div",{staticClass:"col-12"},[t.editPoll?s("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.save"))+" ")]):t._e(),t.editPoll?t._e():s("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.create"))+" ")]),s("button",{staticClass:"btn btn-outline-secondary",on:{click:t.closePoll}},[t._v(t._s(t.$t("plugins.poll.cancel"))+" ")]),s("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:!t.editPoll},on:{click:t.deletePoll}},[t._v(t._s(t.$t("plugins.poll.delete"))+" ")])])])])])])])},X=[],Y=(s("d81d"),s("310e")),tt=s.n(Y),et={name:"plugin-poll-creator",components:{draggable:tt.a},props:{savePollUrl:{type:String},demo:{type:Boolean,default:!1},param1:{type:Object,default:null}},data:function(){return{poll:{question:"",answers:[{value:0,text:""},{value:1,text:""},{value:2,text:""}],multiple:!1},isValid:!1,success:null,editPoll:null,endDate:null}},mounted:function(){this.param1&&(this.poll=this.param1,this.endDate=this.param1.endDate?this.param1.endDate:null,this.editPoll=this.poll),0===this.poll.answers.length&&this.addEntry("")},methods:{addEntry:function(t){var e=Math.max.apply(Math,this.poll.answers.map((function(t){return t.value})));this.poll.answers.push({value:e+1,text:t})},createNewInput:function(t,e){this.poll.answers.length-1===t&&(e||this.poll.answers[t].text)&&this.addEntry("")},deleteInput:function(t){(t>0||this.poll.answers.length>1)&&this.poll.answers.splice(t,1)},nextInput:function(t){var e=this;this.poll.answers.length-1===t&&this.createNewInput(t,!0),setTimeout((function(){e.$refs.PollAnswerOptions[t+1].focus()}),10)},closePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogClose")},deletePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogSubmit",null),this.closePoll()},createPoll:function(){if(this.validate(),this.isValid){this.poll.answers=this.poll.answers.filter((function(t){if(t.text.length>0)return t}));var t={multiple:this.poll.multiple,question:this.poll.question,endDate:this.endDate,answers:[]};this.poll.answers.forEach((function(e){var s={value:e.value,text:e.text,votes:0,selected:!1};t.answers.push(s)})),this.$emit("dialogSubmit",t),this.$root.$emit("plugins:poll:creator:save",t),this.closePoll()}else this.alert(!1)},resetPoll:function(){this.poll.multiple=!1,this.poll.answers=[],this.addEntry(""),this.addEntry(""),this.addEntry(""),this.poll.question="",this.isValid=!1},validate:function(){var t=this.poll.answers.filter((function(t){if(t.text.length>0)return t})),e=t.length;return this.isValid=e>0,this.isValid},resetEndDate:function(){this.endDate=null},alert:function(t){var e=this;this.success=t,setTimeout((function(){e.success=null}),3e3)}}},st=et,it=(s("66df"),Object(y["a"])(st,G,X,!1,null,"b58c55c8",null)),at=it.exports,nt=s("53ff"),ot=s.n(nt),rt={api:{apiInitUrl:"/api/v2.0/nm_stream/node/%node/initialize",apiPollUpdateUrl:"/api/v2.0/nm_stream/node/%node/poll_update/%offset/%limit/%token",apiPostAttachmentDeleteUrl:"/api/v2.0/nm_stream/node/%node/file/%file/delete/%token",apiPostAttachmentUploadUrl:"/api/v2.0/nm_stream/node/%node/file/upload/%token",apiPostUpdateUrl:"/api/v2.0/nm_stream/node/%node/update/%token",apiPostAddUrl:"/api/v2.0/nm_stream/node/add/%token",apiPostDeleteUrl:"/api/v2.0/nm_stream/node/%node/delete/%token",apiCommentUpdateUrl:"/api/v2.0/nm_stream/comment/%comment/update/%token",apiCommentAddUrl:"/api/v2.0/nm_stream/node/%node/comment/add/%token",apiCommentDeleteUrl:"/api/v2.0/nm_stream/comment/%comment/delete/%token",apiNodePollAddVote:"/api/v2.0/nm_stream/node/%node/poll/add_vote/%token",apiUserMentionMembers:"/api/v2.0/nm_stream/node/%node/get/mention_members"}},lt={getMentionMembers:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function s(){var i,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=rt.api.apiUserMentionMembers.replace("%node",t),a={},s.next=4,r["default"].axios.post(i,a,{withCredentials:!0});case 4:if(n=s.sent,1!==n.data.status){s.next=9;break}return s.abrupt("return",n.data.mention_members);case 9:alert(e.$t("warning.error_occured_please_repeat_your_action"));case 10:case"end":return s.stop()}}),s)})))()}},ct={props:["streamOptions","editPost"],name:"stream-post-form",components:{StreamPrivacyWidget:T,vueDropzone:j.a,PluginSticky:H,PluginPoll:J,PluginPollCreator:at,AtTa:ot.a},methods:{resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizePostFormContainer()},resizePostFormContainer:function(){if(this.editPost&&this.$refs.vueDropZone){var t=parseFloat(this.$refs.vueDropZone.$el.style.height),e=0;this.$refs.postAttachmentList&&(e=parseFloat(this.$refs.postAttachmentList.clientHeight)),this.$parent.$el.querySelector(".stream-post").style.height=170+t+e+this.$el.querySelector("textarea").scrollHeight+"px"}this.currentPluginTemplate&&(this.$parent.$el.querySelector(".stream-post").style.height=90+this.$el.querySelector(".active-plugin-content").offsetHeight+"px")},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},savePost:function(){var t=this;this.busyLoading=!0;var e=this,s={};if(s.body=this.bodyText,s.privacy=this.privacyValue.value,s.sticky=this.stickyValue,s.poll=this.poll?this.poll:void 0,this.editPost){var i=this.$config.get("api.apiPostUpdateUrl").replace("%node",this.editPost.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(i,s,{withCredentials:!0}).then((function(s){if(1===s.data.status){e.editPost.body=s.data.nodeData.body,e.editPost.body_formatted=s.data.nodeData.body_formatted,e.editPost.privacy.privacyDefault=s.data.nodeData.privacy.privacyDefault,e.editPost.sticky=s.data.nodeData.sticky,e.editPost.poll=s.data.nodeData.poll;var i=new Event("nm-stream:update-model");document.dispatchEvent(i),t.$root.$emit("nm-stream:node:save",e.editPost),e.$refs.vueDropZone.getQueuedFiles().length>0?(e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):e.resetForm()}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var a=this.$config.get("api.apiPostAddUrl").replace("%token",this.streamOptions.token);s.containerNID=this.streamOptions.containerNID,s.contextNID=this.streamOptions.contextNID,r["default"].axios.post(a,s,{withCredentials:!0}).then((function(s){if(1===s.data.status){var i=s.data.nodeData;e.$emit("stream-post-added",i),e.$refs.vueDropZone.getQueuedFiles().length>0?(e.$refs.vueDropZone.setOption("url",e.getPostUploadUrl(i)),e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):e.resetForm()}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},escPressed:function(){0===this.bodyText.length&&this.resetForm()},submitOnCtrlEnter:function(t){t.ctrlKey&&this.savePost()},resetForm:function(){if(this.editPost)this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-post").style.height="auto";else{this.formActive=!1,this.bodyText="";var t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.$el.querySelector("textarea.stream-post-body").blur(),this.$el.querySelector("textarea.stream-post-body").style.height="auto",this.stickyValue=0,this.poll=null}this.$refs.vueDropZone.removeAllFiles(),this.busyLoading=!1},dragOver:function(){var t=this;this.formActive=!0,this.$nextTick((function(){t.resizeDropArea()}))},queueCompleted:function(){this.dropzoneQueueProcessing&&(this.resetForm(),this.dropzoneResetAfterComplete=!1,this.dropzoneQueueProcessing=!1)},dropzoneQueueProcess:function(){this.dropzoneQueueProcessing=!0},resizeDropArea:function(){this.$refs.vueDropZone&&"250px"!==this.$refs.vueDropZone.$el.style.height&&(this.$refs.vueDropZone.$el.style.height="250px",this.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="100px",this.resizePostFormContainer())},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editPost&&(this.author=this.editPost.user)},loadPrivacyOptions:function(t){var e=[];return Array.isArray(t)&&Array.isArray(this.streamOptions.privacyOptions)?(this.streamOptions.privacyOptions.forEach((function(s){t.indexOf(s.value)>-1&&e.push(s)})),e):e},initializePost:function(){var t=this;if(this.editPost){this.formActive=!0,this.bodyText=this.editPost.body,this.stickyValue=parseInt(this.editPost.sticky),this.poll=this.editPost.poll,this.privacyDefault=this.editPost.privacy.privacyDefault,this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions);var e=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.$nextTick((function(){t.resizeTextareaElement(t.$el.querySelector("textarea")),t.$refs.vueDropZone.$el.style.height="50px",t.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="10px",t.resizePostFormContainer()}))}},getPostUploadUrl:function(t){var e="";return t||(t=this.editPost),e=t?this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",t.nid).replace("%token",this.streamOptions.token):this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",0).replace("%token",this.streamOptions.token),e},getAutoProcessQueue:function(){return!1},getDropZomeRemoveLabel:function(){return this.editPost?this.$t("label.nmDictHideFile"):this.$t("label.dictRemoveFile")},onAttachmentDeleteConf:function(t){this.$emit("post-form-onAttachmentDeleteConf",t)},pluginSubmitDialog:function(t){this.poll=t,this.pluginCloseDialog()},pluginCloseDialog:function(){var t=this;this.currentPluginTemplate="",this.$nextTick((function(){t.resizeTextareaElement(t.$el.querySelector("textarea"))}))}},watch:{},mounted:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.privacyDefault=this.streamOptions.privacyDefault,this.privacyOptions=this.streamOptions.privacyOptions,this.loggedInUser=this.streamOptions.loggedInUser,this.$nextTick((function(){i.$el.setAttribute("style","height:"+i.$el.scrollHeight+"px;overflow-y:hidden;"),i.$el.addEventListener("input",i.resizeTextarea)})),this.privacyValue||(this.editPost?(this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions),this.privacyDefault=this.editPost.privacy.privacyDefault):(this.privacyOptions=this.streamOptions.privacyOptions,this.privacyDefault=this.streamOptions.privacyDefault),e=parseInt(this.privacyDefault),this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.privacyValue||(this.privacyValue=this.privacyOptions[0],this.privacyDefault=this.privacyValue.value)),this.loggedInUser=this.streamOptions.loggedInUser,this.updateAuthor(),s=null,s=this.editPost?this.editPost.context.nid:this.streamOptions.contextNID,t.next=11,lt.getMentionMembers(s);case 11:this.mentionMembers=t.sent;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{currentPluginTemplate:"",loggedInUser:null,author:null,privacyOptions:null,privacyDefault:null,formActive:!1,bodyText:"",poll:null,privacyValue:null,stickyValue:0,dropzoneResetAfterComplete:!1,files:null,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",dropzoneQueueProcessing:!1,mentionMembers:null,dropzoneOptions:{url:this.getPostUploadUrl(),createImageThumbnails:!1,autoProcessQueue:this.getAutoProcessQueue(),addRemoveLinks:!0,acceptedFiles:this.streamOptions.acceptedFiles,maxFilesize:20,dictDefaultMessage:this.$t("label.dictDefaultMessage"),dictFallbackMessage:this.$t("label.dictFallbackMessage"),dictFileTooBig:this.$t("label.customdictFileTooBig"),dictInvalidFileType:this.$t("label.dictInvalidFileType"),dictCancelUpload:this.$t("label.dictCancelUpload"),dictUploadCanceled:this.$t("label.dictUploadCanceled"),dictCancelUploadConfirmation:this.$t("label.dictCancelUploadConfirmation"),dictRemoveFile:this.getDropZomeRemoveLabel(),dictMaxFilesExceeded:this.$t("label.dictMaxFilesExceeded")}}},computed:{canSetSticky:function(){return this.editPost?this.editPost.permissions.canSetSticky:this.streamOptions.permissions.canCreateStickyPost}}},dt=ct,ut=(s("cce3"),s("c7a1"),Object(y["a"])(dt,P,O,!1,null,"bd758d20",null)),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-poll"},[s("h4",{staticClass:"qst",domProps:{innerHTML:t._s(t.question)}}),s("div",{staticClass:"ans-cnt"},[t.finalResults||t.visibleResults?t._l(t.calcAnswers,(function(e,i){var a;return s("div",{key:i,class:(a={ans:!0},a[e.custom_class]=e.custom_class,a)},[s("div",{staticClass:"ans-voted",class:{final:t.finalResults,"ans-voted":!0,selected:e.selected}},[e.percent?s("span",{staticClass:"percent",domProps:{textContent:t._s(e.percent)}}):t._e(),s("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})]),t.finalResults?s("span",{class:{bg:t.finalResults,selected:t.mostVotes==e.votes},style:{width:e.percent}}):s("span",{staticClass:"bg",style:{width:t.visibleResults?e.percent:"0%"}})])})):t._l(t.answersOptions,(function(e,i){var a;return s("div",{key:i,class:(a={ans:!0},a[e.custom_class]=e.custom_class,a)},[s("div",{class:{"ans-no-vote noselect":!0,active:e.selected},on:{click:function(s){return s.preventDefault(),t.handleVote(e)}}},[s("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})])])}))],2),t.showTotalVotes&&(t.visibleResults||t.finalResults)?s("div",{staticClass:"votes",domProps:{textContent:t._s(t.totalVotesFormatted+" "+t.labelVotes)}}):t._e(),!t.finalResults&&!t.visibleResults&&t.totalSelections>0?[s("button",{staticClass:"btn btn-primary submit-button",attrs:{href:"#"},domProps:{textContent:t._s(t.submitButtonText)},on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}})]:t._e()],2)},ht=[],ft=(s("a9e3"),s("25f0"),{name:"plugin-poll-view",props:{question:{type:String,required:!0},answers:{type:Array,required:!0},showResults:{type:Boolean,default:!1},showTotalVotes:{type:Boolean,default:!0},finalResults:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},submitButtonText:{type:String,default:function(){return this.$t("plugins.poll.submit")}},customId:{type:Number,default:0}},data:function(){return{visibleResults:JSON.parse(this.showResults),answersOptions:[{}]}},computed:{totalVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&(t+=parseInt(e.votes))})),t},totalVotesFormatted:function(){return this.totalVotes.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelVotes:function(){return 1===this.totalVotes?this.$t("plugins.poll.vote"):this.$t("plugins.poll.votes")},mostVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&e.votes>=t&&(t=e.votes)})),t},calcAnswers:function(){var t=this;return 0===this.totalVotes?this.answers.map((function(t){return t.percent="0%",t})):this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e}))},totalSelections:function(){return this.answersOptions.filter((function(t){return t.selected})).length}},mounted:function(){var t=this;0===this.totalVotes&&(this.answersOptions=this.answers.map((function(t){return t.percent="0%",t}))),this.answersOptions=this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e}))},methods:{handleSubmit:function(){var t=[];this.answersOptions.filter((function(e){e.selected&&(e.votes++,t.push({value:e.value,votes:e.votes}))})),this.visibleResults=!0;var e={arSelected:t,totalVotes:this.totalVotes};this.customId&&(e.customId=this.customId),this.answers=this.answersOptions,this.$emit("addvote",e)},deselectAll:function(){return this.answersOptions.map((function(t){return t.selected=!1,t}))},handleVote:function(t){this.multiple?(void 0===t.selected&&console.log("Please add 'selected: false' on the answer object"),t.selected=!t.selected):t.selected?this.deselectAll():(this.deselectAll(),t.selected=!0)}}}),vt=ft,bt=(s("c187"),Object(y["a"])(vt,pt,ht,!1,null,null,null)),gt=bt.exports,yt={addVote:function(t,e,s){var i=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={arSelected:[]},e.arSelected?n.arSelected=e.arSelected:n.arSelected=[{value:e.value,votes:e.votes}],o=rt.api.apiNodePollAddVote.replace("%node",t).replace("%token",s),l=n.arSelected,a.next=6,r["default"].axios.post(o,l,{withCredentials:!0});case 6:if(c=a.sent,1!==c.data.status){a.next=11;break}return a.abrupt("return",c.data);case 11:alert(i.$t("warning.error_occured_please_repeat_your_action"));case 12:case"end":return a.stop()}}),a)})))()}},_t={props:["streamOptions","post","comments"],components:{StreamComment:$,StreamCommentForm:C,StreamPostForm:mt,PluginPollView:gt},name:"stream-post",data:function(){return{pollViewRenderUpdateFlag:!1,pollViewRenderOnceKey:1,initializeForm:!1,showComments:!1,curDeleteAttachment:null,streamPostFormComponent:""}},computed:{canEdit:function(){return this.post.permissions.canEdit},canDelete:function(){return this.post.permissions.canDelete},canCreateComment:function(){return!0},sortedComments:function(){return r["default"]._.orderBy(this.comments,"created","desc")},modalID:function(){return"modal-delete"+this.post.nid},privacy:function(){var t=parseInt(this.post.privacy.privacyDefault);return r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",t])[0]},streamLink:function(){return this.post.container.link+"?streamNode="+this.post.nid}},mounted:function(){var t=this;this.$root.$on("plugins:poll:creator:save",(function(){t.pollViewRenderUpdateFlag=!0})),this.$root.$on("nm-stream:node:save",(function(){t.pollViewRenderUpdateFlag&&(t.pollViewRenderUpdateFlag=!1,t.pollViewRenderOnceKey++)}))},methods:{editPost:function(){var t=this;this.initializeForm=!0,this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.streamPostForm.initializePost(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide")}),200)},toggleComments:function(){this.showComments=!this.showComments,this.showComments&&this.$nextTick((function(){var t=new Event("nm-stream:update");document.dispatchEvent(t)}))},deletePost:function(){var t=this;this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},editCanceled:function(){this.$el.classList.remove("flip-active")},onDeleteSubmit:function(){var t=this,e=this,s=this.$config.get("api.apiPostDeleteUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.get(s,{withCredentials:!0}).then((function(s){1===s.data.status?(e.$emit("stream-post-deleted",e.post),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},onAttachmentDeleteConf:function(t){this.$refs.postDeleteAttachmentConf.show(),this.curDeleteAttachment=t},addUser:function(t){this.$emit("stream-user-added",t)},addComment:function(t){this.showComments=!0,this.$emit("stream-comment-added",t)},deleteComment:function(t){this.$emit("stream-comment-deleted",t)},hideModal:function(){this.$refs.postDeleteAttachmentConf.hide(),this.curDeleteAttachment=null},onAttachmentDelete:function(){var t=this.curDeleteAttachment,e=this,s=this.$config.get("api.apiPostAttachmentDeleteUrl").replace("%node",e.post.nid).replace("%file",t.fid).replace("%token",this.streamOptions.token);r["default"].axios.get(s,{withCredentials:!0}).then((function(){var s=e.post.attachments.findIndex((function(e){return e.fid===t.fid}));e.post.attachments.splice(s,1)})),this.hideModal()},pollAddVote:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:yt.addVote(e.post.nid,t,e.streamOptions.token);case 1:case"end":return s.stop()}}),s)})))()}},watch:{initializeForm:function(t){!0===t&&(this.streamPostFormComponent="StreamPostForm")}}},Ct=_t,kt=(s("65cc"),s("65b3"),Object(y["a"])(Ct,d,u,!1,null,"7ecdcdb2",null)),wt=kt.exports,xt=s("d4ec"),$t=function t(){Object(xt["a"])(this,t),this.privacyDefault="",this.privacyOptions=[],this.privacyOptionsAll=[],this.permissions=[],this.loggedInUser="",this.containerNID="",this.contextNID="",this.token="",this.timestamp="",this.acceptedFiles="",this.filterAvailableContexts=[],this.filterAvailableUsers=[]},Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"stream-filter-form"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 stream-filter-input-wrapper"},[s("transition",{attrs:{name:"fade"}},[t.filterWidgetVisible?s("div",{staticClass:"row"},[t.streamOptions.contextNID?t._e():s("div",{staticClass:"col-md-4"},[s("vue-typeahead-bootstrap",{staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidContext()},attrs:{placeholder:t.$t("filter.placeholder.context"),serializer:function(t){return t.title},data:t.contexts},on:{hit:function(e){t.contextSelected=e}},model:{value:t.contextSearch,callback:function(e){t.contextSearch=e},expression:"contextSearch"}})],1),s("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[s("vue-typeahead-bootstrap",{staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidUser()},attrs:{placeholder:t.$t("filter.placeholder.username"),serializer:function(t){return t.realname},data:t.users},on:{hit:function(e){t.userSelected=e}},model:{value:t.userSearch,callback:function(e){t.userSearch=e},expression:"userSearch"}})],1),s("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[s("stream-privacy-widget",{attrs:{privacyValue:t.privacyValue,privacyOptions:t.privacyOptions},on:{interface:function(e){t.privacyValue=e}}})],1)]):t._e()])],1),s("div",{staticClass:"col-md-2 stream-filter-action-wrapper"},[s("transition",{attrs:{name:"fade"}},[t.contextSearch||t.userSearch||t.privacyValue?s("button",{staticClass:"stream-filter-reset",attrs:{type:"button",href:"#"},on:{click:function(e){return t.resetClick()}}},[s("font-awesome-icon",{attrs:{icon:["fa","times"]}})],1):t._e()]),s("button",{staticClass:"stream-filter-submit",attrs:{type:"button",disabled:(t.isInValidContext()||t.isInValidUser()||!t.contextSearch&&!t.userSearch&&!t.privacyValue)&&t.filterWidgetVisible},on:{click:function(e){return t.filterClick()}}},[s("font-awesome-icon",{attrs:{icon:["fa","filter"]}})],1)],1)])])},Ot=[],Dt=s("d726"),jt={name:"StreamFilter",props:["streamOptions"],components:{StreamPrivacyWidget:T,VueTypeaheadBootstrap:Dt["a"]},data:function(){return{contextSearch:null,contextSelected:null,contexts:this.streamOptions.filterAvailableContexts,userSearch:null,userSelected:null,users:this.streamOptions.filterAvailableUsers,username:null,privacyValue:null,filterActive:null,filterWidgetVisible:!1,privacyOptions:this.streamOptions.privacyOptions}},methods:{filterClick:function(){if(this.filterWidgetVisible){var t=this.privacyValue?this.privacyValue.value:null,e={};this.contextSelected&&this.contextSearch==this.contextSelected.title&&(e.context=this.contextSelected.nid),this.userSelected&&this.userSearch==this.userSelected.realname&&(e.user=this.userSelected.uid),t&&(e.privacy=t),(this.contextSelected||this.userSelected||t)&&(this.filterActive=!0,this.$root.$emit("widgets:filter:filter",e))}else this.filterWidgetVisible=!0},isInValidContext:function(){return!(!this.contextSearch||this.contextSelected&&this.contextSearch==this.contextSelected.title)},isInValidUser:function(){return!(!this.userSearch||this.userSelected&&this.userSearch==this.userSelected.realname)},resetClick:function(){this.contextSelected=null,this.userSelected=null,this.privacyValue=null,this.contextSearch="",this.userSearch="",this.filterActive&&(this.$root.$emit("widgets:filter:filter",null),this.filterActive=null)}}},St=jt,At=(s("aa72"),s("5a14"),Object(y["a"])(St,Pt,Ot,!1,null,"1cbeabf9",null)),zt=At.exports,Ut={name:"Stream",components:{StreamFilter:zt,StreamPost:wt,StreamPostForm:mt},data:function(){return{posts:[],streamOptions:[],comments:[],users:[],busyLoading:!1,busyLoadingMore:!1,busyLoadingColor:"#888",busyLoadingSize:"12px",maxPostsLimitReached:!1,loggedInUser:1,initialized:!1,infiniteScrollLimit:10,maxPostsToShow:10,pollingUpdate:null,containerNid:null,streamUpdateOnRerender:!1,streamFilter:null}},beforeMount:function(){this.$root.$el.attributes["data-container-nid"]&&(this.containerNid=this.$root.$el.attributes["data-container-nid"].value)},computed:{sortedPosts:function(){var t=r["default"]._.chain(this.posts).sortBy("created").sortBy("sticky").reverse().value(),e=t.slice(0,this.maxPostsToShow);return e}},methods:{initialize:function(){this.initializeStream()},addPost:function(t){this.posts.push(t);var e=new Event("nm-stream:update-model");document.dispatchEvent(e)},deletePost:function(t){var e=this.posts.indexOf(t);this.posts.splice(e,1);var s=new Event("nm-stream:update-model");document.dispatchEvent(s)},deleteComment:function(t){var e=this.comments.indexOf(t);this.comments.splice(e,1);var s=new Event("nm-stream:update-model");document.dispatchEvent(s)},addComment:function(t){this.comments.push(t);var e=new Event("nm-stream:update-model");document.dispatchEvent(e)},addUser:function(t){this.getUser(t.uid)||this.users.push(t)},initializeStream:function(){var t=this,e=this;r["default"].axios.get(this.$config.get("api.apiInitUrl").replace("%node",this.containerNid),{withCredentials:!0}).then((function(s){e.posts=s.data.stream.posts,e.users=s.data.stream.users,e.comments=s.data.stream.comments,e.streamOptions=new $t,e.streamOptions.privacyOptions=s.data.stream.privacyOptions,e.streamOptions.privacyOptionsAll=s.data.stream.privacyOptionsAll,e.streamOptions.privacyDefault=s.data.stream.privacyDefault,e.streamOptions.permissions=s.data.stream.permissions,e.streamOptions.loggedInUser=t.getUser(s.data.stream.loggedInUser),e.streamOptions.token=s.data.stream.token,e.streamOptions.contextNID=s.data.stream.contextNID,e.streamOptions.containerNID=s.data.stream.containerNID,e.streamOptions.timestamp=s.data.stream.timestamp,e.streamOptions.acceptedFiles=s.data.stream.acceptedFiles,e.streamOptions.filterAvailableContexts=s.data.stream.filterAvailableContexts,e.streamOptions.filterAvailableUsers=s.data.stream.filterAvailableUsers,e.streamPlugins=[],e.initialized=!0,document.addEventListener("nm-stream:update-model",(function(){t.streamUpdateOnRerender=!0}),!1);var i=new Event("nm-stream:update-model");document.dispatchEvent(i),e.pollUpdate()}))},loadMore:function(){if(!this.initialized||this.busyLoadingMore||this.maxPostsLimitReached)return!1;this.busyLoadingMore=!0,this.maxPostsToShow+=this.infiniteScrollLimit,this.pollUpdate()},getUser:function(t){return r["default"]._.find(this.users,["uid",t])},getNodeComments:function(t){var e=r["default"]._.filter(this.comments,["nid",t]);if(e.length>0)for(var s in e)e[s].user=this.getUser(e[s].uid);return e},getLoadedPost:function(t){return t.user=this.getUser(t.uid),t},getFilterParams:function(){var t=new URLSearchParams;return this.streamFilter&&(this.streamFilter.context&&t.append("context_nid",this.streamFilter.context),this.streamFilter.user&&t.append("user_uid",this.streamFilter.user),this.streamFilter.privacy&&t.append("privacy_key",this.streamFilter.privacy)),t},pollUpdate:function(){var t=this;clearInterval(this.pollingUpdate),this.updateStream(),this.pollingUpdate=setInterval((function(){t.updateStream()}),5e3)},updateStream:function(){var t=this,e=this;if(document.hasFocus()){var s=this.getFilterParams(),i=this.$config.get("api.apiPollUpdateUrl").replace("%node",this.streamOptions.containerNID).replace("%offset",0).replace("%limit",e.maxPostsToShow).replace("%token",e.streamOptions.token);r["default"].axios.get(i,{params:s,withCredentials:!0}).then((function(s){e.busyLoadingMore&&(e.maxPostsLimitReached=e.posts.length>=s.data.stream.posts.length,e.busyLoadingMore=!1),e.posts=s.data.stream.posts,e.users=s.data.stream.users,e.comments=s.data.stream.comments,e.streamOptions.timestamp=s.data.stream.timestamp,t.busyLoading=!1;var i=new Event("nm-stream:update-model");document.dispatchEvent(i)}))}},mergeByProperty:function(t,e,s){r["default"]._.each(e,(function(e){var i=r["default"]._.find(t,(function(t){return t[s]===e[s]}));i?r["default"]._.extend(i,e):t.push(e)}))}},updated:function(){var t=this;this.streamUpdateOnRerender&&this.$nextTick((function(){var e=new Event("nm-stream:update");document.dispatchEvent(e),t.streamUpdateOnRerender=!1}))},mounted:function(){var t=this;this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1),this.$root.$on("widgets:filter:filter",(function(e){t.busyLoading=!0,t.streamFilter=e,t.pollUpdate()}))},beforeDestroy:function(){clearInterval(this.pollingUpdate)}},Lt=Ut,Tt=(s("9e57"),s("5218"),Object(y["a"])(Lt,l,c,!1,null,"a41650d0",null)),Et=Tt.exports,Ft=s("5f5b"),Vt=s("9955"),It=s.n(Vt),Mt=s("2ef0"),Nt=s.n(Mt),Rt=s("8e5f"),qt=s("ecee"),Bt=s("b702"),Zt=s("ad3d"),Ht=s("a925"),Qt=s("bc3a"),Kt=s.n(Qt),Wt=s("a7fe"),Jt=s.n(Wt),Gt=s("141d"),Xt=s.n(Gt),Yt=s("57c8"),te=s("487a"),ee=s.n(te),se=s("7df5"),ie=s.n(se),ae=s("8a5d"),ne=s("e30a"),oe=s.n(ne),re=(s("e607"),s("bffd"));s("b40d");r["default"].config.productionTip=!1,qt["c"].add(Bt["a"],Bt["b"],Bt["c"],V["a"],V["d"],V["c"],V["e"]),r["default"].component("font-awesome-icon",Zt["a"]),r["default"].component("pulse-loader",ae["a"]),r["default"].component("multiselect",Rt["Multiselect"]),r["default"].config.productionTip=!1,r["default"].use(Ft["a"]),r["default"].use(It.a,{name:"custom",lodash:Nt.a}),r["default"].use(Ht["a"]),r["default"].use(Jt.a,Kt.a),r["default"].use(Yt["a"],{config:rt}),r["default"].use(ee.a),r["default"].component("nl2br",Xt.a),r["default"].use(ie.a);var le=s("c1df");s("b469"),r["default"].use(s("2ead"),{moment:le}),r["default"].component("VueCtkDateTimePicker",oe.a),r["default"].component("vue-typeahead-bootstrap",Dt["a"]);var ce=new Ht["a"]({locale:"de",messages:re});window.stream=new r["default"]({i18n:ce,render:function(t){return t(Et)}}).$mount("#stream")},5846:function(t,e,s){},"5a14":function(t,e,s){"use strict";var i=s("2a7e"),a=s.n(i);a.a},"645f":function(t,e,s){},"65b3":function(t,e,s){"use strict";var i=s("e2a5"),a=s.n(i);a.a},"65cc":function(t,e,s){"use strict";var i=s("4454"),a=s.n(i);a.a},"66df":function(t,e,s){"use strict";var i=s("27d9"),a=s.n(i);a.a},6709:function(t,e,s){"use strict";var i=s("9dfc"),a=s.n(i);a.a},"8d9c":function(t,e,s){"use strict";var i=s("ace3"),a=s.n(i);a.a},"98d9":function(t,e,s){},"9c1d":function(t,e,s){},"9dfc":function(t,e,s){},"9e57":function(t,e,s){"use strict";var i=s("cf95"),a=s.n(i);a.a},a5f2:function(t,e,s){"use strict";var i=s("9c1d"),a=s.n(i);a.a},aa4f:function(t,e,s){},aa72:function(t,e,s){"use strict";var i=s("aee1"),a=s.n(i);a.a},ace3:function(t,e,s){},aee1:function(t,e,s){},bffd:function(t){t.exports=JSON.parse('{"de":{"placeholder":{"your_post_message":"Ihre Nachricht","your_comment_message":"Ihr Kommentar"},"label":{"attachments":"Anhänge","upload_files":"Dateien hochladen","attachment_delete":"Anhang löschen","dictDefaultMessage":"<i class=\'fa fa-cloud-upload\'></i> Dateien hochladen","dictFallbackMessage":"Ihr Browser unterstützt leider keinen Upload","dictInvalidFileType":"Dieser Dateityp wird nicht unterstützt","dictCancelUpload":"Upload abbrechen","dictUploadCanceled":"Der Upload wurde abgebrochen","dictCancelUploadConfirmation":"Upload wirklich abbrechen?","dictRemoveFile":"Entfernen","customdictFileTooBig":"Diese Datei ist zu groß. Maximale Größe: {{maxFilesize}} MB.","nmDictHideFile":"Verstecken","dictMaxFilesExceeded":"Das Uploadlimit von {{maxFiles}} wurde überschritten","postContextFrom":"Beitrag aus"},"link":{"show_x_comments":"{count} Kommentare anzeigen","hide_x_comments":"{count} Kommentare verstecken"},"button":{"cancel":"Abbrechen","post":"Speichern","edit":"Bearbeiten","delete":"Löschen","select_privacy":"Sichtbarkeit festlegen","delete_attachment":"Anhang löschen"},"warning":{"delete_post_really_want_to":"Möchten Sie den Beitrag wirklich löschen?","delete_attachment_really_want_to":"Möchten Sie den Anhang wirklich löschen?","delete_post_action_cannot_be_undone":"Sie sind dabei einen Beitrag zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","delete_comment_really_want_to":"Möchten Sie den Kommentar wirklich löschen?","delete_comment_action_cannot_be_undone":"Sie sind dabei einen Kommentar zu löschen. Diese Aktion kann nicht rückgängig gemacht werden.","error_occured_please_repeat_your_action":"Es ist ein Fehler aufgetreten, bitte wiederholen Sie Ihre letzte Aktion."},"empty":{"no_posts_found":"Keine Beiträge"},"plugins":{"sticky":{"title":"Beitrag anheften","status_title":"Beitrag angeheftet"},"poll":{"title":"Umfrage starten","new_poll":"Neue Umfrage starten","your_question":"Die Frage..","answer":"Antwort","allow_multiple_votes":"Mehrere Antworten erlauben","submit":"Abstimmen","save":"Speichern","create":"Erstellen","delete":"Löschen","cancel":"Abbrechen","status_created":"Erstellt","status_error":"Fehler","vote":"Stimme","votes":"Stimmen","pollEndDateLabel":"Ende der Umfrage festlegen","pollEndDateDescription":"Wird dieses Feld gesetzt, so ist ab diesem Zeitpunkt keine Abstimmung mehr möglich. Es wird das Umfrageergebnis angezeigt."}},"filter":{"placeholder":{"context":"Kurs/Lehrtext","username":"Person","privacy":"Privatsphäre"}}}}')},c187:function(t,e,s){"use strict";var i=s("98d9"),a=s.n(i);a.a},c7a1:function(t,e,s){"use strict";var i=s("5846"),a=s.n(i);a.a},cce3:function(t,e,s){"use strict";var i=s("02f8"),a=s.n(i);a.a},cf95:function(t,e,s){},e2a5:function(t,e,s){},e47b:function(t,e,s){"use strict";var i=s("645f"),a=s.n(i);a.a}});
//# sourceMappingURL=app.js.map