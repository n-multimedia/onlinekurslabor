(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0634":function(t,e,a){"use strict";var n=a("f71b"),i=a.n(n);i.a},"06a5":function(t,e,a){},"06cb":function(t,e,a){"use strict";var n=a("3f40"),i=a.n(n);i.a},"08dd":function(t,e,a){"use strict";var n=a("6d5f"),i=a.n(n);i.a},"098a":function(t,e,a){"use strict";var n=a("d9d9"),i=a.n(n);i.a},1104:function(t,e,a){},"1a5c":function(t,e,a){},"1c26":function(t,e,a){"use strict";var n=a("4bad"),i=a.n(n);i.a},"378e":function(t,e,a){"use strict";var n=a("da08"),i=a.n(n);i.a},"3f40":function(t,e,a){},"443a":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="4678"},4686:function(t,e,a){"use strict";var n=a("1104"),i=a.n(n);i.a},"4bad":function(t,e,a){},5218:function(t,e,a){"use strict";var n=a("aa4f"),i=a.n(n);i.a},"52ec":function(t,e,a){"use strict";var n=a("f58e"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i,s,o,r=a("2b0e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"stream-wrapper"}},[t.containerNID>0?a("stream-list",{attrs:{containernid:t.containerNID,aggregated:!1}}):a("stream-list-aggregated")],1)},l=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"stream-list"}},[a("transition",{attrs:{name:"fade"}},[t.initialized&&!t.aggregated?a("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),a("pulse-loader",{attrs:{loading:!t.initialized||t.getbusyLoading(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),t.initialized&&t.containernid>0&&t.streamOptions.permissions.canCreatePost?a("stream-post-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.getMentionMembers(t.streamOptions.contextNID)},on:{"stream-post-added":t.addPost}}):t._e(),t.initialized&&0==t.sortedPosts.length?a("div",[t._v(" "+t._s(t.$t("empty.no_posts_found"))+" ")]):t._e(),t.initialized?a("div",[a("transition-group",{attrs:{name:"list"}},t._l(t.sortedPosts,(function(e){return a("stream-post",{key:e.nid+e.changed,attrs:{post:t.getPost(t.containernid,e.nid),streamOptions:t.getStreamOptionsContainer(t.containernid),mentionMembers:t.getMentionMembers(e.context.nid)}})})),1)],1):t._e(),a("br"),t.aggregated||t.getbusyLoadingMore(t.containernid)?t._e():a("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),a("pulse-loader",{attrs:{loading:!t.getbusyLoading(t.containernid)&&t.getbusyLoadingMore(t.containernid),color:t.busyLoadingColor,size:t.busyLoadingSize}}),a("br"),t.getMaxPostsLimitReached(t.containernid)||t.getbusyLoadingMore(t.containernid)?t._e():a("div",{staticClass:"load-more-wrapper"},[a("button",{on:{click:function(e){return t.loadMore(t.containernid)}}},[t._v(t._s(t.$t("label.load_more")))])])],1)},u=[],m=a("5530"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-flip",attrs:{id:"streamNode-"+t.post.nid}},[a("div",{staticClass:"flip"},[a("div",{staticClass:"front"},[a("div",{staticClass:"stream-post card"},[t.streamOptions.containerNID!==t.post.container.nid?a("div",{staticClass:"row post-context"},[a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-right"},[t._v(" "+t._s(t.$t("label.postContextFrom"))+": "),a("a",{attrs:{href:t.streamLink}},[t._v(t._s(this.post.container.title))])])])]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.post.user.avatarUrl,title:t.post.user.name}})]),a("div",{staticClass:"col-10"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 post-header"},[null!==this.privacy?a("div",{staticClass:"post-privacy-wrapper float-right"},[a("img",{staticClass:"post-privacy",attrs:{src:t.privacy.img,alt:t.privacy.title,title:t.privacy.title}})]):t._e(),1==t.post.sticky?a("div",{staticClass:"post-sticky",attrs:{title:t.$t("plugins.sticky.status_title")}},[a("font-awesome-icon",{attrs:{icon:["fa","anchor"]}})],1):t._e(),t.canEdit||t.canDelete?a("div",[a("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?a("b-dropdown-item",{on:{click:t.editPost}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?a("b-dropdown-item",{on:{click:t.deletePost}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),a("div",{staticClass:"username"},[a("a",{attrs:{href:t.post.user.profileUrl}},[t._v(t._s(t.post.user.name))])]),a("div",{staticClass:"created"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),a("span",{attrs:{title:t._f("moment")(t.post.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.post.created,"from")))]),t.post.changed!=t.post.created?a("span",{attrs:{title:t._f("moment")(t.post.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 body"},[a("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.post.body_formatted)}}),t.post.poll?a("plugin-poll-view",t._b({key:t.pollViewRenderOnceKey,on:{addvote:t.pollAddVote}},"plugin-poll-view",t.post.poll,!1)):t._e()],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.post.attachments.length>0?a("div",{staticClass:"stream-post-attachments"},[a("font-awesome-icon",{attrs:{icon:["far","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),a("ul",t._l(t.post.attachments,(function(e){return a("li",{key:e.fid},[a("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?a("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(a){return a.preventDefault(),t.onAttachmentDeleteConf(e)}}},[a("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])})),0)],1):t._e(),t.sortedComments.length>0?a("div",{staticClass:"stream-post-footer"},[a("div",[t.showComments?a("a",{key:"false",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showComments=!t.showComments}}},[t._v(t._s(t.$t("link.hide_x_comments",{count:t.sortedComments.length})))]):a("a",{key:"true",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleComments(e)}}},[t._v(" "+t._s(t.$t("link.show_x_comments",{count:t.sortedComments.length}))+" ")])])]):t._e()])])])]),a("div",{staticClass:"row comments-wrapper"},[a("div",{staticClass:"col-10 offset-2"},[t.canCreateComment?a("stream-comment-form",{attrs:{streamOptions:t.streamOptions,mentionMembers:t.mentionMembers,post:t.post},on:{"stream-user-added":t.addUser,"stream-comment-added":t.addComment}}):t._e(),a("transition",{attrs:{name:"fade"}},[t.sortedComments.length>0&&!0===t.showComments?a("div",[a("transition-group",{attrs:{name:"list"}},t._l(t.sortedComments,(function(e){return a("stream-comment",{key:e.cid+e.changed,attrs:{streamOptions:t.streamOptions,comment:e,mentionMembers:t.mentionMembers,user:e.user},on:{"stream-comment-updated":t.updateComment}})})),1)],1):t._e()])],1)])])]),a("div",{ref:"backEdit",staticClass:"back-edit"},[a("div",{staticClass:"stream-post card"},[a(t.streamPostFormComponent,{ref:"streamPostForm",tag:"component",attrs:{streamOptions:t.streamOptions,editPost:t.post,mentionMembers:t.mentionMembers},on:{"form-edit-canceled":function(e){return t.editCanceled()},"post-form-onAttachmentDeleteConf":t.onAttachmentDeleteConf}})],1)]),a("div",{ref:"backDelete",staticClass:"back-delete"},[a("div",{staticClass:"stream-post card"},[a("h3",[t._v(t._s(t.$t("warning.delete_post_really_want_to")))]),a("br"),a("p",[t._v(" "+t._s(t.$t("warning.delete_post_action_cannot_be_undone"))+" ")]),a("br"),a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-outline-danger float-right",on:{click:t.onDeleteSubmit}},[t._v(t._s(t.$t("button.delete"))+" ")]),a("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:t.onDeleteCancel}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])]),a("b-modal",{ref:"postDeleteAttachmentConf",attrs:{id:"bv-modal-delete-attachment",centered:"","hide-footer":"",title:t.$t("label.attachment_delete")}},[a("div",{staticClass:"d-block text-center"},[t._v(" "+t._s(t.$t("warning.delete_attachment_really_want_to"))+" "),a("br"),a("br")]),a("b-button",{staticClass:"mt-3",attrs:{variant:"",block:""},on:{click:t.hideModal}},[t._v(t._s(t.$t("button.cancel")))]),a("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:""},on:{click:function(e){return t.onAttachmentDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")])],1)],1)},f=[],h=(a("4de4"),a("c740"),a("a434"),a("ac1f"),a("5319"),a("9911"),a("96cf"),a("1da1")),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-flip"},[a("div",{staticClass:"flip"},[a("div",{staticClass:"front"},[a("div",{staticClass:"stream-comment card"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("img",{staticClass:"card-img-top rounded-circle",attrs:{src:t.user.avatarUrl,title:t.user.name}})]),a("div",{staticClass:"col-10"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.canEdit||t.canDelete?a("div",[a("b-dropdown",{staticClass:"post-actions-dropdown m-md-2 float-right",attrs:{text:"...",offset:"-120"}},[t.canEdit?a("b-dropdown-item",{on:{click:t.editComment}},[t._v(t._s(t.$t("button.edit"))+" ")]):t._e(),t.canDelete?a("b-dropdown-item",{on:{click:t.deleteComment}},[t._v(t._s(t.$t("button.delete"))+" ")]):t._e()],1)],1):t._e(),a("div",{staticClass:"username"},[a("a",{attrs:{href:t.user.profileUrl}},[t._v(t._s(t.user.name))])]),a("div",{staticClass:"created"},[a("font-awesome-icon",{attrs:{icon:["far","clock"]}}),a("span",{attrs:{title:t._f("moment")(t.comment.created,"L LT")}},[t._v(" "+t._s(t._f("moment")(t.comment.created,"from")))]),t.comment.changed!=t.comment.created?a("span",{attrs:{title:t._f("moment")(t.comment.changed,"L LT")}},[t._v(" ("+t._s(t.$t("label.edited"))+")")]):t._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 body"},[a("p",{attrs:{tag:"p"},domProps:{innerHTML:t._s(t.comment.body_formatted)}})])])])])])]),a("div",{ref:"backEdit",staticClass:"back-edit"},[a("div",{staticClass:"stream-comment card"},[a("stream-comment-form",{ref:"streamCommentForm",attrs:{streamOptions:t.streamOptions,editComment:t.comment,mentionMembers:t.mentionMembers},on:{"stream-comment-updated":t.updateComment,"form-edit-canceled":function(e){return t.editCanceled()}}})],1)]),a("div",{ref:"backDelete",staticClass:"back-delete"},[a("div",{staticClass:"stream-post card"},[a("h4",[t._v(t._s(t.$t("warning.delete_comment_really_want_to")))]),a("br"),a("p",[t._v(" "+t._s(t.$t("warning.delete_comment_action_cannot_be_undone"))+" ")]),a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-outline-danger float-right",on:{click:function(e){return t.onDelete()}}},[t._v(t._s(t.$t("button.delete"))+" ")]),a("button",{staticClass:"btn btn-outline-secondary float-right",on:{click:function(e){return t.onDeleteCancel()}}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])])])])},g=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stream-comment-form card"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("transition",{attrs:{name:"fade"}},[t.formActive?a("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),a("div",{staticClass:"col-10"},[a("stream-textarea",{attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_comment_message")},on:{save:t.saveComment,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),a("transition",{attrs:{name:"fade"}},[a("div",{key:t.formActive,staticClass:"row stream-action-2"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[t.formActive?a("div",{staticClass:"col-12 action-buttons"},[a("button",{staticClass:"btn btn-outline-primary stream-comment-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.saveComment}},[t._v(t._s(t.$t("button.post"))+" ")]),a("button",{staticClass:"btn btn-outline-secondary stream-comment-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")]),a("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])])])])],1)])])},y=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("at-ta",{attrs:{members:t.mentionMembers,"name-key":"name"},on:{at:t.atChanged},scopedSlots:t._u([{key:"item",fn:function(e){return[a("img",{staticClass:"rounded-circle",attrs:{src:e.item.avatar}}),a("span",{domProps:{textContent:t._s(e.item.realname)}})]}}])},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localBodyText,expression:"localBodyText"},{name:"model",rawName:"v-model.lazy",value:t.localBodyText,expression:"localBodyText",modifiers:{lazy:!0}}],staticClass:"stream-textbody",attrs:{name:"body",disabled:t.busyLoading,placeholder:t.textareaPlaceholder},domProps:{value:t.localBodyText,value:t.localBodyText},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escPressed(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOnCtrlEnter(e)}],focus:function(e){t.localFormActive=!0},input:function(e){e.target.composing||(t.localBodyText=e.target.value)},change:function(e){t.localBodyText=e.target.value}}})])},C=[],D=a("53ff"),x=a.n(D),w={name:"StreamTextarea",components:{AtTa:x.a},props:["mentionMembers","textareaPlaceholder","busyLoading","formActive","bodyText"],data:function(){return{localBodyText:this.bodyText,localFormActive:this.formActive}},methods:{atChanged:function(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},escPressed:function(){0===this.bodyText.length&&this.$emit("reset")},submitOnCtrlEnter:function(t){t.ctrlKey&&this.$emit("save")}},watch:{bodyText:function(t){this.localBodyText=t},formActive:function(t){this.localFormActive=t},localBodyText:function(t,e){this.$emit("changeBody",t,e)},localFormActive:function(t,e){this.$emit("changeFormActive",t,e)}}},P=w,k=(a("c8c2"),a("2877")),$=Object(k["a"])(P,_,C,!1,null,null,null),S=$.exports,O={props:["streamOptions","post","editComment","mentionMembers"],name:"stream-comment-form",components:{StreamTextarea:S},methods:{atChanged:function(t){if(t){var e=new Event("change");this.$el.querySelector("textarea").dispatchEvent(e)}},resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizeCommentFormContainer()},resizeCommentFormContainer:function(){this.editComment&&(this.$parent.$el.querySelector(".stream-comment").style.height=150+this.$el.querySelector("textarea").scrollHeight+"px")},saveComment:function(){var t=this;this.busyLoading=!0;var e=this,a={};if(a.body=this.bodyText,this.editComment){var n=this.$config.get("api.apiCommentUpdateUrl").replace("%comment",this.editComment.cid).replace("%token",this.streamOptions.token);r["default"].axios.post(n,a,{withCredentials:!0}).then((function(a){e.resetForm(),1===a.data.status?(e.editComment.body_formatted=a.data.commentData.body_formatted,e.editComment.body=a.data.commentData.body,e.editComment.changed=a.data.commentData.changed,e.$emit("stream-comment-updated",e.editComment),e.resetForm()):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var i=this.$config.get("api.apiCommentAddUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(i,a,{withCredentials:!0}).then((function(a){if(e.resetForm(),1===a.data.status){var n=a.data.commentData,i=a.data.userData;e.$emit("stream-comment-added",n),e.$emit("stream-user-added",i)}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},escPressed:function(){0===this.bodyText.length&&this.resetForm()},resetForm:function(){this.editComment?(this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-comment").style.height="auto"):(this.bodyText="",this.formActive=!1,this.$el.querySelector("textarea.stream-textbody").blur(),this.$el.querySelector("textarea.stream-textbody").style.height="auto"),this.busyLoading=!1},initializeComment:function(){var t=this;this.editComment&&(this.formActive=!0,this.bodyText=this.editComment.body,this.$nextTick((function(){t.resizeTextareaElement(t.$el.querySelector("textarea")),t.resizeCommentFormContainer()})))},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editComment&&(this.author=this.editComment.user)},changedBodyText:function(t){this.bodyText=t},changedFormActive:function(t){this.formActive=t}},mounted:function(){var t=this;this.$nextTick((function(){t.$el.setAttribute("style","height:"+t.$el.scrollHeight+"px;"),t.$el.addEventListener("input",t.resizeTextarea)})),this.updateAuthor()},beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{formActive:!1,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",author:null,bodyText:""}}},j=O,L=(a("4686"),Object(k["a"])(j,b,y,!1,null,"df8c9e5e",null)),I=L.exports,z={props:["streamOptions","comment","user","mentionMembers"],components:{StreamCommentForm:I},name:"stream-comment",data:function(){return{}},computed:{canEdit:function(){return this.comment.permissions.canEdit},canDelete:function(){return this.comment.permissions.canDelete}},methods:{editComment:function(){var t=this;this.$el.classList.add("flip-active"),setTimeout((function(){t.$refs.streamCommentForm.initializeComment(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide"),t.$refs.streamCommentForm.initializeComment()}),200)},deleteComment:function(){var t=this;setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},updateComment:function(t){this.$emit("stream-comment-updated",t)},onDelete:function(){var t=this,e=this,a=this.$config.get("api.apiCommentDeleteUrl").replace("%comment",this.comment.cid).replace("%token",this.streamOptions.token);r["default"].axios.get(a,{withCredentials:!0}).then((function(a){1===a.data.status?(t.$store.dispatch("deleteComment",{containerNID:t.streamOptions.containerNID,comment:e.comment}),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},editCanceled:function(){this.$el.classList.remove("flip-active")}}},A=z,T=(a("95bc"),Object(k["a"])(A,v,g,!1,null,"772cf604",null)),U=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stream-post-form card",on:{dragover:t.dragOver}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("transition",{attrs:{name:"fade"}},[t.formActive?a("img",{key:t.formActive,staticClass:"card-img-top rounded-circle",attrs:{src:t.author.avatarUrl,title:t.author.name}}):t._e()])],1),t.currentPluginTemplate?a("div",{staticClass:"active-plugin-content col-10"},[a("keep-alive",[a(t.currentPluginTemplate,{tag:"component",attrs:{param1:t.poll},on:{dialogSubmit:function(e){return t.pluginSubmitDialog(e)},dialogClose:function(e){return t.pluginCloseDialog()}}})],1)],1):t._e(),t.currentPluginTemplate?t._e():a("div",{staticClass:"col-10"},[a("stream-textarea",{ref:"streamTextarea",attrs:{"body-text":t.bodyText,mentionMembers:t.mentionMembers,"form-active":t.formActive,busyLoading:t.busyLoading,"textarea-placeholder":t.$t("placeholder.your_post_message")},on:{save:t.savePost,reset:t.resetForm,changeBody:t.changedBodyText,changeFormActive:t.changedFormActive}}),t.formActive?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 plugins"},[t.canSetSticky?a("plugin-sticky",{attrs:{param1:t.stickyValue},on:{interface:function(e){t.stickyValue=e}}}):t._e(),a("plugin-poll",{attrs:{param1:t.poll},on:{interface:function(e){t.currentPluginTemplate=e}}})],1)]):t._e(),a("div",{staticClass:"row stream-action-1"},[a("transition",{attrs:{name:"fade"}},[t.formActive?a("div",{key:t.formActive,staticClass:"col-12 stream-attachments"},[a("vue-dropzone",{ref:"vueDropZone",attrs:{id:"dropzone",options:t.dropzoneOptions,disabled:t.busyLoading},on:{"vdropzone-processing":t.dropzoneQueueProcess,"vdropzone-file-added":t.resizeDropArea,"vdropzone-error":t.dropzoneError,"vdropzone-success":t.vdropzoneSuccess,"vdropzone-queue-complete":t.queueCompleted}}),t.editPost&&t.editPost.attachments.length>0?a("div",{ref:"postAttachmentList",staticClass:"stream-post-attachments"},[a("font-awesome-icon",{attrs:{icon:["fa","file"]}}),t._v(" "+t._s(t.$t("label.attachments"))+" "),t._l(t.editPost.attachments,(function(e){return a("div",{key:e.fid},[a("span",{domProps:{innerHTML:t._s(e.download_link)}}),e.permissions.canDelete?a("a",{staticClass:"attachment-trash-delete",attrs:{href:"#",title:t.$t("button.delete_attachment")},on:{click:function(a){return a.preventDefault(),t.onAttachmentDeleteConf(e)}}},[a("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1):t._e()])}))],2):t._e(),a("pulse-loader",{attrs:{loading:t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}})],1):t._e()])],1),a("div",{staticClass:"row stream-action-2"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("transition",{attrs:{name:"fade"}},[t.formActive?a("div",{key:t.formActive,staticClass:"col-12 action-buttons"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("stream-privacy-widget",{attrs:{privacyOptions:t.privacyOptions,privacyValue:t.privacyValue},on:{interface:function(e){t.privacyValue=e}}})],1),a("div",{staticClass:"col-7"},[a("button",{staticClass:"btn btn-outline-primary stream-post-post float-right",attrs:{disabled:this.bodyText.length<1||t.busyLoading},on:{click:t.savePost}},[t._v(t._s(t.$t("button.post"))+" ")]),a("button",{staticClass:"btn btn-outline-secondary stream-post-cancel float-right",attrs:{disabled:t.busyLoading},on:{click:t.resetForm}},[t._v(t._s(t.$t("button.cancel"))+" ")])])])]):t._e()])],1)])])],1)])])},N=[],V=(a("4160"),a("c975"),a("159b"),a("92c3")),F=a.n(V),E=(a("1e3f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.privacyOptions.length>0?a("div",{staticClass:"stream-post-privacy-settings"},[a("multiselect",{attrs:{options:t.privacyOptions,"track-by":"value","option-height":104,searchable:!1,"show-labels":!1,"allow-empty":t.allowEmpty,placeholder:t.$t("button.select_privacy"),disabled:t.busyLoading},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[a("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title}}),a("span",{staticClass:"option__desc"},[a("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))])])]}},{key:"option",fn:function(e){return[a("img",{staticClass:"option__image",attrs:{src:e.option.img,alt:e.option.title,disabled:t.busyLoading}}),a("div",{staticClass:"option__desc"},[a("span",{staticClass:"option__title"},[t._v(t._s(e.option.title))]),a("span",{staticClass:"option__small"},[t._v(t._s(e.option.desc))])])]}}],null,!1,1178984776),model:{value:t.localPrivacyValue,callback:function(e){t.localPrivacyValue=e},expression:"localPrivacyValue"}})],1):t._e()}),R=[],B={name:"StreamPrivacyWidget",props:["privacyOptions","privacyValue"],data:function(){return{localPrivacyValue:this.privacyValue,busyLoading:null,allowEmpty:null}},watch:{privacyValue:function(){this.localPrivacyValue=this.privacyValue},localPrivacyValue:function(t){this.$emit("interface",t)}}},q=B,Z=(a("1c26"),a("a366"),Object(k["a"])(q,E,R,!1,null,"0227b682",null)),W=Z.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plugin plugin-abstract",class:t.name},[a("span",{staticClass:"plugin-toolbar-btn",class:{active:t.isActive},attrs:{title:t.title},on:{click:t.onClickCallback}},[a("font-awesome-icon",{attrs:{icon:t.icon}})],1)])},Q=[],K=a("c074"),G={props:["param1"],components:{},name:"plugin",data:function(){return{icon:K["d"],label:"Not implemented yet",title:"Not implemented yet",name:this.$options._componentTag}},computed:{isActive:function(){return!1}},methods:{onClickCallback:function(){alert("To be implemented")}}},J=G,X=(a("378e"),Object(k["a"])(J,H,Q,!1,null,"12fde71f",null)),Y=X.exports,tt={extends:Y,name:"plugin-sticky",data:function(){return{icon:K["a"],title:this.$t("plugins.sticky.title"),sticky:this.param1}},computed:{isActive:function(){return 1===this.sticky}},methods:{onClickCallback:function(){1===this.sticky?this.sticky=0:this.sticky=1,this.$emit("interface",this.sticky)}}},et=tt,at=(a("06cb"),Object(k["a"])(et,n,i,!1,null,null,null)),nt=at.exports,it={extends:Y,name:"plugin-poll",data:function(){return{icon:K["f"],activePluginComponent:"",title:this.$t("plugins.poll.title"),editPoll:this.param1}},computed:{isActive:function(){return!!this.editPoll}},methods:{onClickCallback:function(){this.activePluginComponent="PluginPollCreator",this.$emit("interface",this.activePluginComponent)}},mounted:function(){}},st=it,ot=(a("6709"),Object(k["a"])(st,s,o,!1,null,null,null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row poll-wrapper"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row poll-title"},[a("div",{staticClass:"col-12"},[a("h4",[t._v(t._s(t.$t("plugins.poll.new_poll")))])])]),a("div",{staticClass:"row poll-container"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row poll-question"},[a("div",{staticClass:"col-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.question,expression:"poll.question"}],attrs:{type:"text",placeholder:t.$t("plugins.poll.your_question")},domProps:{value:t.poll.question},on:{input:function(e){e.target.composing||t.$set(t.poll,"question",e.target.value)}}})])]),a("div",{staticClass:"poll-answers"},[a("draggable",{attrs:{tag:"div",list:t.poll.answers,handle:".handle"}},t._l(t.poll.answers,(function(e,n){return a("div",{key:e.value,staticClass:"row"},[a("div",{staticClass:"col-10"},[a("i",{staticClass:"handle"},[a("span")]),a("span",{staticClass:"text"},[t._v(t._s(e.name)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.answers[n].text,expression:"poll.answers[index].text"}],ref:"PollAnswerOptions",refInFor:!0,attrs:{placeholder:t.$t("plugins.poll.answer")+" "+(n+1),type:"text"},domProps:{value:t.poll.answers[n].text},on:{input:[function(e){e.target.composing||t.$set(t.poll.answers[n],"text",e.target.value)},function(e){return t.createNewInput(n)}],focus:function(e){return t.createNewInput(n)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextInput(n)}}})]),a("div",{staticClass:"col-2"},[a("i",{staticClass:"close",on:{click:function(e){return t.deleteInput(n)}}})])])})),0)],1),a("div",{staticClass:"row poll-options"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.poll.multiple,expression:"poll.multiple"}],staticClass:"checked custom-control-input",attrs:{tabindex:"1",type:"checkbox",id:"cb-multiple-votes"},domProps:{checked:Array.isArray(t.poll.multiple)?t._i(t.poll.multiple,null)>-1:t.poll.multiple},on:{change:function(e){var a=t.poll.multiple,n=e.target,i=!!n.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);n.checked?o<0&&t.$set(t.poll,"multiple",a.concat([s])):o>-1&&t.$set(t.poll,"multiple",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.poll,"multiple",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"cb-multiple-votes"}},[t._v(t._s(t.$t("plugins.poll.allow_multiple_votes")))])])])]),a("div",{staticClass:"row poll-options"},[a("div",{staticClass:"col-10"},[a("VueCtkDateTimePicker",{attrs:{tabindex:"1",locale:"$i18n.locale",label:t.$t("plugins.poll.pollEndDateLabel")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),a("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.$t("plugins.poll.pollEndDateDescription")))])],1),a("div",{staticClass:"col-2"})]),a("div",{staticClass:"row poll-actions"},[a("div",{staticClass:"col-12"},[t.editPoll?a("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.save"))+" ")]):t._e(),t.editPoll?t._e():a("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:!t.validate()},on:{click:t.createPoll}},[t._v(t._s(t.$t("plugins.poll.create"))+" ")]),a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.closePoll}},[t._v(t._s(t.$t("plugins.poll.cancel"))+" ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:!t.editPoll},on:{click:t.deletePoll}},[t._v(t._s(t.$t("plugins.poll.delete"))+" ")])])])])])])])},lt=[],dt=(a("d81d"),a("310e")),ut=a.n(dt),mt={name:"plugin-poll-creator",components:{draggable:ut.a},props:{savePollUrl:{type:String},demo:{type:Boolean,default:!1},param1:{type:Object,default:null}},data:function(){return{poll:{question:"",answers:[{value:0,text:""},{value:1,text:""},{value:2,text:""}],multiple:!1},isValid:!1,success:null,editPoll:null,endDate:null}},mounted:function(){this.param1&&(this.poll=this.param1,this.endDate=this.param1.endDate?this.param1.endDate:null,this.editPoll=this.poll),0===this.poll.answers.length&&this.addEntry("")},methods:{addEntry:function(t){var e=Math.max.apply(Math,this.poll.answers.map((function(t){return t.value})));this.poll.answers.push({value:e+1,text:t})},createNewInput:function(t,e){this.poll.answers.length-1===t&&(e||this.poll.answers[t].text)&&this.addEntry("")},deleteInput:function(t){(t>0||this.poll.answers.length>1)&&this.poll.answers.splice(t,1)},nextInput:function(t){var e=this;this.poll.answers.length-1===t&&this.createNewInput(t,!0),setTimeout((function(){e.$refs.PollAnswerOptions[t+1].focus()}),10)},closePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogClose")},deletePoll:function(){this.$root.$emit("plugins:poll:creator:close"),this.$emit("dialogSubmit",null),this.closePoll()},createPoll:function(){if(this.validate(),this.isValid){this.poll.answers=this.poll.answers.filter((function(t){if(t.text.length>0)return t}));var t={multiple:this.poll.multiple,question:this.poll.question,endDate:this.endDate,answers:[]};this.poll.answers.forEach((function(e){var a={value:e.value,text:e.text,votes:0,selected:!1};t.answers.push(a)})),this.$emit("dialogSubmit",t),this.$root.$emit("plugins:poll:creator:save",t),this.closePoll()}else this.alert(!1)},resetPoll:function(){this.poll.multiple=!1,this.poll.answers=[],this.addEntry(""),this.addEntry(""),this.addEntry(""),this.poll.question="",this.isValid=!1},validate:function(){var t=this.poll.answers.filter((function(t){if(t.text.length>0)return t})),e=t.length;return this.isValid=e>0,this.isValid},resetEndDate:function(){this.endDate=null},alert:function(t){var e=this;this.success=t,setTimeout((function(){e.success=null}),3e3)}}},pt=mt,ft=(a("0634"),Object(k["a"])(pt,ct,lt,!1,null,"0b2f5703",null)),ht=ft.exports,vt={props:["streamOptions","editPost","mentionMembers"],name:"stream-post-form",components:{StreamPrivacyWidget:W,vueDropzone:F.a,PluginSticky:nt,PluginPoll:rt,PluginPollCreator:ht,StreamTextarea:S},methods:{resizeTextarea:function(t){this.resizeTextareaElement(t.target),this.resizePostFormContainer()},resizePostFormContainer:function(){if(this.editPost&&this.$refs.vueDropZone){var t=parseFloat(this.$refs.vueDropZone.$el.style.height),e=0;this.$refs.postAttachmentList&&(e=parseFloat(this.$refs.postAttachmentList.clientHeight)),this.$refs.streamTextarea&&(this.$parent.$el.querySelector(".stream-post").style.height=170+t+e+this.$refs.streamTextarea.$el.querySelector("textarea").scrollHeight+"px")}this.currentPluginTemplate&&(this.$parent.$el.querySelector(".stream-post").style.height=90+this.$el.querySelector(".active-plugin-content").offsetHeight+"px")},resizeTextareaElement:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"},savePost:function(){var t=this;this.busyLoading=!0;var e=this,a={};if(a.body=this.bodyText,a.privacy=this.privacyValue.value,a.sticky=this.stickyValue,a.poll=this.poll?this.poll:void 0,this.editPost){var n=this.$config.get("api.apiPostUpdateUrl").replace("%node",this.editPost.nid).replace("%token",this.streamOptions.token);r["default"].axios.post(n,a,{withCredentials:!0}).then((function(a){1===a.data.status?(e.editPost.body=a.data.nodeData.body,e.editPost.body_formatted=a.data.nodeData.body_formatted,e.editPost.privacy.privacyDefault=a.data.nodeData.privacy.privacyDefault,e.editPost.sticky=a.data.nodeData.sticky,e.editPost.poll=a.data.nodeData.poll,e.editPost.changed=a.data.nodeData.changed,t.$store.dispatch("updatePost",e.editPost),t.$root.$emit("nm-stream:node:save",e.editPost),e.$refs.vueDropZone.getQueuedFiles().length>0?(e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):e.resetForm()):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}else{var i=this.$config.get("api.apiPostAddUrl").replace("%token",this.streamOptions.token);a.containerNID=this.streamOptions.containerNID,a.contextNID=this.streamOptions.contextNID,r["default"].axios.post(i,a,{withCredentials:!0}).then((function(a){if(1===a.data.status){var n=a.data.nodeData;e.$emit("stream-post-added",n),e.$refs.vueDropZone.getQueuedFiles().length>0?(e.$refs.vueDropZone.setOption("url",e.getPostUploadUrl(n)),e.dropzoneResetAfterComplete=!0,e.$refs.vueDropZone.processQueue()):e.resetForm()}else alert(t.$t("warning.error_occured_please_repeat_your_action"))}))}},escPressed:function(){0===this.bodyText.length&&this.resetForm()},submitOnCtrlEnter:function(t){t.ctrlKey&&this.savePost()},resetForm:function(){if(this.editPost)this.$emit("form-edit-canceled"),this.$parent.$el.querySelector(".stream-post").style.height="auto";else{this.formActive=!1,this.bodyText="";var t=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",t])[0],this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").blur(),this.$refs.streamTextarea.$el.querySelector("textarea.stream-textbody").style.height="auto",this.stickyValue=0,this.poll=null}this.$refs.vueDropZone.removeAllFiles(),this.busyLoading=!1},dragOver:function(){var t=this;this.formActive=!0,this.$nextTick((function(){t.resizeDropArea()}))},queueCompleted:function(){this.dropzoneQueueProcessing&&(this.resetForm(),this.dropzoneResetAfterComplete=!1,this.dropzoneQueueProcessing=!1)},dropzoneQueueProcess:function(){this.dropzoneQueueProcessing=!0},vdropzoneSuccess:function(t,e){this.$store.dispatch("updateAttachments",e.nodeData)},dropzoneError:function(t,e,a){console.error(t,e,a),alert(e.message+" ("+e.nid+")")},resizeDropArea:function(){this.$refs.vueDropZone&&"250px"!==this.$refs.vueDropZone.$el.style.height&&(this.$refs.vueDropZone.$el.style.height="250px",this.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="100px",this.resizePostFormContainer())},updateAuthor:function(){this.author=this.streamOptions.loggedInUser,this.editPost&&(this.author=this.editPost.user)},loadPrivacyOptions:function(t){var e=[];return Array.isArray(t)&&Array.isArray(this.streamOptions.privacyOptions)?(this.streamOptions.privacyOptions.forEach((function(a){t.indexOf(a.value)>-1&&e.push(a)})),e):e},initializePost:function(){var t=this;if(this.editPost){this.formActive=!0,this.bodyText=this.editPost.body,this.stickyValue=parseInt(this.editPost.sticky),this.poll=this.editPost.poll,this.privacyDefault=this.editPost.privacy.privacyDefault,this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions);var e=parseInt(this.privacyDefault);this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.$nextTick((function(){t.$refs.streamTextarea&&(t.resizeTextareaElement(t.$refs.streamTextarea.$el.querySelector("textarea")),t.$refs.vueDropZone.$el.style.height="50px",t.$refs.vueDropZone.$el.querySelector("div.dz-message").style.marginTop="10px",t.resizePostFormContainer())}))}},getPostUploadUrl:function(t){var e="";return t||(t=this.editPost),e=t?this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",t.nid).replace("%token",this.streamOptions.token):this.$config.get("api.apiPostAttachmentUploadUrl").replace("%node",0).replace("%token",this.streamOptions.token),e},getAutoProcessQueue:function(){return!1},getDropZomeRemoveLabel:function(){return this.editPost?this.$t("label.nmDictHideFile"):this.$t("label.dictRemoveFile")},onAttachmentDeleteConf:function(t){this.$emit("post-form-onAttachmentDeleteConf",t)},pluginSubmitDialog:function(t){this.poll=t,this.pluginCloseDialog()},pluginCloseDialog:function(){var t=this;this.currentPluginTemplate="",this.$nextTick((function(){t.resizeTextareaElement(t.$refs.streamTextarea.$el.querySelector("textarea"))}))},changedBodyText:function(t){this.bodyText=t},changedFormActive:function(t){this.formActive=t}},watch:{},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.privacyDefault=this.streamOptions.privacyDefault,this.privacyOptions=this.streamOptions.privacyOptions,this.loggedInUser=this.streamOptions.loggedInUser,this.$nextTick((function(){a.$el.setAttribute("style","height:"+a.$el.scrollHeight+"px;"),a.$el.addEventListener("input",a.resizeTextarea)})),this.privacyValue||(this.editPost?(this.privacyOptions=this.loadPrivacyOptions(this.editPost.privacy.privacyOptions),this.privacyDefault=this.editPost.privacy.privacyDefault):(this.privacyOptions=this.streamOptions.privacyOptions,this.privacyDefault=this.streamOptions.privacyDefault),e=parseInt(this.privacyDefault),this.privacyValue=r["default"]._.filter(this.privacyOptions,["value",e])[0],this.privacyValue||(this.privacyValue=this.privacyOptions[0],this.privacyDefault=this.privacyValue.value)),this.loggedInUser=this.streamOptions.loggedInUser,this.updateAuthor();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.$el.removeEventListener("input",this.resizeTextarea)},render:function(){return this.$slots.default[0]},data:function(){return{currentPluginTemplate:"",loggedInUser:null,author:null,privacyOptions:null,privacyDefault:null,formActive:!1,bodyText:"",poll:null,privacyValue:null,stickyValue:0,dropzoneResetAfterComplete:!1,files:null,busyLoading:!1,busyLoadingColor:"#888",busyLoadingSize:"10px",dropzoneQueueProcessing:!1,dropzoneOptions:{url:this.getPostUploadUrl(),createImageThumbnails:!1,autoProcessQueue:this.getAutoProcessQueue(),addRemoveLinks:!0,acceptedFiles:this.streamOptions.acceptedFiles,maxFilesize:20,dictDefaultMessage:this.$t("label.dictDefaultMessage"),dictFallbackMessage:this.$t("label.dictFallbackMessage"),dictFileTooBig:this.$t("label.customdictFileTooBig"),dictInvalidFileType:this.$t("label.dictInvalidFileType"),dictCancelUpload:this.$t("label.dictCancelUpload"),dictUploadCanceled:this.$t("label.dictUploadCanceled"),dictCancelUploadConfirmation:this.$t("label.dictCancelUploadConfirmation"),dictRemoveFile:this.getDropZomeRemoveLabel(),dictMaxFilesExceeded:this.$t("label.dictMaxFilesExceeded")}}},computed:{canSetSticky:function(){return this.editPost?this.editPost.permissions.canSetSticky:this.streamOptions.permissions.canCreateStickyPost}}},gt=vt,bt=(a("098a"),a("08dd"),Object(k["a"])(gt,M,N,!1,null,"047670b3",null)),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-poll"},[a("h4",{staticClass:"qst",domProps:{innerHTML:t._s(t.question)}}),a("div",{staticClass:"ans-cnt"},[t.finalResults||t.visibleResults?[t._l(t.calcAnswers,(function(e,n){var i;return a("div",{key:n,class:(i={ans:!0},i[e.custom_class]=e.custom_class,i)},[a("div",{staticClass:"ans-voted",class:{final:t.finalResults,"ans-voted":!0,selected:e.selected}},[e.percent?a("span",{staticClass:"percent",domProps:{textContent:t._s(e.percent)}}):t._e(),a("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})]),t.finalResults?a("span",{class:{bg:t.finalResults,selected:t.mostVotes==e.votes},style:{width:e.percent}}):a("span",{staticClass:"bg",style:{width:t.visibleResults?e.percent:"0%"}})])})),t.restoreViewVotes?a("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults(e)}}}):t._e()]:t._l(t.answersOptions,(function(e,n){var i;return a("div",{key:n,class:(i={ans:!0},i[e.custom_class]=e.custom_class,i)},[a("div",{class:{"ans-no-vote noselect":!0,active:e.selected},on:{click:function(a){return a.preventDefault(),t.handleVote(e)}}},[a("span",{staticClass:"txt",domProps:{innerHTML:t._s(e.text)}})])])}))],2),t.showTotalVotes&&(t.visibleResults||t.finalResults)?a("div",{staticClass:"votes",domProps:{textContent:t._s(t.totalVotesFormatted+" "+t.labelVotes+" ("+t.totalParticipantsFormatted+" "+t.labelParticipated+")")}}):t._e(),!t.finalResults&&!t.visibleResults&&t.totalSelections>0?[a("button",{staticClass:"btn btn-primary submit-button float-left",attrs:{href:"#"},domProps:{textContent:t._s(t.submitButtonText)},on:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}})]:t._e(),!t.canEdit||t.finalResults||t.visibleResults?t._e():[a("button",{staticClass:"btn btn-primary submit-button float-right",attrs:{href:"#"},domProps:{textContent:t._s(t.viewResultsButtonText)},on:{click:function(e){return e.preventDefault(),t.handleViewResults(e)}}})]],2)},Ct=[],Dt=(a("a9e3"),a("d3b7"),a("25f0"),{name:"plugin-poll-view",props:{question:{type:String,required:!0},answers:{type:Array,required:!0},showResults:{type:Boolean,default:!1},showTotalVotes:{type:Boolean,default:!0},finalResults:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},submitButtonText:{type:String,default:function(){return this.$t("plugins.poll.submit")}},viewResultsButtonText:{type:String,default:function(){return this.$t("plugins.poll.viewResults")}},customId:{type:Number,default:0},numberParticipants:{type:Number,default:0},canEdit:{type:Boolean,default:!1}},data:function(){return{visibleResults:JSON.parse(this.showResults),restoreViewVotes:!1,answersOptions:[{}]}},computed:{totalVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&(t+=parseInt(e.votes))})),t},totalVotesFormatted:function(){return this.totalVotes.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelVotes:function(){return 1===this.totalVotes?this.$t("plugins.poll.vote"):this.$t("plugins.poll.votes")},totalParticipantsFormatted:function(){return this.numberParticipants.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},labelParticipants:function(){return 1===this.numberParticipants?this.$t("plugins.poll.participant"):this.$t("plugins.poll.participants")},labelParticipated:function(){return this.$t("plugins.poll.participated")},mostVotes:function(){var t=0;return this.answers.filter((function(e){!isNaN(e.votes)&&e.votes>0&&e.votes>=t&&(t=e.votes)})),t},calcAnswers:function(){var t=this;return 0===this.totalVotes?this.answers.map((function(t){return t.percent="0%",t})):this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e}))},totalSelections:function(){return this.answersOptions.filter((function(t){return t.selected})).length}},mounted:function(){var t=this;0===this.totalVotes&&(this.answersOptions=this.answers.map((function(t){return t.percent="0%",t}))),this.answersOptions=this.answers.filter((function(e){return!isNaN(e.votes)&&e.votes>0?e.percent=Math.round(parseInt(e.votes)/t.totalVotes*100)+"%":e.percent="0%",e})),this.answersOptions=JSON.parse(JSON.stringify(this.answersOptions))},methods:{handleSubmit:function(){var t=[];this.answersOptions.filter((function(e){e.selected&&(e.votes++,t.push({value:e.value,votes:e.votes}))})),this.visibleResults=!0;var e={arSelected:t,totalVotes:this.totalVotes};this.customId&&(e.customId=this.customId),this.$emit("addvote",e)},handleViewResults:function(){1==this.restoreViewVotes?(this.visibleResults=!1,this.restoreViewVotes=!1):(this.visibleResults=!0,this.restoreViewVotes=!0)},deselectAll:function(){return this.answersOptions.map((function(t){return t.selected=!1,t}))},handleVote:function(t){this.multiple?(void 0===t.selected&&console.log("Please add 'selected: false' on the answer object"),t.selected=!t.selected):t.selected?this.deselectAll():(this.deselectAll(),t.selected=!0)}}}),xt=Dt,wt=(a("c187"),Object(k["a"])(xt,_t,Ct,!1,null,null,null)),Pt=wt.exports,kt={api:{apiInitAgrUrl:"/api/v2.0/nm_stream/initialize_aggregated",apiUpdateContextsUrl:"/api/v2.0/nm_stream/update_contexts/%offset/%limit/%token",apiInitUrl:"/api/v2.0/nm_stream/node/%node/initialize",apiPollUpdateUrl:"/api/v2.0/nm_stream/node/%node/poll_update/%offset/%limit/%token",apiPostAttachmentDeleteUrl:"/api/v2.0/nm_stream/node/%node/file/%file/delete/%token",apiPostAttachmentUploadUrl:"/api/v2.0/nm_stream/node/%node/file/upload/%token",apiPostUpdateUrl:"/api/v2.0/nm_stream/node/%node/update/%token",apiPostAddUrl:"/api/v2.0/nm_stream/node/add/%token",apiPostDeleteUrl:"/api/v2.0/nm_stream/node/%node/delete/%token",apiCommentUpdateUrl:"/api/v2.0/nm_stream/comment/%comment/update/%token",apiCommentAddUrl:"/api/v2.0/nm_stream/node/%node/comment/add/%token",apiCommentDeleteUrl:"/api/v2.0/nm_stream/comment/%comment/delete/%token",apiNodePollAddVote:"/api/v2.0/nm_stream/node/%node/poll/add_vote/%token",apiUserMentionMembers:"/api/v2.0/nm_stream/node/%node/get/mention_members"}},$t={addVote:function(t,e,a,n,i){return Object(h["a"])(regeneratorRuntime.mark((function s(){var o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:o={arSelected:[]},e.arSelected?o.arSelected=e.arSelected:o.arSelected=[{value:e.value,votes:e.votes}],c=kt.api.apiNodePollAddVote.replace("%node",t).replace("%token",a),r["default"].axios.post(c,o,{withCredentials:!0}).then((function(t){if(1===t.data.status)return n(t.data);i()}));case 4:case"end":return s.stop()}}),s)})))()}},St=a("2f62"),Ot={props:["streamOptions","post","mentionMembers"],components:{StreamComment:U,StreamCommentForm:I,StreamPostForm:yt,PluginPollView:Pt},name:"stream-post",data:function(){return{pollViewRenderUpdateFlag:!1,pollViewRenderOnceKey:1,initializeForm:!1,showComments:!1,curDeleteAttachment:null,streamPostFormComponent:""}},computed:{canEdit:function(){return this.post.permissions.canEdit},canDelete:function(){return this.post.permissions.canDelete},canCreateComment:function(){return!0},sortedComments:function(){var t=this.$store.getters.getPostComments(this.post.container.nid,this.post.nid);return r["default"]._.orderBy(t,"created","desc")},modalID:function(){return"modal-delete"+this.post.nid},privacy:function(){var t=parseInt(this.post.privacy.privacyDefault);return r["default"]._.filter(this.streamOptions.privacyOptionsAll,["value",t])[0]},streamLink:function(){return this.post.container.link+"#streamNode-"+this.post.nid}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$on("plugins:poll:creator:save",(function(){e.pollViewRenderUpdateFlag=!0})),this.$root.$on("nm-stream:node:save",(function(){e.pollViewRenderUpdateFlag&&(e.pollViewRenderUpdateFlag=!1,e.pollViewRenderOnceKey++)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(m["a"])(Object(m["a"])({},Object(St["b"])(["updatePost"])),{},{editPost:function(){var t=this;this.initializeForm=!0,this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.streamPostForm.initializePost(),t.$refs.backDelete.classList.add("hide"),t.$refs.backEdit.classList.remove("hide")}),200)},toggleComments:function(){this.showComments=!this.showComments,this.showComments&&this.$nextTick((function(){var t=new Event("nm-stream:update");document.dispatchEvent(t)}))},deletePost:function(){var t=this;this.showComments=!1,setTimeout((function(){t.$el.classList.add("flip-active"),t.$refs.backEdit.classList.add("hide"),t.$refs.backDelete.classList.remove("hide")}),200)},updateComment:function(t){this.$store.dispatch("updateComment",{containerNID:this.post.container.nid,comment:t})},editCanceled:function(){this.$el.classList.remove("flip-active")},onDeleteSubmit:function(){var t=this,e=this,a=this.$config.get("api.apiPostDeleteUrl").replace("%node",this.post.nid).replace("%token",this.streamOptions.token);r["default"].axios.get(a,{withCredentials:!0}).then((function(a){1===a.data.status?(t.$store.dispatch("deletePost",e.post),t.$el.classList.remove("flip-active")):alert(t.$t("warning.error_occured_please_repeat_your_action"))}))},onDeleteCancel:function(){this.$el.classList.remove("flip-active")},onAttachmentDeleteConf:function(t){this.$refs.postDeleteAttachmentConf.show(),this.curDeleteAttachment=t},addUser:function(t){this.$store.dispatch("addUser",t)},addComment:function(t){this.showComments=!0,this.$store.dispatch("addComment",{containerNID:this.post.container.nid,comment:t})},deleteComment:function(t){this.$store.dispatch("deleteComment",{containerNID:this.post.container.nid,comment:t})},hideModal:function(){this.$refs.postDeleteAttachmentConf.hide(),this.curDeleteAttachment=null},onAttachmentDelete:function(){var t=this.curDeleteAttachment,e=this,a=this.$config.get("api.apiPostAttachmentDeleteUrl").replace("%node",e.post.nid).replace("%file",t.fid).replace("%token",this.streamOptions.token);r["default"].axios.get(a,{withCredentials:!0}).then((function(){var a=e.post.attachments.findIndex((function(e){return e.fid===t.fid}));e.post.attachments.splice(a,1)})),this.hideModal()},pollAddVote:function(t){var e=this;$t.addVote(this.post.nid,t,this.streamOptions.token,(function(t){e.post.poll=t.poll,e.updatePost(e.post,t)}),(function(){alert(e.$t("warning.error_occured_please_repeat_your_action"))}))}}),watch:{initializeForm:function(t){!0===t&&(this.streamPostFormComponent="StreamPostForm")}}},jt=Ot,Lt=(a("fa3e"),a("8383"),Object(k["a"])(jt,p,f,!1,null,"0ae0d310",null)),It=Lt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"stream-filter-form content",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 stream-filter-input-wrapper"},[a("transition",{attrs:{name:"fade"}},[t.filterWidgetVisible?a("div",{staticClass:"row"},[t.streamOptions.contextNID?t._e():a("div",{staticClass:"col-md-4"},[a("vue-typeahead-bootstrap",{ref:"context",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidContext()},attrs:{placeholder:t.$t("filter.placeholder.context"),serializer:function(t){return t.title},data:t.contexts},on:{hit:function(e){t.contextSelected=e}},model:{value:t.contextSearch,callback:function(e){t.contextSearch=e},expression:"contextSearch"}})],1),a("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[a("vue-typeahead-bootstrap",{ref:"username",staticClass:"stream-filter-context",class:{"is-invalid":t.isInValidUser()},attrs:{placeholder:t.$t("filter.placeholder.username"),serializer:function(t){return t.realname},data:t.users},on:{hit:function(e){t.userSelected=e}},model:{value:t.userSearch,callback:function(e){t.userSearch=e},expression:"userSearch"}})],1),a("div",{class:{"col-md-6":t.streamOptions.contextNID,"col-md-4":!t.streamOptions.contextNID}},[a("stream-privacy-widget",{attrs:{privacyValue:t.privacyValue,privacyOptions:t.privacyOptions},on:{interface:function(e){t.privacyValue=e}}})],1)]):t._e()])],1),a("div",{staticClass:"col-md-2 stream-filter-action-wrapper"},[a("transition",{attrs:{name:"fade"}},[t.contextSearch||t.userSearch||t.privacyValue?a("button",{staticClass:"stream-filter-reset",attrs:{type:"reset",href:"#"},on:{click:function(e){return t.resetClick()}}},[a("font-awesome-icon",{attrs:{icon:["fa","times"]}})],1):t._e()]),a("button",{staticClass:"stream-filter-submit",attrs:{type:"submit",disabled:(t.isInValidContext()||t.isInValidUser()||!t.contextSearch&&!t.userSearch&&!t.privacyValue)&&t.filterWidgetVisible},on:{click:function(e){return t.filterClick()}}},[a("font-awesome-icon",{attrs:{icon:["fa","filter"]}})],1)],1)])])},At=[],Tt=a("d726"),Ut={name:"StreamFilter",props:["streamOptions"],components:{StreamPrivacyWidget:W,VueTypeaheadBootstrap:Tt["a"]},data:function(){return{contextSearch:null,contextSelected:null,contexts:this.streamOptions.filterAvailableContexts,userSearch:null,userSelected:null,users:this.streamOptions.filterAvailableUsers,username:null,privacyValue:null,filterActive:null,filterWidgetVisible:!1,privacyOptions:this.streamOptions.privacyOptions}},methods:{onSubmit:function(){},filterClick:function(){if(this.filterWidgetVisible){var t=this.privacyValue?this.privacyValue.value:null,e={};this.contextSelected&&this.contextSearch==this.contextSelected.title&&(e.context=this.contextSelected.nid),this.userSelected&&this.userSearch==this.userSelected.realname&&(e.user=this.userSelected.uid),t&&(e.privacy=t),(this.contextSelected||this.userSelected||t)&&(this.filterActive=!0,this.$store.dispatch("setFilter",e))}else this.filterWidgetVisible=!0},isInValidContext:function(){return!(!this.contextSearch||this.contextSelected&&this.contextSearch==this.contextSelected.title)},isInValidUser:function(){return!(!this.userSearch||this.userSelected&&this.userSearch==this.userSelected.realname)},resetClick:function(){this.contextSelected=null,this.userSelected=null,this.privacyValue=null,this.contextSearch="",this.userSearch="",this.filterActive&&(this.$store.dispatch("setFilter",null),this.filterActive=null)}}},Mt=Ut,Nt=(a("aa72"),a("8fdf"),Object(k["a"])(Mt,zt,At,!1,null,"7acf19f8",null)),Vt=Nt.exports,Ft={name:"StreamList",props:["containernid","aggregated"],components:{StreamPost:It,StreamPostForm:yt,StreamFilter:Vt},data:function(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",loggedInUser:1,infiniteScrollLimit:10,maxPostsToShow:10,pollingUpdate:null,streamUpdateOnRerender:!1,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(St["d"])(["filterParams"])),Object(St["c"])(["getUser","getInitializedContainer","getSortedPosts","getStreamOptionsContainer","getPost","getbusyLoading","getbusyLoadingMore","getMaxPostsLimitReached"])),{},{streamOptions:function(){return this.getStreamOptionsContainer(this.containernid)},sortedPosts:function(){return this.getSortedPosts(this.containernid)},initialized:function(){return this.getInitializedContainer(this.containernid)}}),methods:Object(m["a"])(Object(m["a"])({},Object(St["b"])(["initializeStream","addPost","deletePost","deleteComment","addComment","addUser","loadMore","setinfiniteScrollLimit"])),{},{initialize:function(){var t=this;this.aggregated||(this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.$store.commit("setPostVisibleInViewPort",{containerNID:this.containernid,visibleInViewPort:!0})),this.initializeStream(this.containernid),document.addEventListener("nm-stream:update-model",(function(){t.streamUpdateOnRerender=!0}),!1)},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointLoadMore:function(t){var e=t.going;e===this.$waypointMap.GOING_IN&&this.loadMore(this.containernid)}}),updated:function(){var t=this;this.streamUpdateOnRerender&&this.$nextTick((function(){var e=new Event("nm-stream:update");document.dispatchEvent(e),t.streamUpdateOnRerender=!1}))},watch:{busyLoading:function(t){var e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((function(){location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)},beforeDestroy:function(){clearInterval(this.pollingUpdate)}},Et=Ft,Rt=Object(k["a"])(Et,d,u,!1,null,null,null),Bt=Rt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"stream-aggregated"}},[a("transition",{attrs:{name:"fade"}},[t.initialized?a("stream-filter",{attrs:{streamOptions:t.streamOptions}}):t._e()],1),a("pulse-loader",{attrs:{loading:!t.initialized||t.busyLoading,color:t.busyLoadingColor,size:t.busyLoadingSize}}),a("transition-group",{attrs:{name:"list"}},t._l(t.containers,(function(e){return a("div",{key:e.nid,attrs:{"data-nid":e.nid}},[a("div",{staticClass:"stream-container-label"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle"}],staticClass:"btn btn-link btn-collapse",attrs:{href:"#collapse-nid-"+e.nid,"data-target":"'#collapse-nid-' + container.nid"},on:{click:function(t){t.preventDefault()}}},[a("span",{staticClass:"when-open"},[a("font-awesome-icon",{attrs:{icon:t.iconFaArrowDown}})],1),a("span",{staticClass:"when-closed"},[a("font-awesome-icon",{attrs:{icon:t.iconFaArrowUp}})],1)]),a("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.title))]),t._v(": "),a("a",{attrs:{href:e.context_url}},[t._v(t._s(e.context_title))])],1),a("b-collapse",{staticClass:"stream-container-wrapper",attrs:{visible:"",id:"collapse-nid-"+e.nid}},[a("stream-list",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointContainer,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointContainer, options: intersectionOptions }"}],attrs:{containernid:e.nid,"data-nid":e.nid,aggregated:!0}})],1)],1)})),0),t.busyLoading?t._e():a("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:t.onWaypointLoadMore,options:t.intersectionOptions},expression:"{ active: true, callback: onWaypointLoadMore, options: intersectionOptions }"}]}),a("br"),a("pulse-loader",{attrs:{loading:!t.busyLoading&&t.getbusyLoadingMore(0),color:t.busyLoadingColor,size:t.busyLoadingSize}}),a("br")],1)},Zt=[],Wt={name:"StreamListAggregated",components:{StreamFilter:Vt,StreamList:Bt},data:function(){return{mentionMembers:[],busyLoadingColor:"#888",busyLoadingSize:"12px",maxPostsLimitReached:!1,loggedInUser:1,infiniteScrollLimit:2,iconFaArrowUp:K["c"],iconFaArrowDown:K["b"],intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}}},computed:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(St["c"])(["getStreamOptions","getInitializedContainer","getbusyLoading","getbusyLoadingMore"])),Object(St["d"])(["containers","filterParams","initialized"])),{},{busyLoading:function(){return this.getbusyLoading(0)},initialized:function(){return this.getInitializedContainer(0)},streamOptions:function(){return this.getStreamOptions()}}),methods:Object(m["a"])(Object(m["a"])({},Object(St["b"])(["initializeStreamAggregated","loadMoreContainers","setinfiniteScrollLimit"])),{},{initialize:function(){this.setinfiniteScrollLimit(this.infiniteScrollLimit),this.initializeStreamAggregated()},getMentionMembers:function(t){return this.$store.getters.getMentionMembers(t)},onWaypointContainer:function(t){var e=t.el,a=t.going,n=e.getAttribute("data-nid");a===this.$waypointMap.GOING_IN&&this.$store.commit("setPostVisibleInViewPort",{containerNID:n,visibleInViewPort:!0}),a===this.$waypointMap.GOING_OUT&&this.$store.commit("setPostVisibleInViewPort",{containerNID:n,visibleInViewPort:!1})},onWaypointLoadMore:function(t){var e=t.going;this.busyLoading||this.getbusyLoadingMore(0)||e===this.$waypointMap.GOING_IN&&this.loadMoreContainers(0)}}),watch:{busyLoading:function(t){var e=location.hash;1==this.initialized&&0==t&&e&&setTimeout((function(){location.hash="",location.hash=e}),100)}},mounted:function(){this.initialize(),window.addEventListener("dragover",(function(t){t=t||event,t.preventDefault()}),!1),window.addEventListener("drop",(function(t){t=t||event,t.preventDefault()}),!1)}},Ht=Wt,Qt=(a("52ec"),Object(k["a"])(Ht,qt,Zt,!1,null,null,null)),Kt=Qt.exports,Gt={name:"Stream",components:{StreamListAggregated:Kt,StreamList:Bt},computed:Object(St["d"])(["containerNID"]),beforeMount:function(){if(this.$root.$el.attributes["data-container-nid"]){var t=this.$root.$el.attributes["data-container-nid"].value;this.$store.commit("setcontainerNID",t)}else this.$store.commit("setcontainerNID",0)}},Jt=Gt,Xt=(a("e607"),a("5218"),Object(k["a"])(Jt,c,l,!1,null,"3fe642c3",null)),Yt=Xt.exports,te=(a("7db0"),a("fb6a"),a("3ca3"),a("ddb0"),a("2b3d"),a("d4ec")),ee=function t(){Object(te["a"])(this,t),this.privacyDefault="",this.privacyOptions=[],this.privacyOptionsAll=[],this.permissions=[],this.loggedInUser="",this.containerNID="",this.contextNID="",this.token="",this.timestamp="",this.acceptedFiles="",this.filterAvailableContexts=[],this.filterAvailableUsers=[]},ae={initializeStream:function(t,e){var a=this,n=t.params,i=t.containerNID,s={},o=kt.api.apiInitUrl.replace("%node",i);r["default"].axios.get(o,{params:n,withCredentials:!0}).then((function(t){s.posts=t.data.stream.posts,s.users=t.data.stream.users,s.comments=t.data.stream.comments,s.loggedInUser=t.data.stream.loggedInUser,s.streamOptions=a.processStreamOptions(t),e(s)}))},initializeStreamAggregated:function(t){var e=this,a={},n=kt.api.apiInitAgrUrl;r["default"].axios.get(n,{withCredentials:!0}).then((function(n){a.containers=n.data.stream.containers,a.loggedInUser=n.data.stream.loggedInUser,a.streamOptions=e.processStreamOptions(n),t(a)}))},updateStreamAggregated:function(t,e){var a=this,n=t.params,i=t.maxPostsToShow,s=t.token,o={},c=kt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",i).replace("%token",s);r["default"].axios.get(c,{params:n,withCredentials:!0}).then((function(t){o.containers=t.data.stream.containers,o.streamOptions=a.processStreamOptions(t),e(o)}))},updateStream:function(t,e){var a=t.params,n=t.maxPostsToShow,i=t.containerNID,s=t.token,o={},c=kt.api.apiPollUpdateUrl.replace("%node",i).replace("%offset",0).replace("%limit",n).replace("%token",s);r["default"].axios.get(c,{params:a,withCredentials:!0}).then((function(t){o.posts=t.data.stream.posts,o.users=t.data.stream.users,o.comments=t.data.stream.comments,o.comments=t.data.stream.comments,o.timestamp=t.data.stream.timestamp,e(o)}))},updateContextsStream:function(t,e){var a=t.params,n=t.maxPostsToShow,i=t.token,s={},o=kt.api.apiUpdateContextsUrl.replace("%offset",0).replace("%limit",n).replace("%token",i);r["default"].axios.get(o,{params:a,withCredentials:!0}).then((function(t){s.containers=t.data.stream.containers,s.timestamp=t.data.stream.timestamp,e(s)}))},processStreamOptions:function(t){var e=new ee;return e.aggregated=t.data.stream.aggregated,e.privacyOptions=t.data.stream.privacyOptions,e.privacyOptionsAll=t.data.stream.privacyOptionsAll,e.privacyDefault=t.data.stream.privacyDefault,e.permissions=t.data.stream.permissions,e.token=t.data.stream.token,e.contextNID=t.data.stream.contextNID,e.containerNID=t.data.stream.containerNID,e.timestamp=t.data.stream.timestamp,e.acceptedFiles=t.data.stream.acceptedFiles,e.filterAvailableContexts=t.data.stream.filterAvailableContexts,e.filterAvailableUsers=t.data.stream.filterAvailableUsers,e}},ne={getMentionMembers:function(t,e,a){return Object(h["a"])(regeneratorRuntime.mark((function n(){var i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=kt.api.apiUserMentionMembers.replace("%node",t),s={},n.next=4,r["default"].axios.post(i,s,{withCredentials:!0});case 4:o=n.sent,1===o.data.status?e(o.data.mention_members):a();case 6:case"end":return n.stop()}}),n)})))()}},ie=void 0;r["default"].use(St["a"]);var se=!1,oe=new St["a"].Store({state:{containerNID:0,aggregated:!1,containers:[],pollUpdateInterval:[],containersData:[{initialized:!1}],mentionMembers:[],filterParams:[],infiniteScrollLimit:3,infiniteScrollLimitContainers:2,pollingUpdate:!1,users:[]},strict:se,actions:{setinfiniteScrollLimit:function(t,e){var a=t.commit;a("setinfiniteScrollLimit",e)},initializeStream:function(t,e){var a=t.commit,n=t.dispatch,i=t.getters;a("setBusy",{containerNID:e,busy:!0});var s=i.getFilterParams();ae.initializeStream({params:s,containerNID:e},(function(t){a("initializeStream",{containerNID:e,data:t}),t.users.forEach((function(t){n("addUser",t)})),a("setBusy",{containerNID:e,busy:!1}),a("setBusyMore",{containerNID:e,busy:!1});var i=new Event("nm-stream:update-model");document.dispatchEvent(i)})),n("pollUpdate",e)},initializeStreamAggregated:function(t){var e=t.state,a=t.commit,n=t.dispatch;e.containersData[0]={},a("setMaxToShow",{containerNID:0,maxToShow:e.infiniteScrollLimitContainers}),a("setBusy",{containerNID:0,busy:!0}),ae.initializeStreamAggregated((function(t){a("initializeStreamAggregated",t),a("setBusy",{containerNID:0,busy:!1}),a("setBusyMore",{containerNID:0,busy:!1})})),n("pollUpdate",0)},updateStreamAggregated:function(t){var e=t.state,a=t.commit,n=t.getters;if(e.containersData[0].initialized){var i=e.containersData[0].streamOptions.token;if(i){var s=n.getFilterParams(),o=e.containersData[0].maxPostsToShow;a("setBusy",{containerNID:0,busy:!0}),ae.updateStreamAggregated({params:s,maxContainersToShow:o,token:i},(function(t){a("updateContainers",t),a("setBusy",{containerNID:0,busy:!1})}))}}},updateStream:function(t,e){var a=t.dispatch,n=t.commit,i=t.getters,s=t.state;if(s.containersData[e]&&s.containersData[e].initialized&&!s.containersData[e].busyLoading&&!s.containersData[e].busyLoadingMore){var o=s.containersData[e].maxPostsToShow,r=s.containersData[e].streamOptions.token;if(r){var c=i.getFilterParams();ae.updateStream({params:c,maxPostsToShow:o,containerNID:e,token:r},(function(t){s.containersData[e].busyLoadingMore&&(n("setMaxPostsLimitReached",{containerNID:e,maxPostsLimitReached:s.containersData[e].posts.length>=t.posts.length}),n("setBusyMore",{containerNID:e,busy:!1})),n("setBusy",{containerNID:e,busy:!1}),n("updateStream",{containerNID:e,data:t}),t.users.forEach((function(t){a("addUser",t)}));var i=new Event("nm-stream:update-model");document.dispatchEvent(i)}))}}},updateContainers:function(t){var e=t.getters,a=t.state,n=t.commit,i=a.containersData[0].maxPostsToShow,s=e.getStreamOptions().token;if(s){var o=e.getFilterParams();ae.updateContextsStream({params:o,maxPostsToShow:i,token:s},(function(t){a.containersData[0].busyLoadingMore&&n("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:a.containers.length>=t.containers.length}),n("setBusy",{containerNID:0,busy:!1}),n("setBusyMore",{containerNID:0,busy:!1}),n("updateContainers",t)}))}},addPost:function(t,e){var a=t.commit;a("addPost",e);var n=new Event("nm-stream:update-model");document.dispatchEvent(n)},updatePost:function(t,e){var a=t.commit;a("updatePost",e);var n=new Event("nm-stream:update-model");document.dispatchEvent(n)},updateAttachments:function(t,e){var a=t.commit;a("updateAttachments",e)},deletePost:function(t,e){var a=t.commit;a("deletePost",e)},deleteComment:function(t,e){var a=t.commit;a("deleteComment",e)},addComment:function(t,e){var a=t.commit;a("addComment",e);var n=new Event("nm-stream:update-model");document.dispatchEvent(n)},updateComment:function(t,e){var a=t.commit;a("updateComment",e);var n=new Event("nm-stream:update-model");document.dispatchEvent(n)},addUser:function(t,e){var a=t.commit,n=t.getters;n.getUser(e.uid)||a("addUser",e)},setFilter:function(t,e){var a=t.commit,n=t.state,i=t.dispatch;a("setFilter",e),n.containersData[0].streamOptions&&n.aggregated?(a("setMaxPostsLimitReached",{containerNID:0,maxPostsLimitReached:!1}),i("updateStreamAggregated"),a("setBusy",{containerNID:0,busy:!0})):(clearInterval(n.pollUpdateInterval),a("setMaxPostsLimitReached",{containerNID:n.containerNID,maxPostsLimitReached:!1}),i("pollUpdate",n.containerNID),a("setBusy",{containerNID:n.containerNID,busy:!0}))},loadMore:function(t,e){var a=t.commit,n=t.state,i=t.dispatch;if(!n.containersData[e]||!n.containersData[e].initialized||n.containersData[e].busyLoadingMore||n.containersData[e].maxPostsLimitReached)return!1;var s=n.infiniteScrollLimit;a("setMaxToShow",{containerNID:e,maxToShow:n.containersData[e].maxPostsToShow+s}),i("updateStream",e),a("setBusyMore",{containerNID:e,busy:!0})},loadMoreContainers:function(t,e){var a=t.commit,n=t.dispatch,i=t.state;if(!i.containersData[e]||!i.containersData[e].initialized||i.containersData[e].busyLoadingMore||i.containersData[e].busyLoading||i.containersData[e].maxPostsLimitReached)return!1;a("setBusyMore",{containerNID:0,busy:!0}),a("setMaxToShow",{containerNID:e,maxToShow:i.containersData[e].maxPostsToShow+i.infiniteScrollLimitContainers}),n("updateContainers")},pollUpdate:function(t,e){var a=t.dispatch,n=t.commit,i=t.state;i.pollUpdateInterval[e]&&clearInterval(i.pollUpdateInterval[e]),a("updateStream",e);var s=setInterval((function(){var t=document.hasFocus();!t||i.containersData[e]&&!i.containersData[e].visibleInViewPort||a("updateStream",e)}),5e3);n("setPollUpdateInterval",{containerNID:e,pollUpdateInterval:s})}},getters:{getbusyLoading:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].busyLoading}},getbusyLoadingMore:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].busyLoadingMore}},getInitializedContainer:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].initialized}},getStreamOptions:function(t){return function(){var e=0;return!!t.containersData[e]&&t.containersData[e].streamOptions}},getStreamOptionsContainer:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].streamOptions}},getSortedPosts:function(t){return function(e){var a=r["default"]._.chain(t.containersData[e].posts).sortBy("created").sortBy("sticky").reverse().value(),n=a.slice(0,t.containersData[e].maxPostsToShow);return n}},getPost:function(t,e){return function(a,n){if(!t.containersData[a].posts)return null;var i=t.containersData[a].posts.filter((function(t){return t.nid===n}))[0],s=i;return s.user=e.getUser(s.uid),s}},getUser:function(t){return function(e){return t.users.find((function(t){return t.uid===e}))}},getPostComments:function(t,e){return function(a,n){var i=t.containersData[a].comments.filter((function(t){return t.nid===n}));if(i&&i.length>0)for(var s in i)i[s].user=e.getUser(i[s].uid);return i}},getFilterParams:function(t){return function(){var e=new URLSearchParams;return t.filterParams&&(t.filterParams.context&&e.append("context_nid",t.filterParams.context),t.filterParams.user&&e.append("user_uid",t.filterParams.user),t.filterParams.privacy&&e.append("privacy_key",t.filterParams.privacy)),e}},getMentionMembers:function(t){return function(e){return t.mentionMembers[e]?t.mentionMembers[e]:(t.mentionMembers[e]=[],ne.getMentionMembers(e,(function(a){t.mentionMembers[e]=a}),(function(){console.error(ie.$t("warning.error_occured_please_repeat_your_action"))})),t.mentionMembers)}},getMaxPostsLimitReached:function(t){return function(e){return!!t.containersData[e]&&t.containersData[e].maxPostsLimitReached}}},mutations:{setcontainerNID:function(t,e){e||(t.aggregated=!0),t.containerNID=e},initializeStream:function(t,e){var a=e.containerNID,n=e.data;t.containersData[a]||(t.containersData[a]={}),t.containersData[a].posts=n.posts,t.containersData[a].comments=n.comments,t.containersData[a].streamOptions=n.streamOptions,t.containersData[a].initialized=!0,t.containersData[a].maxPostsToShow=t.infiniteScrollLimit,t.containersData=t.containersData.slice(0)},initializeStreamAggregated:function(t,e){t.containers=e.containers.slice(0,t.infiniteScrollLimit),t.containersData[0].streamOptions=e.streamOptions,t.containersData[0].initialized=!0},updateContainers:function(t,e){t.containers=e.containers,t.containersData[0].streamOptions.timestamp=e.timestamp},updateStream:function(t,e){var a=e.containerNID,n=e.data;t.containersData[a].posts=n.posts,t.containersData[a].comments=n.comments,t.containersData[a].streamOptions.timestamp=n.timestamp,t.containersData=t.containersData.slice(0)},addPost:function(t,e){t.containersData[e.container.nid].posts.push(e),t.containersData[e.container.nid].maxPostsToShow++,t.containersData=t.containersData.slice(0)},updatePost:function(t,e){var a=e.container.nid,n=t.containersData[a].posts.indexOf(e);n>-1&&(t.containersData[a].posts[n]=e,t.containersData=t.containersData.slice(0))},updateAttachments:function(t,e){var a=e.container.nid,n=t.containersData[a].posts.filter((function(t){return t.nid===e.nid}))[0];n&&(n.attachments=e.attachments,t.containersData=t.containersData.slice(0))},deletePost:function(t,e){var a=e.container.nid,n=t.containersData[a].posts.indexOf(e);n>-1&&t.containersData[a].posts.splice(n,1),t.containersData=t.containersData.slice(0)},updatePosts:function(t,e){var a=e.containerNID,n=e.posts;t.containersData[a].posts=n,t.containersData=t.containersData.slice(0)},addComment:function(t,e){var a=e.containerNID,n=e.comment;t.containersData[a].comments.push(n),t.containersData=t.containersData.slice(0)},updateComment:function(t,e){var a=e.containerNID,n=e.comment,i=t.containersData[a].comments.indexOf(n);i>-1&&(t.containersData[a].comments[i]=n,t.containersData=t.containersData.slice(0))},deleteComment:function(t,e){var a=e.containerNID,n=e.comment,i=t.containersData[a].comments.indexOf(n);i>-1&&t.containersData[a].comments.splice(i,1),t.containersData=t.containersData.slice(0)},updateComments:function(t,e){var a=e.containerNID,n=e.comments;t.containersData[a].comments=n,t.containersData=t.containersData.slice(0)},addUser:function(t,e){t.users.push(e)},updateUsers:function(t,e){t.users=e},updateInitialized:function(t,e){var a=e.containerNID,n=e.initialized;t.containersData[a].initialized=n,t.containersData=t.containersData.slice(0)},setFilter:function(t,e){t.filterParams=e},setBusy:function(t,e){var a=e.containerNID,n=e.busy;t.containersData[a]||(t.containersData[a]={}),t.containersData[a].busyLoading=n,t.containersData=t.containersData.slice(0)},setPostVisibleInViewPort:function(t,e){var a=e.containerNID,n=e.visibleInViewPort;t.containersData[a]||(t.containersData[a]={}),t.containersData[a].visibleInViewPort=n},setBusyMore:function(t,e){var a=e.containerNID,n=e.busy;t.containersData[a].busyLoadingMore=n,t.containersData=t.containersData.slice(0)},setMaxToShow:function(t,e){var a=e.containerNID,n=e.maxToShow;t.containersData[a].maxPostsToShow=n,t.containersData=t.containersData.slice(0)},setPollingUpdate:function(t,e){var a=e.containerNID,n=e.pollingUpdate;t.containersData[a].pollingUpdate=n,t.containersData=t.containersData.slice(0)},setMaxPostsLimitReached:function(t,e){var a=e.containerNID,n=e.maxPostsLimitReached;t.containersData[a].maxPostsLimitReached=n,t.containersData=t.containersData.slice(0)},setinfiniteScrollLimit:function(t,e){t.infiniteScrollLimit=e},setPollUpdateInterval:function(t,e){var a=e.containerNID,n=e.pollUpdateInterval;t.pollUpdateInterval[a]=n}}}),re=a("5f5b"),ce=a("ea44"),le=a("9955"),de=a.n(le),ue=a("2ef0"),me=a.n(ue),pe=a("8e5f"),fe=a("ecee"),he=a("b702"),ve=a("ad3d"),ge=a("a925"),be=a("bc3a"),ye=a.n(be),_e=a("a7fe"),Ce=a.n(_e),De=a("141d"),xe=a.n(De),we=a("57c8"),Pe=a("7df5"),ke=a.n(Pe),$e=a("8a5d"),Se=a("e30a"),Oe=a.n(Se),je=a("d740"),Le=a.n(je),Ie=(a("e607e"),a("bffd"));a("b40d");r["default"].config.productionTip=!1,fe["c"].add(he["b"],he["c"],he["d"],K["a"],K["f"],K["e"],K["g"],he["a"]),r["default"].component("font-awesome-icon",ve["a"]),r["default"].component("pulse-loader",$e["a"]),r["default"].component("multiselect",pe["Multiselect"]),r["default"].config.productionTip=!1,r["default"].use(re["a"]),r["default"].use(de.a,{name:"custom",lodash:me.a}),r["default"].use(ge["a"]),r["default"].use(Ce.a,ye.a),r["default"].use(we["a"],{config:kt}),r["default"].component("nl2br",xe.a),r["default"].use(ke.a),r["default"].use(ce["a"]),r["default"].use(Le.a);var ze=a("c1df");a("b469"),r["default"].use(a("2ead"),{moment:ze}),r["default"].component("VueCtkDateTimePicker",Oe.a),r["default"].component("vue-typeahead-bootstrap",Tt["a"]);var Ae=new ge["a"]({locale:"de",messages:Ie});window.stream=new r["default"]({i18n:Ae,store:oe,render:function(t){return t(Yt)}}).$mount("#stream")},6709:function(t,e,a){"use strict";var n=a("9dfc"),i=a.n(n);i.a},"6d5f":function(t,e,a){},8383:function(t,e,a){"use strict";var n=a("cf1f"),i=a.n(n);i.a},8725:function(t,e,a){},"8fdf":function(t,e,a){"use strict";var n=a("8725"),i=a.n(n);i.a},"95bc":function(t,e,a){"use strict";var n=a("06a5"),i=a.n(n);i.a},"98d9":function(t,e,a){},"9dfc":function(t,e,a){},a366:function(t,e,a){"use strict";var n=a("443a"),i=a.n(n);i.a},aa4f:function(t,e,a){},aa72:function(t,e,a){"use strict";var n=a("aee1"),i=a.n(n);i.a},aee1:function(t,e,a){},bffd:function(t){t.exports=JSON.parse('{"de":{"placeholder":{"your_post_message":"Ihre Nachricht","your_comment_message":"Ihr Kommentar"},"label":{"attachments":"Anhnge","upload_files":"Dateien hochladen","attachment_delete":"Anhang lschen","dictDefaultMessage":"<i class=\'fa fa-cloud-upload\'></i> Dateien hochladen","dictFallbackMessage":"Ihr Browser untersttzt leider keinen Upload","dictInvalidFileType":"Dieser Dateityp wird nicht untersttzt","dictCancelUpload":"Upload abbrechen","dictUploadCanceled":"Der Upload wurde abgebrochen","dictCancelUploadConfirmation":"Upload wirklich abbrechen?","dictRemoveFile":"Entfernen","customdictFileTooBig":"Diese Datei ist zu gro. Maximale Gre: {{maxFilesize}} MB.","nmDictHideFile":"Verstecken","dictMaxFilesExceeded":"Das Uploadlimit von {{maxFiles}} wurde berschritten","postContextFrom":"Beitrag aus","edited":"bearbeitet","load_more":"mehr laden..."},"link":{"show_x_comments":"{count} Kommentare anzeigen","hide_x_comments":"{count} Kommentare verstecken"},"button":{"cancel":"Abbrechen","post":"Speichern","edit":"Bearbeiten","delete":"Lschen","select_privacy":"Sichtbarkeit festlegen","delete_attachment":"Anhang lschen"},"warning":{"delete_post_really_want_to":"Mchten Sie den Beitrag wirklich lschen?","delete_attachment_really_want_to":"Mchten Sie den Anhang wirklich lschen?","delete_post_action_cannot_be_undone":"Sie sind dabei einen Beitrag zu lschen. Diese Aktion kann nicht rckgngig gemacht werden.","delete_comment_really_want_to":"Mchten Sie den Kommentar wirklich lschen?","delete_comment_action_cannot_be_undone":"Sie sind dabei einen Kommentar zu lschen. Diese Aktion kann nicht rckgngig gemacht werden.","error_occured_please_repeat_your_action":"Es ist ein Fehler aufgetreten, bitte wiederholen Sie Ihre letzte Aktion."},"empty":{"no_posts_found":"Keine Beitrge"},"plugins":{"sticky":{"title":"Beitrag anheften","status_title":"Beitrag angeheftet"},"poll":{"title":"Umfrage starten","new_poll":"Neue Umfrage starten","your_question":"Die Frage..","answer":"Antwort","allow_multiple_votes":"Mehrere Antworten erlauben","submit":"Abstimmen","viewResults":"Zwischenergebnis ansehen","save":"Speichern","create":"Erstellen","delete":"Lschen","cancel":"Abbrechen","status_created":"Erstellt","status_error":"Fehler","vote":"Stimme","votes":"Stimmen","participant":"Teilnahme","participants":"Teilnahmen","participated":"teilgenommen","pollEndDateLabel":"Ende der Umfrage festlegen","pollEndDateDescription":"Wird dieses Feld gesetzt, so ist ab diesem Zeitpunkt keine Abstimmung mehr mglich. Es wird das Umfrageergebnis angezeigt."}},"filter":{"placeholder":{"context":"Kurs/Lehrtext","username":"Person","privacy":"Privatsphre"}}}}')},c187:function(t,e,a){"use strict";var n=a("98d9"),i=a.n(n);i.a},c8c2:function(t,e,a){"use strict";var n=a("f034"),i=a.n(n);i.a},cf1f:function(t,e,a){},d076:function(t,e,a){},d9d9:function(t,e,a){},da08:function(t,e,a){},e607:function(t,e,a){"use strict";var n=a("d076"),i=a.n(n);i.a},f034:function(t,e,a){},f58e:function(t,e,a){},f71b:function(t,e,a){},fa3e:function(t,e,a){"use strict";var n=a("1a5c"),i=a.n(n);i.a}});
//# sourceMappingURL=app.js.map